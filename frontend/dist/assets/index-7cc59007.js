function Y0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sg={exports:{}},Zo={},ag={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),G0=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),hh=Symbol.iterator;function iw(e){return e===null||typeof e!="object"?null:(e=hh&&e[hh]||e["@@iterator"],typeof e=="function"?e:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,cg={};function Oi(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||og}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ug(){}ug.prototype=Oi.prototype;function Pd(e,t,n){this.props=e,this.context=t,this.refs=cg,this.updater=n||og}var Od=Pd.prototype=new ug;Od.constructor=Pd;lg(Od,Oi.prototype);Od.isPureReactComponent=!0;var ph=Array.isArray,dg=Object.prototype.hasOwnProperty,Ld={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)dg.call(t,r)&&!fg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Hs,type:e,key:a,ref:o,props:s,_owner:Ld.current}}function sw(e,t){return{$$typeof:Hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hs}function aw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mh=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aw(""+e.key):t.toString(36)}function La(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hs:case G0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+zl(o,0):r,ph(s)?(n="",e!=null&&(n=e.replace(mh,"$&/")+"/"),La(s,t,n,"",function(u){return u})):s!=null&&(Id(s)&&(s=sw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ph(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+zl(a,l);o+=La(a,t,n,c,s)}else if(c=iw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+zl(a,l++),o+=La(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function da(e,t,n){if(e==null)return e;var r=[],s=0;return La(e,r,"","",function(a){return t.call(n,a,s++)}),r}function ow(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Ia={transition:null},lw={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ia,ReactCurrentOwner:Ld};function pg(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:da,forEach:function(e,t,n){da(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return da(e,function(){t++}),t},toArray:function(e){return da(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Oi;be.Fragment=K0;be.Profiler=J0;be.PureComponent=Pd;be.StrictMode=Q0;be.Suspense=tw;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;be.act=pg;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lg({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dg.call(t,c)&&!fg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Hs,type:e.type,key:s,ref:a,props:r,_owner:o}};be.createContext=function(e){return e={$$typeof:Z0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X0,_context:e},e.Consumer=e};be.createElement=hg;be.createFactory=function(e){var t=hg.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:ew,render:e}};be.isValidElement=Id;be.lazy=function(e){return{$$typeof:rw,_payload:{_status:-1,_result:e},_init:ow}};be.memo=function(e,t){return{$$typeof:nw,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ia.transition;Ia.transition={};try{e()}finally{Ia.transition=t}};be.unstable_act=pg;be.useCallback=function(e,t){return Nt.current.useCallback(e,t)};be.useContext=function(e){return Nt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Nt.current.useEffect(e,t)};be.useId=function(){return Nt.current.useId()};be.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Nt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};be.useRef=function(e){return Nt.current.useRef(e)};be.useState=function(e){return Nt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Nt.current.useTransition()};be.version="18.3.1";ag.exports=be;var E=ag.exports;const fe=Pi(E),cw=Y0({__proto__:null,default:fe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=E,dw=Symbol.for("react.element"),fw=Symbol.for("react.fragment"),hw=Object.prototype.hasOwnProperty,pw=uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mw={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hw.call(t,r)&&!mw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dw,type:e,key:a,ref:o,props:s,_owner:pw.current}}Zo.Fragment=fw;Zo.jsx=mg;Zo.jsxs=mg;sg.exports=Zo;var i=sg.exports,gg={exports:{}},$t={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,te){var ne=J.length;J.push(te);e:for(;0<ne;){var he=ne-1>>>1,O=J[he];if(0<s(O,te))J[he]=te,J[ne]=O,ne=he;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var te=J[0],ne=J.pop();if(ne!==te){J[0]=ne;e:for(var he=0,O=J.length,$=O>>>1;he<$;){var U=2*(he+1)-1,se=J[U],I=U+1,F=J[I];if(0>s(se,ne))I<O&&0>s(F,se)?(J[he]=F,J[I]=ne,he=I):(J[he]=se,J[U]=ne,he=U);else if(I<O&&0>s(F,ne))J[he]=F,J[I]=ne,he=I;else break e}}return te}function s(J,te){var ne=J.sortIndex-te.sortIndex;return ne!==0?ne:J.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],p=1,g=null,w=3,S=!1,N=!1,j=!1,m=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(J){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=J)r(u),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(u)}}function b(J){if(j=!1,y(J),!N)if(n(c)!==null)N=!0,re(C);else{var te=n(u);te!==null&&ue(b,te.startTime-J)}}function C(J,te){N=!1,j&&(j=!1,d(k),k=-1),S=!0;var ne=w;try{for(y(te),g=n(c);g!==null&&(!(g.expirationTime>te)||J&&!q());){var he=g.callback;if(typeof he=="function"){g.callback=null,w=g.priorityLevel;var O=he(g.expirationTime<=te);te=e.unstable_now(),typeof O=="function"?g.callback=O:g===n(c)&&r(c),y(te)}else r(c);g=n(c)}if(g!==null)var $=!0;else{var U=n(u);U!==null&&ue(b,U.startTime-te),$=!1}return $}finally{g=null,w=ne,S=!1}}var A=!1,x=null,k=-1,D=5,B=-1;function q(){return!(e.unstable_now()-B<D)}function L(){if(x!==null){var J=e.unstable_now();B=J;var te=!0;try{te=x(!0,J)}finally{te?Q():(A=!1,x=null)}}else A=!1}var Q;if(typeof f=="function")Q=function(){f(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ce=le.port2;le.port1.onmessage=L,Q=function(){ce.postMessage(null)}}else Q=function(){m(L,0)};function re(J){x=J,A||(A=!0,Q())}function ue(J,te){k=m(function(){J(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){N||S||(N=!0,re(C))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(J){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var ne=w;w=te;try{return J()}finally{w=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,te){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=w;w=J;try{return te()}finally{w=ne}},e.unstable_scheduleCallback=function(J,te,ne){var he=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,J){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ne+O,J={id:p++,callback:te,priorityLevel:J,startTime:ne,expirationTime:O,sortIndex:-1},ne>he?(J.sortIndex=ne,t(u,J),n(c)===null&&J===n(u)&&(j?(d(k),k=-1):j=!0,ue(b,ne-he))):(J.sortIndex=O,t(c,J),N||S||(N=!0,re(C))),J},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(J){var te=w;return function(){var ne=w;w=te;try{return J.apply(this,arguments)}finally{w=ne}}}})(yg);vg.exports=yg;var gw=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=E,Mt=gw;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,ys={};function Fr(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(ys[e]=t,e=0;e<t.length;e++)xg.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,yw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gh={},vh={};function xw(e){return Kc.call(vh,e)?!0:Kc.call(gh,e)?!1:yw.test(e)?vh[e]=!0:(gh[e]=!0,!1)}function ww(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jw(e,t,n,r){if(t===null||typeof t>"u"||ww(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fd=/[\-:]([a-z])/g;function Bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fd,Bd);pt[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fd,Bd);pt[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fd,Bd);pt[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function Md(e,t,n,r){var s=pt.hasOwnProperty(t)?pt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jw(t,n,s,r)&&(n=null),r||s===null?xw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),bg=Symbol.for("react.offscreen"),yh=Symbol.iterator;function qi(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Vl;function rs(e){if(Vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var Wl=!1;function Hl(e,t){if(!e||Wl)return"";Wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function bw(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Zc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Jr:return"Portal";case Qc:return"Profiler";case $d:return"StrictMode";case Jc:return"Suspense";case Xc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jg:return(e.displayName||"Context")+".Consumer";case wg:return(e._context.displayName||"Context")+".Provider";case Ud:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zd:return t=e.displayName||null,t!==null?t:Zc(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Zc(e(t))}catch{}}return null}function Nw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zc(t);case 8:return t===$d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ng(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sw(e){var t=Ng(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=Sw(e))}function Sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ng(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eu(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=or(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eg(e,t){t=t.checked,t!=null&&Md(e,"checked",t,!1)}function tu(e,t){Eg(e,t);var n=or(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nu(e,t.type,n):t.hasOwnProperty("defaultValue")&&nu(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nu(e,t,n){(t!=="number"||fo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var is=Array.isArray;function hi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+or(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(is(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:or(n)}}function _g(e,t){var n=or(t.value),r=or(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pa,kg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ew=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){Ew.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function Ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function Tg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ag(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _w=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(e,t){if(t){if(_w[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function Vd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lu=null,pi=null,mi=null;function Nh(e){if(e=Gs(e)){if(typeof lu!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=il(t),lu(e.stateNode,e.type,t))}}function Rg(e){pi?mi?mi.push(e):mi=[e]:pi=e}function Dg(){if(pi){var e=pi,t=mi;if(mi=pi=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function Pg(e,t){return e(t)}function Og(){}var ql=!1;function Lg(e,t,n){if(ql)return e(t,n);ql=!0;try{return Pg(e,t,n)}finally{ql=!1,(pi!==null||mi!==null)&&(Og(),Dg())}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var r=il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var cu=!1;if(Dn)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{cu=!1}function Cw(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var us=!1,ho=null,po=!1,uu=null,kw={onError:function(e){us=!0,ho=e}};function Aw(e,t,n,r,s,a,o,l,c){us=!1,ho=null,Cw.apply(kw,arguments)}function Tw(e,t,n,r,s,a,o,l,c){if(Aw.apply(this,arguments),us){if(us){var u=ho;us=!1,ho=null}else throw Error(ee(198));po||(po=!0,uu=u)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sh(e){if(Br(e)!==e)throw Error(ee(188))}function Rw(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Sh(s),e;if(a===r)return Sh(s),t;a=a.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Fg(e){return e=Rw(e),e!==null?Bg(e):null}function Bg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bg(e);if(t!==null)return t;e=e.sibling}return null}var Mg=Mt.unstable_scheduleCallback,Eh=Mt.unstable_cancelCallback,Dw=Mt.unstable_shouldYield,Pw=Mt.unstable_requestPaint,Ze=Mt.unstable_now,Ow=Mt.unstable_getCurrentPriorityLevel,Wd=Mt.unstable_ImmediatePriority,$g=Mt.unstable_UserBlockingPriority,mo=Mt.unstable_NormalPriority,Lw=Mt.unstable_LowPriority,Ug=Mt.unstable_IdlePriority,el=null,wn=null;function Iw(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Mw,Fw=Math.log,Bw=Math.LN2;function Mw(e){return e>>>=0,e===0?32:31-(Fw(e)/Bw|0)|0}var ma=64,ga=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function go(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ss(l):(a&=o,a!==0&&(r=ss(a)))}else o=n&~s,o!==0?r=ss(o):a!==0&&(r=ss(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),s=1<<n,r|=e[n],t&=~s;return r}function $w(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-on(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=$w(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zg(){var e=ma;return ma<<=1,!(ma&4194240)&&(ma=64),e}function Yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function zw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-on(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Te=0;function Vg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wg,qd,Hg,qg,Yg,fu=!1,va=[],Jn=null,Xn=null,Zn=null,js=new Map,bs=new Map,Hn=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Gi(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&qd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ww(e,t,n,r,s){switch(t){case"focusin":return Jn=Gi(Jn,e,t,n,r,s),!0;case"dragenter":return Xn=Gi(Xn,e,t,n,r,s),!0;case"mouseover":return Zn=Gi(Zn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return js.set(a,Gi(js.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,bs.set(a,Gi(bs.get(a)||null,e,t,n,r,s)),!0}return!1}function Gg(e){var t=jr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=Ig(n),t!==null){e.blockedOn=t,Yg(e.priority,function(){Hg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ou=r,n.target.dispatchEvent(r),ou=null}else return t=Gs(n),t!==null&&qd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ch(e,t,n){Fa(e)&&n.delete(t)}function Hw(){fu=!1,Jn!==null&&Fa(Jn)&&(Jn=null),Xn!==null&&Fa(Xn)&&(Xn=null),Zn!==null&&Fa(Zn)&&(Zn=null),js.forEach(Ch),bs.forEach(Ch)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,fu||(fu=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Hw)))}function Ns(e){function t(s){return Ki(s,e)}if(0<va.length){Ki(va[0],e);for(var n=1;n<va.length;n++){var r=va[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&Ki(Jn,e),Xn!==null&&Ki(Xn,e),Zn!==null&&Ki(Zn,e),js.forEach(t),bs.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Gg(n),n.blockedOn===null&&Hn.shift()}var gi=Fn.ReactCurrentBatchConfig,vo=!0;function qw(e,t,n,r){var s=Te,a=gi.transition;gi.transition=null;try{Te=1,Yd(e,t,n,r)}finally{Te=s,gi.transition=a}}function Yw(e,t,n,r){var s=Te,a=gi.transition;gi.transition=null;try{Te=4,Yd(e,t,n,r)}finally{Te=s,gi.transition=a}}function Yd(e,t,n,r){if(vo){var s=hu(e,t,n,r);if(s===null)rc(e,t,r,yo,n),_h(e,r);else if(Ww(s,e,t,n,r))r.stopPropagation();else if(_h(e,r),t&4&&-1<Vw.indexOf(e)){for(;s!==null;){var a=Gs(s);if(a!==null&&Wg(a),a=hu(e,t,n,r),a===null&&rc(e,t,r,yo,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else rc(e,t,r,null,n)}}var yo=null;function hu(e,t,n,r){if(yo=null,e=Vd(r),e=jr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yo=e,null}function Kg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ow()){case Wd:return 1;case $g:return 4;case mo:case Lw:return 16;case Ug:return 536870912;default:return 16}default:return 16}}var Yn=null,Gd=null,Ba=null;function Qg(){if(Ba)return Ba;var e,t=Gd,n=t.length,r,s="value"in Yn?Yn.value:Yn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Ba=s.slice(e,1<r?1-r:void 0)}function Ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function kh(){return!1}function Ut(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ya:kh,this.isPropagationStopped=kh,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=Ut(Li),Ys=Ke({},Li,{view:0,detail:0}),Gw=Ut(Ys),Gl,Kl,Qi,tl=Ke({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(Gl=e.screenX-Qi.screenX,Kl=e.screenY-Qi.screenY):Kl=Gl=0,Qi=e),Gl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Ah=Ut(tl),Kw=Ke({},tl,{dataTransfer:0}),Qw=Ut(Kw),Jw=Ke({},Ys,{relatedTarget:0}),Ql=Ut(Jw),Xw=Ke({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=Ut(Xw),ej=Ke({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tj=Ut(ej),nj=Ke({},Li,{data:0}),Th=Ut(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ij={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sj[e])?!!t[e]:!1}function Qd(){return aj}var oj=Ke({},Ys,{key:function(e){if(e.key){var t=rj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ij[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lj=Ut(oj),cj=Ke({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=Ut(cj),uj=Ke({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),dj=Ut(uj),fj=Ke({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=Ut(fj),pj=Ke({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=Ut(pj),gj=[9,13,27,32],Jd=Dn&&"CompositionEvent"in window,ds=null;Dn&&"documentMode"in document&&(ds=document.documentMode);var vj=Dn&&"TextEvent"in window&&!ds,Jg=Dn&&(!Jd||ds&&8<ds&&11>=ds),Dh=String.fromCharCode(32),Ph=!1;function Xg(e,t){switch(e){case"keyup":return gj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zr=!1;function yj(e,t){switch(e){case"compositionend":return Zg(t);case"keypress":return t.which!==32?null:(Ph=!0,Dh);case"textInput":return e=t.data,e===Dh&&Ph?null:e;default:return null}}function xj(e,t){if(Zr)return e==="compositionend"||!Jd&&Xg(e,t)?(e=Qg(),Ba=Gd=Yn=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jg&&t.locale!=="ko"?null:t.data;default:return null}}var wj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wj[e.type]:t==="textarea"}function ev(e,t,n,r){Rg(r),t=xo(t,"onChange"),0<t.length&&(n=new Kd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Ss=null;function jj(e){dv(e,0)}function nl(e){var t=ni(e);if(Sg(t))return e}function bj(e,t){if(e==="change")return t}var tv=!1;if(Dn){var Jl;if(Dn){var Xl="oninput"in document;if(!Xl){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Xl=typeof Lh.oninput=="function"}Jl=Xl}else Jl=!1;tv=Jl&&(!document.documentMode||9<document.documentMode)}function Ih(){fs&&(fs.detachEvent("onpropertychange",nv),Ss=fs=null)}function nv(e){if(e.propertyName==="value"&&nl(Ss)){var t=[];ev(t,Ss,e,Vd(e)),Lg(jj,t)}}function Nj(e,t,n){e==="focusin"?(Ih(),fs=t,Ss=n,fs.attachEvent("onpropertychange",nv)):e==="focusout"&&Ih()}function Sj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(Ss)}function Ej(e,t){if(e==="click")return nl(t)}function _j(e,t){if(e==="input"||e==="change")return nl(t)}function Cj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Cj;function Es(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kc.call(t,s)||!un(e[s],t[s]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var n=Fh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fh(n)}}function rv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iv(){for(var e=window,t=fo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fo(e.document)}return t}function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kj(e){var t=iv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rv(n.ownerDocument.documentElement,n)){if(r!==null&&Xd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Bh(n,a);var o=Bh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Aj=Dn&&"documentMode"in document&&11>=document.documentMode,ei=null,pu=null,hs=null,mu=!1;function Mh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mu||ei==null||ei!==fo(r)||(r=ei,"selectionStart"in r&&Xd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&Es(hs,r)||(hs=r,r=xo(pu,"onSelect"),0<r.length&&(t=new Kd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ei)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ti={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Zl={},sv={};Dn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function rl(e){if(Zl[e])return Zl[e];if(!ti[e])return e;var t=ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sv)return Zl[e]=t[n];return e}var av=rl("animationend"),ov=rl("animationiteration"),lv=rl("animationstart"),cv=rl("transitionend"),uv=new Map,$h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){uv.set(e,t),Fr(t,[e])}for(var ec=0;ec<$h.length;ec++){var tc=$h[ec],Tj=tc.toLowerCase(),Rj=tc[0].toUpperCase()+tc.slice(1);cr(Tj,"on"+Rj)}cr(av,"onAnimationEnd");cr(ov,"onAnimationIteration");cr(lv,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(cv,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dj=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Uh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tw(r,t,void 0,e),e.currentTarget=null}function dv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Uh(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Uh(s,l,u),a=c}}}if(po)throw e=uu,po=!1,uu=null,e}function Me(e,t){var n=t[wu];n===void 0&&(n=t[wu]=new Set);var r=e+"__bubble";n.has(r)||(fv(t,e,2,!1),n.add(r))}function nc(e,t,n){var r=0;t&&(r|=4),fv(n,e,r,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[wa]){e[wa]=!0,xg.forEach(function(n){n!=="selectionchange"&&(Dj.has(n)||nc(n,!1,e),nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,nc("selectionchange",!1,t))}}function fv(e,t,n,r){switch(Kg(t)){case 1:var s=qw;break;case 4:s=Yw;break;default:s=Yd}n=s.bind(null,t,n,e),s=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rc(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jr(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Lg(function(){var u=a,p=Vd(n),g=[];e:{var w=uv.get(e);if(w!==void 0){var S=Kd,N=e;switch(e){case"keypress":if(Ma(n)===0)break e;case"keydown":case"keyup":S=lj;break;case"focusin":N="focus",S=Ql;break;case"focusout":N="blur",S=Ql;break;case"beforeblur":case"afterblur":S=Ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=dj;break;case av:case ov:case lv:S=Zw;break;case cv:S=hj;break;case"scroll":S=Gw;break;case"wheel":S=mj;break;case"copy":case"cut":case"paste":S=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Rh}var j=(t&4)!==0,m=!j&&e==="scroll",d=j?w!==null?w+"Capture":null:w;j=[];for(var f=u,y;f!==null;){y=f;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,d!==null&&(b=ws(f,d),b!=null&&j.push(Cs(f,b,y)))),m)break;f=f.return}0<j.length&&(w=new S(w,N,null,n,p),g.push({event:w,listeners:j}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",w&&n!==ou&&(N=n.relatedTarget||n.fromElement)&&(jr(N)||N[Pn]))break e;if((S||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,S?(N=n.relatedTarget||n.toElement,S=u,N=N?jr(N):null,N!==null&&(m=Br(N),N!==m||N.tag!==5&&N.tag!==6)&&(N=null)):(S=null,N=u),S!==N)){if(j=Ah,b="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=Rh,b="onPointerLeave",d="onPointerEnter",f="pointer"),m=S==null?w:ni(S),y=N==null?w:ni(N),w=new j(b,f+"leave",S,n,p),w.target=m,w.relatedTarget=y,b=null,jr(p)===u&&(j=new j(d,f+"enter",N,n,p),j.target=y,j.relatedTarget=m,b=j),m=b,S&&N)t:{for(j=S,d=N,f=0,y=j;y;y=Hr(y))f++;for(y=0,b=d;b;b=Hr(b))y++;for(;0<f-y;)j=Hr(j),f--;for(;0<y-f;)d=Hr(d),y--;for(;f--;){if(j===d||d!==null&&j===d.alternate)break t;j=Hr(j),d=Hr(d)}j=null}else j=null;S!==null&&zh(g,w,S,j,!1),N!==null&&m!==null&&zh(g,m,N,j,!0)}}e:{if(w=u?ni(u):window,S=w.nodeName&&w.nodeName.toLowerCase(),S==="select"||S==="input"&&w.type==="file")var C=bj;else if(Oh(w))if(tv)C=_j;else{C=Sj;var A=Nj}else(S=w.nodeName)&&S.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(C=Ej);if(C&&(C=C(e,u))){ev(g,C,n,p);break e}A&&A(e,w,u),e==="focusout"&&(A=w._wrapperState)&&A.controlled&&w.type==="number"&&nu(w,"number",w.value)}switch(A=u?ni(u):window,e){case"focusin":(Oh(A)||A.contentEditable==="true")&&(ei=A,pu=u,hs=null);break;case"focusout":hs=pu=ei=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Mh(g,n,p);break;case"selectionchange":if(Aj)break;case"keydown":case"keyup":Mh(g,n,p)}var x;if(Jd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zr?Xg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Jg&&n.locale!=="ko"&&(Zr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Zr&&(x=Qg()):(Yn=p,Gd="value"in Yn?Yn.value:Yn.textContent,Zr=!0)),A=xo(u,k),0<A.length&&(k=new Th(k,e,null,n,p),g.push({event:k,listeners:A}),x?k.data=x:(x=Zg(n),x!==null&&(k.data=x)))),(x=vj?yj(e,n):xj(e,n))&&(u=xo(u,"onBeforeInput"),0<u.length&&(p=new Th("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:u}),p.data=x))}dv(g,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ws(e,n),a!=null&&r.unshift(Cs(e,a,s)),a=ws(e,t),a!=null&&r.push(Cs(e,a,s))),e=e.return}return r}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zh(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ws(n,a),c!=null&&o.unshift(Cs(n,c,l))):s||(c=ws(n,a),c!=null&&o.push(Cs(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Pj=/\r\n?/g,Oj=/\u0000|\uFFFD/g;function Vh(e){return(typeof e=="string"?e:""+e).replace(Pj,`
`).replace(Oj,"")}function ja(e,t,n){if(t=Vh(t),Vh(e)!==t&&n)throw Error(ee(425))}function wo(){}var gu=null,vu=null;function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Lj=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,Ij=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(e){return Wh.resolve(null).then(e).catch(Fj)}:xu;function Fj(e){setTimeout(function(){throw e})}function ic(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ns(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ii,ks="__reactProps$"+Ii,Pn="__reactContainer$"+Ii,wu="__reactEvents$"+Ii,Bj="__reactListeners$"+Ii,Mj="__reactHandles$"+Ii;function jr(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hh(e);e!==null;){if(n=e[xn])return n;e=Hh(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[xn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function il(e){return e[ks]||null}var ju=[],ri=-1;function ur(e){return{current:e}}function Ue(e){0>ri||(e.current=ju[ri],ju[ri]=null,ri--)}function Fe(e,t){ri++,ju[ri]=e.current,e.current=t}var lr={},wt=ur(lr),At=ur(!1),Tr=lr;function Ei(e,t){var n=e.type.contextTypes;if(!n)return lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(e){return e=e.childContextTypes,e!=null}function jo(){Ue(At),Ue(wt)}function qh(e,t,n){if(wt.current!==lr)throw Error(ee(168));Fe(wt,t),Fe(At,n)}function hv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ee(108,Nw(e)||"Unknown",s));return Ke({},n,r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Tr=wt.current,Fe(wt,e),Fe(At,At.current),!0}function Yh(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=hv(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,Ue(At),Ue(wt),Fe(wt,e)):Ue(At),Fe(At,n)}var Cn=null,sl=!1,sc=!1;function pv(e){Cn===null?Cn=[e]:Cn.push(e)}function $j(e){sl=!0,pv(e)}function dr(){if(!sc&&Cn!==null){sc=!0;var e=0,t=Te;try{var n=Cn;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,sl=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(e+1)),Mg(Wd,dr),s}finally{Te=t,sc=!1}}return null}var ii=[],si=0,No=null,So=0,Vt=[],Wt=0,Rr=null,kn=1,An="";function xr(e,t){ii[si++]=So,ii[si++]=No,No=e,So=t}function mv(e,t,n){Vt[Wt++]=kn,Vt[Wt++]=An,Vt[Wt++]=Rr,Rr=e;var r=kn;e=An;var s=32-on(r)-1;r&=~(1<<s),n+=1;var a=32-on(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-on(t)+s|n<<s|r,An=a+e}else kn=1<<a|n<<s|r,An=e}function Zd(e){e.return!==null&&(xr(e,1),mv(e,1,0))}function ef(e){for(;e===No;)No=ii[--si],ii[si]=null,So=ii[--si],ii[si]=null;for(;e===Rr;)Rr=Vt[--Wt],Vt[Wt]=null,An=Vt[--Wt],Vt[Wt]=null,kn=Vt[--Wt],Vt[Wt]=null}var Ft=null,It=null,We=!1,an=null;function gv(e,t){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,It=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:kn,overflow:An}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ft=e,It=null,!0):!1;default:return!1}}function bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nu(e){if(We){var t=It;if(t){var n=t;if(!Gh(e,t)){if(bu(e))throw Error(ee(418));t=er(n.nextSibling);var r=Ft;t&&Gh(e,t)?gv(r,n):(e.flags=e.flags&-4097|2,We=!1,Ft=e)}}else{if(bu(e))throw Error(ee(418));e.flags=e.flags&-4097|2,We=!1,Ft=e}}}function Kh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function ba(e){if(e!==Ft)return!1;if(!We)return Kh(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yu(e.type,e.memoizedProps)),t&&(t=It)){if(bu(e))throw vv(),Error(ee(418));for(;t;)gv(e,t),t=er(t.nextSibling)}if(Kh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ft?er(e.stateNode.nextSibling):null;return!0}function vv(){for(var e=It;e;)e=er(e.nextSibling)}function _i(){It=Ft=null,We=!1}function tf(e){an===null?an=[e]:an.push(e)}var Uj=Fn.ReactCurrentBatchConfig;function Ji(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qh(e){var t=e._init;return t(e._payload)}function yv(e){function t(d,f){if(e){var y=d.deletions;y===null?(d.deletions=[f],d.flags|=16):y.push(f)}}function n(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function r(d,f){for(d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function s(d,f){return d=ir(d,f),d.index=0,d.sibling=null,d}function a(d,f,y){return d.index=y,e?(y=d.alternate,y!==null?(y=y.index,y<f?(d.flags|=2,f):y):(d.flags|=2,f)):(d.flags|=1048576,f)}function o(d){return e&&d.alternate===null&&(d.flags|=2),d}function l(d,f,y,b){return f===null||f.tag!==6?(f=fc(y,d.mode,b),f.return=d,f):(f=s(f,y),f.return=d,f)}function c(d,f,y,b){var C=y.type;return C===Xr?p(d,f,y.props.children,b,y.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vn&&Qh(C)===f.type)?(b=s(f,y.props),b.ref=Ji(d,f,y),b.return=d,b):(b=qa(y.type,y.key,y.props,null,d.mode,b),b.ref=Ji(d,f,y),b.return=d,b)}function u(d,f,y,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=hc(y,d.mode,b),f.return=d,f):(f=s(f,y.children||[]),f.return=d,f)}function p(d,f,y,b,C){return f===null||f.tag!==7?(f=Cr(y,d.mode,b,C),f.return=d,f):(f=s(f,y),f.return=d,f)}function g(d,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=fc(""+f,d.mode,y),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fa:return y=qa(f.type,f.key,f.props,null,d.mode,y),y.ref=Ji(d,null,f),y.return=d,y;case Jr:return f=hc(f,d.mode,y),f.return=d,f;case Vn:var b=f._init;return g(d,b(f._payload),y)}if(is(f)||qi(f))return f=Cr(f,d.mode,y,null),f.return=d,f;Na(d,f)}return null}function w(d,f,y,b){var C=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(d,f,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:return y.key===C?c(d,f,y,b):null;case Jr:return y.key===C?u(d,f,y,b):null;case Vn:return C=y._init,w(d,f,C(y._payload),b)}if(is(y)||qi(y))return C!==null?null:p(d,f,y,b,null);Na(d,y)}return null}function S(d,f,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return d=d.get(y)||null,l(f,d,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fa:return d=d.get(b.key===null?y:b.key)||null,c(f,d,b,C);case Jr:return d=d.get(b.key===null?y:b.key)||null,u(f,d,b,C);case Vn:var A=b._init;return S(d,f,y,A(b._payload),C)}if(is(b)||qi(b))return d=d.get(y)||null,p(f,d,b,C,null);Na(f,b)}return null}function N(d,f,y,b){for(var C=null,A=null,x=f,k=f=0,D=null;x!==null&&k<y.length;k++){x.index>k?(D=x,x=null):D=x.sibling;var B=w(d,x,y[k],b);if(B===null){x===null&&(x=D);break}e&&x&&B.alternate===null&&t(d,x),f=a(B,f,k),A===null?C=B:A.sibling=B,A=B,x=D}if(k===y.length)return n(d,x),We&&xr(d,k),C;if(x===null){for(;k<y.length;k++)x=g(d,y[k],b),x!==null&&(f=a(x,f,k),A===null?C=x:A.sibling=x,A=x);return We&&xr(d,k),C}for(x=r(d,x);k<y.length;k++)D=S(x,d,k,y[k],b),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?k:D.key),f=a(D,f,k),A===null?C=D:A.sibling=D,A=D);return e&&x.forEach(function(q){return t(d,q)}),We&&xr(d,k),C}function j(d,f,y,b){var C=qi(y);if(typeof C!="function")throw Error(ee(150));if(y=C.call(y),y==null)throw Error(ee(151));for(var A=C=null,x=f,k=f=0,D=null,B=y.next();x!==null&&!B.done;k++,B=y.next()){x.index>k?(D=x,x=null):D=x.sibling;var q=w(d,x,B.value,b);if(q===null){x===null&&(x=D);break}e&&x&&q.alternate===null&&t(d,x),f=a(q,f,k),A===null?C=q:A.sibling=q,A=q,x=D}if(B.done)return n(d,x),We&&xr(d,k),C;if(x===null){for(;!B.done;k++,B=y.next())B=g(d,B.value,b),B!==null&&(f=a(B,f,k),A===null?C=B:A.sibling=B,A=B);return We&&xr(d,k),C}for(x=r(d,x);!B.done;k++,B=y.next())B=S(x,d,k,B.value,b),B!==null&&(e&&B.alternate!==null&&x.delete(B.key===null?k:B.key),f=a(B,f,k),A===null?C=B:A.sibling=B,A=B);return e&&x.forEach(function(L){return t(d,L)}),We&&xr(d,k),C}function m(d,f,y,b){if(typeof y=="object"&&y!==null&&y.type===Xr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:e:{for(var C=y.key,A=f;A!==null;){if(A.key===C){if(C=y.type,C===Xr){if(A.tag===7){n(d,A.sibling),f=s(A,y.props.children),f.return=d,d=f;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vn&&Qh(C)===A.type){n(d,A.sibling),f=s(A,y.props),f.ref=Ji(d,A,y),f.return=d,d=f;break e}n(d,A);break}else t(d,A);A=A.sibling}y.type===Xr?(f=Cr(y.props.children,d.mode,b,y.key),f.return=d,d=f):(b=qa(y.type,y.key,y.props,null,d.mode,b),b.ref=Ji(d,f,y),b.return=d,d=b)}return o(d);case Jr:e:{for(A=y.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(d,f.sibling),f=s(f,y.children||[]),f.return=d,d=f;break e}else{n(d,f);break}else t(d,f);f=f.sibling}f=hc(y,d.mode,b),f.return=d,d=f}return o(d);case Vn:return A=y._init,m(d,f,A(y._payload),b)}if(is(y))return N(d,f,y,b);if(qi(y))return j(d,f,y,b);Na(d,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(d,f.sibling),f=s(f,y),f.return=d,d=f):(n(d,f),f=fc(y,d.mode,b),f.return=d,d=f),o(d)):n(d,f)}return m}var Ci=yv(!0),xv=yv(!1),Eo=ur(null),_o=null,ai=null,nf=null;function rf(){nf=ai=_o=null}function sf(e){var t=Eo.current;Ue(Eo),e._currentValue=t}function Su(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vi(e,t){_o=e,nf=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(nf!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(_o===null)throw Error(ee(308));ai=e,_o.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var br=null;function af(e){br===null?br=[e]:br.push(e)}function wv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,af(t)):(n.next=s.next,s.next=n),t.interleaved=n,On(e,r)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,On(e,n)}return s=r.interleaved,s===null?(t.next=t,af(r)):(t.next=s.next,s.next=t),r.interleaved=t,On(e,n)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}function Jh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Co(e,t,n,r){var s=e.updateQueue;Wn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(a!==null){var g=s.baseState;o=0,p=u=c=null,l=a;do{var w=l.lane,S=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,j=l;switch(w=t,S=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){g=N.call(S,g,w);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,w=typeof N=="function"?N.call(S,g,w):N,w==null)break e;g=Ke({},g,w);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[l]:w.push(l))}else S={eventTime:S,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=S,c=g):p=p.next=S,o|=w;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;w=l,l=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(1);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=g}}function Xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Ks={},jn=ur(Ks),As=ur(Ks),Ts=ur(Ks);function Nr(e){if(e===Ks)throw Error(ee(174));return e}function lf(e,t){switch(Fe(Ts,t),Fe(As,e),Fe(jn,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}Ue(jn),Fe(jn,t)}function ki(){Ue(jn),Ue(As),Ue(Ts)}function bv(e){Nr(Ts.current);var t=Nr(jn.current),n=iu(t,e.type);t!==n&&(Fe(As,e),Fe(jn,n))}function cf(e){As.current===e&&(Ue(jn),Ue(As))}var Ye=ur(0);function ko(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function uf(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var Ua=Fn.ReactCurrentDispatcher,oc=Fn.ReactCurrentBatchConfig,Dr=0,Ge=null,at=null,ut=null,Ao=!1,ps=!1,Rs=0,zj=0;function gt(){throw Error(ee(321))}function df(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function ff(e,t,n,r,s,a){if(Dr=a,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ua.current=e===null||e.memoizedState===null?qj:Yj,e=n(r,s),ps){a=0;do{if(ps=!1,Rs=0,25<=a)throw Error(ee(301));a+=1,ut=at=null,t.updateQueue=null,Ua.current=Gj,e=n(r,s)}while(ps)}if(Ua.current=To,t=at!==null&&at.next!==null,Dr=0,ut=at=Ge=null,Ao=!1,t)throw Error(ee(300));return e}function hf(){var e=Rs!==0;return Rs=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=e:ut=ut.next=e,ut}function Kt(){if(at===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ut===null?Ge.memoizedState:ut.next;if(t!==null)ut=t,at=e;else{if(e===null)throw Error(ee(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?Ge.memoizedState=ut=e:ut=ut.next=e}return ut}function Ds(e,t){return typeof t=="function"?t(e):t}function lc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=at,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var p=u.lane;if((Dr&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,Ge.lanes|=p,Pr|=p}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,un(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Ge.lanes|=a,Pr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);un(a,t.memoizedState)||(kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Nv(){}function Sv(e,t){var n=Ge,r=Kt(),s=t(),a=!un(r.memoizedState,s);if(a&&(r.memoizedState=s,kt=!0),r=r.queue,pf(Cv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Ps(9,_v.bind(null,n,r,s,t),void 0,null),dt===null)throw Error(ee(349));Dr&30||Ev(n,t,s)}return s}function Ev(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _v(e,t,n,r){t.value=n,t.getSnapshot=r,kv(t)&&Av(e)}function Cv(e,t,n){return n(function(){kv(t)&&Av(e)})}function kv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Av(e){var t=On(e,1);t!==null&&ln(t,e,1,-1)}function Zh(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Hj.bind(null,Ge,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tv(){return Kt().memoizedState}function za(e,t,n,r){var s=gn();Ge.flags|=e,s.memoizedState=Ps(1|t,n,void 0,r===void 0?null:r)}function al(e,t,n,r){var s=Kt();r=r===void 0?null:r;var a=void 0;if(at!==null){var o=at.memoizedState;if(a=o.destroy,r!==null&&df(r,o.deps)){s.memoizedState=Ps(t,n,a,r);return}}Ge.flags|=e,s.memoizedState=Ps(1|t,n,a,r)}function ep(e,t){return za(8390656,8,e,t)}function pf(e,t){return al(2048,8,e,t)}function Rv(e,t){return al(4,2,e,t)}function Dv(e,t){return al(4,4,e,t)}function Pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ov(e,t,n){return n=n!=null?n.concat([e]):null,al(4,4,Pv.bind(null,t,e),n)}function mf(){}function Lv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Iv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&df(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fv(e,t,n){return Dr&21?(un(n,t)||(n=zg(),Ge.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function Vj(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=oc.transition;oc.transition={};try{e(!1),t()}finally{Te=n,oc.transition=r}}function Bv(){return Kt().memoizedState}function Wj(e,t,n){var r=rr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(e))$v(t,n);else if(n=wv(e,t,n,r),n!==null){var s=bt();ln(n,e,r,s),Uv(n,t,r)}}function Hj(e,t,n){var r=rr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(e))$v(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,un(l,o)){var c=t.interleaved;c===null?(s.next=s,af(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=wv(e,t,s,r),n!==null&&(s=bt(),ln(n,e,r,s),Uv(n,t,r))}}function Mv(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function $v(e,t){ps=Ao=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hd(e,n)}}var To={readContext:Gt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},qj={readContext:Gt,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:ep,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,za(4194308,4,Pv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wj.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:Zh,useDebugValue:mf,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Zh(!1),t=e[0];return e=Vj.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=gn();if(We){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),dt===null)throw Error(ee(349));Dr&30||Ev(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ep(Cv.bind(null,r,a,e),[e]),r.flags|=2048,Ps(9,_v.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gn(),t=dt.identifierPrefix;if(We){var n=An,r=kn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yj={readContext:Gt,useCallback:Lv,useContext:Gt,useEffect:pf,useImperativeHandle:Ov,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:Iv,useReducer:lc,useRef:Tv,useState:function(){return lc(Ds)},useDebugValue:mf,useDeferredValue:function(e){var t=Kt();return Fv(t,at.memoizedState,e)},useTransition:function(){var e=lc(Ds)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Nv,useSyncExternalStore:Sv,useId:Bv,unstable_isNewReconciler:!1},Gj={readContext:Gt,useCallback:Lv,useContext:Gt,useEffect:pf,useImperativeHandle:Ov,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:Iv,useReducer:cc,useRef:Tv,useState:function(){return cc(Ds)},useDebugValue:mf,useDeferredValue:function(e){var t=Kt();return at===null?t.memoizedState=e:Fv(t,at.memoizedState,e)},useTransition:function(){var e=cc(Ds)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Nv,useSyncExternalStore:Sv,useId:Bv,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),s=rr(e),a=Rn(r,s);a.payload=t,n!=null&&(a.callback=n),t=tr(e,a,s),t!==null&&(ln(t,e,s,r),$a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),s=rr(e),a=Rn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tr(e,a,s),t!==null&&(ln(t,e,s,r),$a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=rr(e),s=Rn(n,r);s.tag=2,t!=null&&(s.callback=t),t=tr(e,s,r),t!==null&&(ln(t,e,r,n),$a(t,e,r))}};function tp(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(s,a):!0}function zv(e,t,n){var r=!1,s=lr,a=t.contextType;return typeof a=="object"&&a!==null?a=Gt(a):(s=Tt(t)?Tr:wt.current,r=t.contextTypes,a=(r=r!=null)?Ei(e,s):lr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function np(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function _u(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},of(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Gt(a):(a=Tt(t)?Tr:wt.current,s.context=Ei(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Eu(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ol.enqueueReplaceState(s,s.state,null),Co(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ai(e,t){try{var n="",r=t;do n+=bw(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function uc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function Vv(e,t,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Do||(Do=!0,Fu=r),Cu(e,t)},n}function Wv(e,t,n){n=Rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Cu(e,t),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cb.bind(null,e,t,n),t.then(e,e))}function ip(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rn(-1,1),t.tag=2,tr(n,t,1))),n.lanes|=1),e)}var Qj=Fn.ReactCurrentOwner,kt=!1;function jt(e,t,n,r){t.child=e===null?xv(t,null,n,r):Ci(t,e.child,n,r)}function ap(e,t,n,r,s){n=n.render;var a=t.ref;return vi(t,s),r=ff(e,t,n,r,a,s),n=hf(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(We&&n&&Zd(t),t.flags|=1,jt(e,t,r,s),t.child)}function op(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Nf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Hv(e,t,a,r,s)):(e=qa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(o,r)&&e.ref===t.ref)return Ln(e,t,s)}return t.flags|=1,e=ir(a,r),e.ref=t.ref,e.return=t,t.child=e}function Hv(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Es(a,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,Ln(e,t,s)}return ku(e,t,n,r,s)}function qv(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(li,Lt),Lt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(li,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Fe(li,Lt),Lt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fe(li,Lt),Lt|=r;return jt(e,t,s,n),t.child}function Yv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,r,s){var a=Tt(n)?Tr:wt.current;return a=Ei(t,a),vi(t,s),n=ff(e,t,n,r,a,s),r=hf(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(We&&r&&Zd(t),t.flags|=1,jt(e,t,n,s),t.child)}function lp(e,t,n,r,s){if(Tt(n)){var a=!0;bo(t)}else a=!1;if(vi(t,s),t.stateNode===null)Va(e,t),zv(t,n,r),_u(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=Tt(n)?Tr:wt.current,u=Ei(t,u));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&np(t,o,r,u),Wn=!1;var w=t.memoizedState;o.state=w,Co(t,r,o,s),c=t.memoizedState,l!==r||w!==c||At.current||Wn?(typeof p=="function"&&(Eu(t,n,p,r),c=t.memoizedState),(l=Wn||tp(t,n,l,r,w,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nn(t.type,l),o.props=u,g=t.pendingProps,w=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=Tt(n)?Tr:wt.current,c=Ei(t,c));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||w!==c)&&np(t,o,r,c),Wn=!1,w=t.memoizedState,o.state=w,Co(t,r,o,s);var N=t.memoizedState;l!==g||w!==N||At.current||Wn?(typeof S=="function"&&(Eu(t,n,S,r),N=t.memoizedState),(u=Wn||tp(t,n,u,r,w,N,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,s)}function Au(e,t,n,r,s,a){Yv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Yh(t,n,!1),Ln(e,t,a);r=t.stateNode,Qj.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ci(t,e.child,null,a),t.child=Ci(t,null,l,a)):jt(e,t,l,a),t.memoizedState=r.state,s&&Yh(t,n,!0),t.child}function Gv(e){var t=e.stateNode;t.pendingContext?qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qh(e,t.context,!1),lf(e,t.containerInfo)}function cp(e,t,n,r,s){return _i(),tf(s),t.flags|=256,jt(e,t,n,r),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kv(e,t,n){var r=t.pendingProps,s=Ye.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(Ye,s&1),e===null)return Nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ul(o,r,0,null),e=Cr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ru(n),t.memoizedState=Tu,e):gf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jj(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ir(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ir(l,a):(a=Cr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Tu,r}return a=e.child,e=a.sibling,r=ir(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gf(e,t){return t=ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&tf(r),Ci(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jj(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=uc(Error(ee(422))),Sa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ul({mode:"visible",children:r.children},s,0,null),a=Cr(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ci(t,e.child,null,o),t.child.memoizedState=Ru(o),t.memoizedState=Tu,a);if(!(t.mode&1))return Sa(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ee(419)),r=uc(a,r,void 0),Sa(e,t,o,r)}if(l=(o&e.childLanes)!==0,kt||l){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,On(e,s),ln(r,e,s,-1))}return bf(),r=uc(Error(ee(421))),Sa(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ub.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,It=er(s.nextSibling),Ft=t,We=!0,an=null,e!==null&&(Vt[Wt++]=kn,Vt[Wt++]=An,Vt[Wt++]=Rr,kn=e.id,An=e.overflow,Rr=t),t=gf(t,r.children),t.flags|=4096,t)}function up(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Su(e.return,t,n)}function dc(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Qv(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(jt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,n,t);else if(e.tag===19)up(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ko(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dc(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ko(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dc(t,!0,n,null,a);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xj(e,t,n){switch(t.tag){case 3:Gv(t),_i();break;case 5:bv(t);break;case 1:Tt(t.type)&&bo(t);break;case 4:lf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Fe(Eo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?Kv(e,t,n):(Fe(Ye,Ye.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,qv(e,t,n)}return Ln(e,t,n)}var Jv,Du,Xv,Zv;Jv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Du=function(){};Xv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Nr(jn.current);var a=null;switch(n){case"input":s=eu(e,s),r=eu(e,r),a=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),a=[];break;case"textarea":s=ru(e,s),r=ru(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wo)}su(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Zv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xi(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zj(e,t,n){var r=t.pendingProps;switch(ef(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Tt(t.type)&&jo(),vt(t),null;case 3:return r=t.stateNode,ki(),Ue(At),Ue(wt),uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ba(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&($u(an),an=null))),Du(e,t),vt(t),null;case 5:cf(t);var s=Nr(Ts.current);if(n=t.type,e!==null&&t.stateNode!=null)Xv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return vt(t),null}if(e=Nr(jn.current),ba(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xn]=t,r[ks]=a,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<as.length;s++)Me(as[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":xh(r,a),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Me("invalid",r);break;case"textarea":jh(r,a),Me("invalid",r)}su(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ja(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ja(r.textContent,l,e),s=["children",""+l]):ys.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":ha(r),wh(r,a,!0);break;case"textarea":ha(r),bh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=wo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xn]=t,e[ks]=r,Jv(e,t,!1,!1),t.stateNode=e;e:{switch(o=au(n,r),n){case"dialog":Me("cancel",e),Me("close",e),s=r;break;case"iframe":case"object":case"embed":Me("load",e),s=r;break;case"video":case"audio":for(s=0;s<as.length;s++)Me(as[s],e);s=r;break;case"source":Me("error",e),s=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=r;break;case"details":Me("toggle",e),s=r;break;case"input":xh(e,r),s=eu(e,r),Me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Me("invalid",e);break;case"textarea":jh(e,r),s=ru(e,r),Me("invalid",e);break;default:s=r}su(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Tg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kg(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xs(e,c):typeof c=="number"&&xs(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ys.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Me("scroll",e):c!=null&&Md(e,a,c,o))}switch(n){case"input":ha(e),wh(e,r,!1);break;case"textarea":ha(e),bh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+or(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?hi(e,!!r.multiple,a,!1):r.defaultValue!=null&&hi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Zv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=Nr(Ts.current),Nr(jn.current),ba(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(a=r.nodeValue!==n)&&(e=Ft,e!==null))switch(e.tag){case 3:ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ja(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return vt(t),null;case 13:if(Ue(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&It!==null&&t.mode&1&&!(t.flags&128))vv(),_i(),t.flags|=98560,a=!1;else if(a=ba(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ee(317));a[xn]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),a=!1}else an!==null&&($u(an),an=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?ot===0&&(ot=3):bf())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return ki(),Du(e,t),e===null&&_s(t.stateNode.containerInfo),vt(t),null;case 10:return sf(t.type._context),vt(t),null;case 17:return Tt(t.type)&&jo(),vt(t),null;case 19:if(Ue(Ye),a=t.memoizedState,a===null)return vt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Xi(a,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ko(e),o!==null){for(t.flags|=128,Xi(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ze()>Ti&&(t.flags|=128,r=!0,Xi(a,!1),t.lanes=4194304)}else{if(!r)if(e=ko(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return vt(t),null}else 2*Ze()-a.renderingStartTime>Ti&&n!==1073741824&&(t.flags|=128,r=!0,Xi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return jf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function eb(e,t){switch(ef(t),t.tag){case 1:return Tt(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(),Ue(At),Ue(wt),uf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cf(t),null;case 13:if(Ue(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ye),null;case 4:return ki(),null;case 10:return sf(t.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var Ea=!1,yt=!1,tb=typeof WeakSet=="function"?WeakSet:Set,oe=null;function oi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Pu(e,t,n){try{n()}catch(r){Je(e,t,r)}}var dp=!1;function nb(e,t){if(gu=vo,e=iv(),Xd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,p=0,g=e,w=null;t:for(;;){for(var S;g!==n||s!==0&&g.nodeType!==3||(l=o+s),g!==a||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(S=g.firstChild)!==null;)w=g,g=S;for(;;){if(g===e)break t;if(w===n&&++u===s&&(l=o),w===a&&++p===r&&(c=o),(S=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=S}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},vo=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,m=N.memoizedState,d=t.stateNode,f=d.getSnapshotBeforeUpdate(t.elementType===t.type?j:nn(t.type,j),m);d.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(b){Je(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return N=dp,dp=!1,N}function ms(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Pu(t,n,a)}s=s.next}while(s!==r)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ey(e){var t=e.alternate;t!==null&&(e.alternate=null,ey(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[ks],delete t[wu],delete t[Bj],delete t[Mj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ty(e){return e.tag===5||e.tag===3||e.tag===4}function fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wo));else if(r!==4&&(e=e.child,e!==null))for(Lu(e,t,n),e=e.sibling;e!==null;)Lu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}var ft=null,rn=!1;function zn(e,t,n){for(n=n.child;n!==null;)ny(e,t,n),n=n.sibling}function ny(e,t,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:yt||oi(n,t);case 6:var r=ft,s=rn;ft=null,zn(e,t,n),ft=r,rn=s,ft!==null&&(rn?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(rn?(e=ft,n=n.stateNode,e.nodeType===8?ic(e.parentNode,n):e.nodeType===1&&ic(e,n),Ns(e)):ic(ft,n.stateNode));break;case 4:r=ft,s=rn,ft=n.stateNode.containerInfo,rn=!0,zn(e,t,n),ft=r,rn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Pu(n,t,o),s=s.next}while(s!==r)}zn(e,t,n);break;case 1:if(!yt&&(oi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,t,l)}zn(e,t,n);break;case 21:zn(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,zn(e,t,n),yt=r):zn(e,t,n);break;default:zn(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tb),t.forEach(function(r){var s=db.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,rn=!1;break e;case 3:ft=l.stateNode.containerInfo,rn=!0;break e;case 4:ft=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(ft===null)throw Error(ee(160));ny(a,o,s),ft=null,rn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ry(t,e),t=t.sibling}function ry(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),hn(e),r&4){try{ms(3,e,e.return),ll(3,e)}catch(j){Je(e,e.return,j)}try{ms(5,e,e.return)}catch(j){Je(e,e.return,j)}}break;case 1:tn(t,e),hn(e),r&512&&n!==null&&oi(n,n.return);break;case 5:if(tn(t,e),hn(e),r&512&&n!==null&&oi(n,n.return),e.flags&32){var s=e.stateNode;try{xs(s,"")}catch(j){Je(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Eg(s,a),au(l,o);var u=au(l,a);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?Tg(s,g):p==="dangerouslySetInnerHTML"?kg(s,g):p==="children"?xs(s,g):Md(s,p,g,u)}switch(l){case"input":tu(s,a);break;case"textarea":_g(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?hi(s,!!a.multiple,S,!1):w!==!!a.multiple&&(a.defaultValue!=null?hi(s,!!a.multiple,a.defaultValue,!0):hi(s,!!a.multiple,a.multiple?[]:"",!1))}s[ks]=a}catch(j){Je(e,e.return,j)}}break;case 6:if(tn(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){Je(e,e.return,j)}}break;case 3:if(tn(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(j){Je(e,e.return,j)}break;case 4:tn(t,e),hn(e);break;case 13:tn(t,e),hn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(xf=Ze())),r&4&&hp(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(u=yt)||p,tn(t,e),yt=u):tn(t,e),hn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(oe=e,p=e.child;p!==null;){for(g=oe=p;oe!==null;){switch(w=oe,S=w.child,w.tag){case 0:case 11:case 14:case 15:ms(4,w,w.return);break;case 1:oi(w,w.return);var N=w.stateNode;if(typeof N.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){Je(r,n,j)}}break;case 5:oi(w,w.return);break;case 22:if(w.memoizedState!==null){mp(g);continue}}S!==null?(S.return=w,oe=S):mp(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ag("display",o))}catch(j){Je(e,e.return,j)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(j){Je(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:tn(t,e),hn(e),r&4&&hp(e);break;case 21:break;default:tn(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ty(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xs(s,""),r.flags&=-33);var a=fp(e);Iu(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fp(e);Lu(e,l,o);break;default:throw Error(ee(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rb(e,t,n){oe=e,iy(e)}function iy(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var s=oe,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ea;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yt;l=Ea;var u=yt;if(Ea=o,(yt=c)&&!u)for(oe=s;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?gp(s):c!==null?(c.return=o,oe=c):gp(s);for(;a!==null;)oe=a,iy(a),a=a.sibling;oe=s,Ea=l,yt=u}pp(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,oe=a):pp(e)}}function pp(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xh(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Ns(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}yt||t.flags&512&&Ou(t)}catch(w){Je(t,t.return,w)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function mp(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function gp(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(c){Je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Je(t,s,c)}}var a=t.return;try{Ou(t)}catch(c){Je(t,a,c)}break;case 5:var o=t.return;try{Ou(t)}catch(c){Je(t,o,c)}}}catch(c){Je(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var ib=Math.ceil,Ro=Fn.ReactCurrentDispatcher,vf=Fn.ReactCurrentOwner,Yt=Fn.ReactCurrentBatchConfig,_e=0,dt=null,rt=null,ht=0,Lt=0,li=ur(0),ot=0,Os=null,Pr=0,cl=0,yf=0,gs=null,Ct=null,xf=0,Ti=1/0,_n=null,Do=!1,Fu=null,nr=null,_a=!1,Gn=null,Po=0,vs=0,Bu=null,Wa=-1,Ha=0;function bt(){return _e&6?Ze():Wa!==-1?Wa:Wa=Ze()}function rr(e){return e.mode&1?_e&2&&ht!==0?ht&-ht:Uj.transition!==null?(Ha===0&&(Ha=zg()),Ha):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Kg(e.type)),e):1}function ln(e,t,n,r){if(50<vs)throw vs=0,Bu=null,Error(ee(185));qs(e,n,r),(!(_e&2)||e!==dt)&&(e===dt&&(!(_e&2)&&(cl|=n),ot===4&&qn(e,ht)),Rt(e,r),n===1&&_e===0&&!(t.mode&1)&&(Ti=Ze()+500,sl&&dr()))}function Rt(e,t){var n=e.callbackNode;Uw(e,t);var r=go(e,e===dt?ht:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?$j(vp.bind(null,e)):pv(vp.bind(null,e)),Ij(function(){!(_e&6)&&dr()}),n=null;else{switch(Vg(r)){case 1:n=Wd;break;case 4:n=$g;break;case 16:n=mo;break;case 536870912:n=Ug;break;default:n=mo}n=fy(n,sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sy(e,t){if(Wa=-1,Ha=0,_e&6)throw Error(ee(327));var n=e.callbackNode;if(yi()&&e.callbackNode!==n)return null;var r=go(e,e===dt?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oo(e,r);else{t=r;var s=_e;_e|=2;var a=oy();(dt!==e||ht!==t)&&(_n=null,Ti=Ze()+500,_r(e,t));do try{ob();break}catch(l){ay(e,l)}while(1);rf(),Ro.current=a,_e=s,rt!==null?t=0:(dt=null,ht=0,t=ot)}if(t!==0){if(t===2&&(s=du(e),s!==0&&(r=s,t=Mu(e,s))),t===1)throw n=Os,_r(e,0),qn(e,r),Rt(e,Ze()),n;if(t===6)qn(e,r);else{if(s=e.current.alternate,!(r&30)&&!sb(s)&&(t=Oo(e,r),t===2&&(a=du(e),a!==0&&(r=a,t=Mu(e,a))),t===1))throw n=Os,_r(e,0),qn(e,r),Rt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:wr(e,Ct,_n);break;case 3:if(qn(e,r),(r&130023424)===r&&(t=xf+500-Ze(),10<t)){if(go(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xu(wr.bind(null,e,Ct,_n),t);break}wr(e,Ct,_n);break;case 4:if(qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-on(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ib(r/1960))-r,10<r){e.timeoutHandle=xu(wr.bind(null,e,Ct,_n),r);break}wr(e,Ct,_n);break;case 5:wr(e,Ct,_n);break;default:throw Error(ee(329))}}}return Rt(e,Ze()),e.callbackNode===n?sy.bind(null,e):null}function Mu(e,t){var n=gs;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Oo(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&$u(t)),e}function $u(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function sb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!un(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~yf,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function vp(e){if(_e&6)throw Error(ee(327));yi();var t=go(e,0);if(!(t&1))return Rt(e,Ze()),null;var n=Oo(e,t);if(e.tag!==0&&n===2){var r=du(e);r!==0&&(t=r,n=Mu(e,r))}if(n===1)throw n=Os,_r(e,0),qn(e,t),Rt(e,Ze()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,Ct,_n),Rt(e,Ze()),null}function wf(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(Ti=Ze()+500,sl&&dr())}}function Or(e){Gn!==null&&Gn.tag===0&&!(_e&6)&&yi();var t=_e;_e|=1;var n=Yt.transition,r=Te;try{if(Yt.transition=null,Te=1,e)return e()}finally{Te=r,Yt.transition=n,_e=t,!(_e&6)&&dr()}}function jf(){Lt=li.current,Ue(li)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lj(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(ef(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:ki(),Ue(At),Ue(wt),uf();break;case 5:cf(r);break;case 4:ki();break;case 13:Ue(Ye);break;case 19:Ue(Ye);break;case 10:sf(r.type._context);break;case 22:case 23:jf()}n=n.return}if(dt=e,rt=e=ir(e.current,null),ht=Lt=t,ot=0,Os=null,yf=cl=Pr=0,Ct=gs=null,br!==null){for(t=0;t<br.length;t++)if(n=br[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}br=null}return e}function ay(e,t){do{var n=rt;try{if(rf(),Ua.current=To,Ao){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ao=!1}if(Dr=0,ut=at=Ge=null,ps=!1,Rs=0,vf.current=null,n===null||n.return===null){ot=1,Os=t,rt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=ip(o);if(S!==null){S.flags&=-257,sp(S,o,l,a,t),S.mode&1&&rp(a,u,t),t=S,c=u;var N=t.updateQueue;if(N===null){var j=new Set;j.add(c),t.updateQueue=j}else N.add(c);break e}else{if(!(t&1)){rp(a,u,t),bf();break e}c=Error(ee(426))}}else if(We&&l.mode&1){var m=ip(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),sp(m,o,l,a,t),tf(Ai(c,l));break e}}a=c=Ai(c,l),ot!==4&&(ot=2),gs===null?gs=[a]:gs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=Vv(a,c,t);Jh(a,d);break e;case 1:l=c;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nr===null||!nr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Wv(a,l,t);Jh(a,b);break e}}a=a.return}while(a!==null)}cy(n)}catch(C){t=C,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function oy(){var e=Ro.current;return Ro.current=To,e===null?To:e}function bf(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Pr&268435455)&&!(cl&268435455)||qn(dt,ht)}function Oo(e,t){var n=_e;_e|=2;var r=oy();(dt!==e||ht!==t)&&(_n=null,_r(e,t));do try{ab();break}catch(s){ay(e,s)}while(1);if(rf(),_e=n,Ro.current=r,rt!==null)throw Error(ee(261));return dt=null,ht=0,ot}function ab(){for(;rt!==null;)ly(rt)}function ob(){for(;rt!==null&&!Dw();)ly(rt)}function ly(e){var t=dy(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?cy(e):rt=t,vf.current=null}function cy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eb(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}else if(n=Zj(n,t,Lt),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function wr(e,t,n){var r=Te,s=Yt.transition;try{Yt.transition=null,Te=1,lb(e,t,n,r)}finally{Yt.transition=s,Te=r}return null}function lb(e,t,n,r){do yi();while(Gn!==null);if(_e&6)throw Error(ee(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(zw(e,a),e===dt&&(rt=dt=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_a||(_a=!0,fy(mo,function(){return yi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Yt.transition,Yt.transition=null;var o=Te;Te=1;var l=_e;_e|=4,vf.current=null,nb(e,n),ry(n,e),kj(vu),vo=!!gu,vu=gu=null,e.current=n,rb(n),Pw(),_e=l,Te=o,Yt.transition=a}else e.current=n;if(_a&&(_a=!1,Gn=e,Po=s),a=e.pendingLanes,a===0&&(nr=null),Iw(n.stateNode),Rt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Do)throw Do=!1,e=Fu,Fu=null,e;return Po&1&&e.tag!==0&&yi(),a=e.pendingLanes,a&1?e===Bu?vs++:(vs=0,Bu=e):vs=0,dr(),null}function yi(){if(Gn!==null){var e=Vg(Po),t=Yt.transition,n=Te;try{if(Yt.transition=null,Te=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,Po=0,_e&6)throw Error(ee(331));var s=_e;for(_e|=4,oe=e.current;oe!==null;){var a=oe,o=a.child;if(oe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var p=oe;switch(p.tag){case 0:case 11:case 15:ms(8,p,a)}var g=p.child;if(g!==null)g.return=p,oe=g;else for(;oe!==null;){p=oe;var w=p.sibling,S=p.return;if(ey(p),p===u){oe=null;break}if(w!==null){w.return=S,oe=w;break}oe=S}}}var N=a.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var m=j.sibling;j.sibling=null,j=m}while(j!==null)}}oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,oe=o;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ms(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,oe=d;break e}oe=a.return}}var f=e.current;for(oe=f;oe!==null;){o=oe;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,oe=y;else e:for(o=f;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(C){Je(l,l.return,C)}if(l===o){oe=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,oe=b;break e}oe=l.return}}if(_e=s,dr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(el,e)}catch{}r=!0}return r}finally{Te=n,Yt.transition=t}}return!1}function yp(e,t,n){t=Ai(n,t),t=Vv(e,t,1),e=tr(e,t,1),t=bt(),e!==null&&(qs(e,1,t),Rt(e,t))}function Je(e,t,n){if(e.tag===3)yp(e,e,n);else for(;t!==null;){if(t.tag===3){yp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){e=Ai(n,e),e=Wv(t,e,1),t=tr(t,e,1),e=bt(),t!==null&&(qs(t,1,e),Rt(t,e));break}}t=t.return}}function cb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(ht&n)===n&&(ot===4||ot===3&&(ht&130023424)===ht&&500>Ze()-xf?_r(e,0):yf|=n),Rt(e,t)}function uy(e,t){t===0&&(e.mode&1?(t=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):t=1);var n=bt();e=On(e,t),e!==null&&(qs(e,t,n),Rt(e,n))}function ub(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uy(e,n)}function db(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),uy(e,n)}var dy;dy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,Xj(e,t,n);kt=!!(e.flags&131072)}else kt=!1,We&&t.flags&1048576&&mv(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=Ei(t,wt.current);vi(t,n),s=ff(null,t,r,e,s,n);var a=hf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(a=!0,bo(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,of(t),s.updater=ol,t.stateNode=s,s._reactInternals=t,_u(t,r,e,n),t=Au(null,t,r,!0,a,n)):(t.tag=0,We&&a&&Zd(t),jt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hb(r),e=nn(r,e),s){case 0:t=ku(null,t,r,e,n);break e;case 1:t=lp(null,t,r,e,n);break e;case 11:t=ap(null,t,r,e,n);break e;case 14:t=op(null,t,r,nn(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),ku(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),lp(e,t,r,s,n);case 3:e:{if(Gv(t),e===null)throw Error(ee(387));r=t.pendingProps,a=t.memoizedState,s=a.element,jv(e,t),Co(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ai(Error(ee(423)),t),t=cp(e,t,r,n,s);break e}else if(r!==s){s=Ai(Error(ee(424)),t),t=cp(e,t,r,n,s);break e}else for(It=er(t.stateNode.containerInfo.firstChild),Ft=t,We=!0,an=null,n=xv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_i(),r===s){t=Ln(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return bv(t),e===null&&Nu(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,yu(r,s)?o=null:a!==null&&yu(r,a)&&(t.flags|=32),Yv(e,t),jt(e,t,o,n),t.child;case 6:return e===null&&Nu(t),null;case 13:return Kv(e,t,n);case 4:return lf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),ap(e,t,r,s,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Fe(Eo,r._currentValue),r._currentValue=o,a!==null)if(un(a.value,o)){if(a.children===s.children&&!At.current){t=Ln(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Rn(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Su(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ee(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Su(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,vi(t,n),s=Gt(s),r=r(s),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,s=nn(r,t.pendingProps),s=nn(r.type,s),op(e,t,r,s,n);case 15:return Hv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Va(e,t),t.tag=1,Tt(r)?(e=!0,bo(t)):e=!1,vi(t,n),zv(t,r,s),_u(t,r,s,n),Au(null,t,r,!0,e,n);case 19:return Qv(e,t,n);case 22:return qv(e,t,n)}throw Error(ee(156,t.tag))};function fy(e,t){return Mg(e,t)}function fb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,r){return new fb(e,t,n,r)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hb(e){if(typeof e=="function")return Nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ud)return 11;if(e===zd)return 14}return 2}function ir(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qa(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Nf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xr:return Cr(n.children,s,a,t);case $d:o=8,s|=8;break;case Qc:return e=qt(12,n,t,s|2),e.elementType=Qc,e.lanes=a,e;case Jc:return e=qt(13,n,t,s),e.elementType=Jc,e.lanes=a,e;case Xc:return e=qt(19,n,t,s),e.elementType=Xc,e.lanes=a,e;case bg:return ul(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wg:o=10;break e;case jg:o=9;break e;case Ud:o=11;break e;case zd:o=14;break e;case Vn:o=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=qt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Cr(e,t,n,r){return e=qt(7,e,r,t),e.lanes=n,e}function ul(e,t,n,r){return e=qt(22,e,r,t),e.elementType=bg,e.lanes=n,e.stateNode={isHidden:!1},e}function fc(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function hc(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,s,a,o,l,c){return e=new pb(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(a),e}function mb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hy(e){if(!e)return lr;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Tt(n))return hv(e,n,t)}return t}function py(e,t,n,r,s,a,o,l,c){return e=Sf(n,r,!0,e,s,a,o,l,c),e.context=hy(null),n=e.current,r=bt(),s=rr(n),a=Rn(r,s),a.callback=t??null,tr(n,a,s),e.current.lanes=s,qs(e,s,r),Rt(e,r),e}function dl(e,t,n,r){var s=t.current,a=bt(),o=rr(s);return n=hy(n),t.context===null?t.context=n:t.pendingContext=n,t=Rn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tr(s,t,o),e!==null&&(ln(e,s,o,a),$a(e,s,o)),o}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ef(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function gb(){return null}var my=typeof reportError=="function"?reportError:function(e){console.error(e)};function _f(e){this._internalRoot=e}fl.prototype.render=_f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));dl(e,t,null,null)};fl.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){dl(null,e,null,null)}),t[Pn]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Gg(e)}};function Cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function vb(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Lo(o);a.call(u)}}var o=py(t,r,e,0,null,!1,!1,"",wp);return e._reactRootContainer=o,e[Pn]=o.current,_s(e.nodeType===8?e.parentNode:e),Or(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Lo(c);l.call(u)}}var c=Sf(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=c,e[Pn]=c.current,_s(e.nodeType===8?e.parentNode:e),Or(function(){dl(t,c,n,r)}),c}function pl(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Lo(o);l.call(c)}}dl(t,o,e,s)}else o=vb(n,t,e,s,r);return Lo(o)}Wg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ss(t.pendingLanes);n!==0&&(Hd(t,n|1),Rt(t,Ze()),!(_e&6)&&(Ti=Ze()+500,dr()))}break;case 13:Or(function(){var r=On(e,1);if(r!==null){var s=bt();ln(r,e,1,s)}}),Ef(e,1)}};qd=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=bt();ln(t,e,134217728,n)}Ef(e,134217728)}};Hg=function(e){if(e.tag===13){var t=rr(e),n=On(e,t);if(n!==null){var r=bt();ln(n,e,t,r)}Ef(e,t)}};qg=function(){return Te};Yg=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};lu=function(e,t,n){switch(t){case"input":if(tu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=il(r);if(!s)throw Error(ee(90));Sg(r),tu(r,s)}}}break;case"textarea":_g(e,n);break;case"select":t=n.value,t!=null&&hi(e,!!n.multiple,t,!1)}};Pg=wf;Og=Or;var yb={usingClientEntryPoint:!1,Events:[Gs,ni,il,Rg,Dg,wf]},Zi={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xb={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fg(e),e===null?null:e.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||gb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{el=Ca.inject(xb),wn=Ca}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yb;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(t))throw Error(ee(200));return mb(e,t,null,n)};$t.createRoot=function(e,t){if(!Cf(e))throw Error(ee(299));var n=!1,r="",s=my;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,s),e[Pn]=t.current,_s(e.nodeType===8?e.parentNode:e),new _f(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Fg(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return Or(e)};$t.hydrate=function(e,t,n){if(!hl(t))throw Error(ee(200));return pl(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!Cf(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=my;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=py(t,null,e,1,n??null,s,!1,a,o),e[Pn]=t.current,_s(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fl(t)};$t.render=function(e,t,n){if(!hl(t))throw Error(ee(200));return pl(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!hl(e))throw Error(ee(40));return e._reactRootContainer?(Or(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};$t.unstable_batchedUpdates=wf;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hl(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return pl(e,t,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gy)}catch(e){console.error(e)}}gy(),gg.exports=$t;var wb=gg.exports,vy,jp=wb;vy=jp.createRoot,jp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}var Kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kn||(Kn={}));const bp="popstate";function jb(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return Uu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Io(s)}return Nb(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bb(){return Math.random().toString(36).substr(2,8)}function Np(e,t){return{usr:e.state,key:e.key,idx:t}}function Uu(e,t,n,r){return n===void 0&&(n=null),Ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fi(t):t,{state:n,key:t&&t.key||r||bb()})}function Io(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Nb(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Kn.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(Ls({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function g(){l=Kn.Pop;let m=p(),d=m==null?null:m-u;u=m,c&&c({action:l,location:j.location,delta:d})}function w(m,d){l=Kn.Push;let f=Uu(j.location,m,d);n&&n(f,m),u=p()+1;let y=Np(f,u),b=j.createHref(f);try{o.pushState(y,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}a&&c&&c({action:l,location:j.location,delta:1})}function S(m,d){l=Kn.Replace;let f=Uu(j.location,m,d);n&&n(f,m),u=p();let y=Np(f,u),b=j.createHref(f);o.replaceState(y,"",b),a&&c&&c({action:l,location:j.location,delta:0})}function N(m){let d=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof m=="string"?m:Io(m);return f=f.replace(/ $/,"%20"),et(d,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,d)}let j={get action(){return l},get location(){return e(s,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bp,g),c=m,()=>{s.removeEventListener(bp,g),c=null}},createHref(m){return t(s,m)},createURL:N,encodeLocation(m){let d=N(m);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:w,replace:S,go(m){return o.go(m)}};return j}var Sp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sp||(Sp={}));function Sb(e,t,n){return n===void 0&&(n="/"),Eb(e,t,n,!1)}function Eb(e,t,n,r){let s=typeof t=="string"?Fi(t):t,a=kf(s.pathname||"/",n);if(a==null)return null;let o=xy(e);_b(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Fb(a);l=Lb(o[c],u,r)}return l}function xy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=sr([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xy(a.children,t,p,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Pb(u,a.index),routesMeta:p})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of wy(a.path))s(a,o,c)}),t}function wy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=wy(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _b(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ob(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cb=/^:[\w-]+$/,kb=3,Ab=2,Tb=1,Rb=10,Db=-2,Ep=e=>e==="*";function Pb(e,t){let n=e.split("/"),r=n.length;return n.some(Ep)&&(r+=Db),t&&(r+=Ab),n.filter(s=>!Ep(s)).reduce((s,a)=>s+(Cb.test(a)?kb:a===""?Tb:Rb),r)}function Ob(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Lb(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=_p({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),w=c.route;if(!g&&u&&n&&!r[r.length-1].route.index&&(g=_p({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:sr([a,g.pathname]),pathnameBase:Ub(sr([a,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(a=sr([a,g.pathnameBase]))}return o}function _p(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ib(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,p,g)=>{let{paramName:w,isOptional:S}=p;if(w==="*"){let j=l[g]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const N=l[g];return S&&!N?u[w]=void 0:u[w]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Ib(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Fb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Bb(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fi(e):e;return{pathname:n?n.startsWith("/")?n:Mb(n,t):t,search:zb(r),hash:Vb(s)}}function Mb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $b(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Af(e,t){let n=$b(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fi(e):(s=Ls({},e),et(!s.pathname||!s.pathname.includes("?"),pc("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),pc("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),pc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}l=g>=0?t[g]:"/"}let c=Bb(s,l),u=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const sr=e=>e.join("/").replace(/\/\/+/g,"/"),Ub=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jy=["post","put","patch","delete"];new Set(jy);const Hb=["get",...jy];new Set(Hb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(this,arguments)}const Rf=E.createContext(null),qb=E.createContext(null),fr=E.createContext(null),ml=E.createContext(null),Bn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),by=E.createContext(null);function Yb(e,t){let{relative:n}=t===void 0?{}:t;Bi()||et(!1);let{basename:r,navigator:s}=E.useContext(fr),{hash:a,pathname:o,search:l}=Sy(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:sr([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Bi(){return E.useContext(ml)!=null}function hr(){return Bi()||et(!1),E.useContext(ml).location}function Ny(e){E.useContext(fr).static||E.useLayoutEffect(e)}function Dt(){let{isDataRoute:e}=E.useContext(Bn);return e?aN():Gb()}function Gb(){Bi()||et(!1);let e=E.useContext(Rf),{basename:t,future:n,navigator:r}=E.useContext(fr),{matches:s}=E.useContext(Bn),{pathname:a}=hr(),o=JSON.stringify(Af(s,n.v7_relativeSplatPath)),l=E.useRef(!1);return Ny(()=>{l.current=!0}),E.useCallback(function(u,p){if(p===void 0&&(p={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let g=Tf(u,JSON.parse(o),a,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:sr([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,a,e])}function Df(){let{matches:e}=E.useContext(Bn),t=e[e.length-1];return t?t.params:{}}function Sy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(fr),{matches:s}=E.useContext(Bn),{pathname:a}=hr(),o=JSON.stringify(Af(s,r.v7_relativeSplatPath));return E.useMemo(()=>Tf(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Kb(e,t){return Qb(e,t)}function Qb(e,t,n,r){Bi()||et(!1);let{navigator:s}=E.useContext(fr),{matches:a}=E.useContext(Bn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=hr(),p;if(t){var g;let m=typeof t=="string"?Fi(t):t;c==="/"||(g=m.pathname)!=null&&g.startsWith(c)||et(!1),p=m}else p=u;let w=p.pathname||"/",S=w;if(c!=="/"){let m=c.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(m.length).join("/")}let N=Sb(e,{pathname:S}),j=tN(N&&N.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:sr([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:sr([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,n,r);return t&&j?E.createElement(ml.Provider,{value:{location:Is({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Kn.Pop}},j):j}function Jb(){let e=sN(),t=Wb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,a)}const Xb=E.createElement(Jb,null);class Zb extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(Bn.Provider,{value:this.props.routeContext},E.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eN(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(Rf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Bn.Provider,{value:t},r)}function tN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);p>=0||et(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=p),g.route.id){let{loaderData:w,errors:S}=n,N=g.route.loader&&w[g.route.id]===void 0&&(!S||S[g.route.id]===void 0);if(g.route.lazy||N){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,g,w)=>{let S,N=!1,j=null,m=null;n&&(S=l&&g.route.id?l[g.route.id]:void 0,j=g.route.errorElement||Xb,c&&(u<0&&w===0?(oN("route-fallback",!1),N=!0,m=null):u===w&&(N=!0,m=g.route.hydrateFallbackElement||null)));let d=t.concat(o.slice(0,w+1)),f=()=>{let y;return S?y=j:N?y=m:g.route.Component?y=E.createElement(g.route.Component,null):g.route.element?y=g.route.element:y=p,E.createElement(eN,{match:g,routeContext:{outlet:p,matches:d,isDataRoute:n!=null},children:y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?E.createElement(Zb,{location:n.location,revalidation:n.revalidation,component:j,error:S,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var Ey=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ey||{}),Fo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fo||{});function nN(e){let t=E.useContext(Rf);return t||et(!1),t}function rN(e){let t=E.useContext(qb);return t||et(!1),t}function iN(e){let t=E.useContext(Bn);return t||et(!1),t}function _y(e){let t=iN(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function sN(){var e;let t=E.useContext(by),n=rN(Fo.UseRouteError),r=_y(Fo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aN(){let{router:e}=nN(Ey.UseNavigateStable),t=_y(Fo.UseNavigateStable),n=E.useRef(!1);return Ny(()=>{n.current=!0}),E.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Is({fromRouteId:t},a)))},[e,t])}const Cp={};function oN(e,t,n){!t&&!Cp[e]&&(Cp[e]=!0)}function lN(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function zu(e){let{to:t,replace:n,state:r,relative:s}=e;Bi()||et(!1);let{future:a,static:o}=E.useContext(fr),{matches:l}=E.useContext(Bn),{pathname:c}=hr(),u=Dt(),p=Tf(t,Af(l,a.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return E.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:s}),[u,g,s,n,r]),null}function ke(e){et(!1)}function cN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Kn.Pop,navigator:a,static:o=!1,future:l}=e;Bi()&&et(!1);let c=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:a,static:o,future:Is({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Fi(r));let{pathname:p="/",search:g="",hash:w="",state:S=null,key:N="default"}=r,j=E.useMemo(()=>{let m=kf(p,c);return m==null?null:{location:{pathname:m,search:g,hash:w,state:S,key:N},navigationType:s}},[c,p,g,w,S,N,s]);return j==null?null:E.createElement(fr.Provider,{value:u},E.createElement(ml.Provider,{children:n,value:j}))}function uN(e){let{children:t,location:n}=e;return Kb(Vu(t),n)}new Promise(()=>{});function Vu(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let a=[...t,s];if(r.type===E.Fragment){n.push.apply(n,Vu(r.props.children,a));return}r.type!==ke&&et(!1),!r.props.index||!r.props.children||et(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vu(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}function dN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function fN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hN(e,t){return e.button===0&&(!t||t==="_self")&&!fN(e)}function Hu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function pN(e,t){let n=Hu(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const mN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gN="6";try{window.__reactRouterVersion=gN}catch{}const vN="startTransition",kp=cw[vN];function yN(e){let{basename:t,children:n,future:r,window:s}=e,a=E.useRef();a.current==null&&(a.current=jb({window:s,v5Compat:!0}));let o=a.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},p=E.useCallback(g=>{u&&kp?kp(()=>c(g)):c(g)},[c,u]);return E.useLayoutEffect(()=>o.listen(p),[o,p]),E.useEffect(()=>lN(r),[r]),E.createElement(cN,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const xN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:p,viewTransition:g}=t,w=dN(t,mN),{basename:S}=E.useContext(fr),N,j=!1;if(typeof u=="string"&&wN.test(u)&&(N=u,xN))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),C=kf(b.pathname,S);b.origin===y.origin&&C!=null?u=C+b.search+b.hash:j=!0}catch{}let m=Yb(u,{relative:s}),d=jN(u,{replace:o,state:l,target:c,preventScrollReset:p,relative:s,viewTransition:g});function f(y){r&&r(y),y.defaultPrevented||d(y)}return E.createElement("a",Wu({},w,{href:N||m,onClick:j||a?r:f,ref:n,target:c}))});var Ap;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var Tp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tp||(Tp={}));function jN(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Dt(),u=hr(),p=Sy(e,{relative:o});return E.useCallback(g=>{if(hN(g,n)){g.preventDefault();let w=r!==void 0?r:Io(u)===Io(p);c(e,{replace:w,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,p,r,s,n,e,a,o,l])}function bN(e){let t=E.useRef(Hu(e)),n=E.useRef(!1),r=hr(),s=E.useMemo(()=>pN(r.search,n.current?null:t.current),[r.search]),a=Dt(),o=E.useCallback((l,c)=>{const u=Hu(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,o]}function NN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cy={exports:{}},tt=Cy.exports={},vn,yn;function qu(){throw new Error("setTimeout has not been defined")}function Yu(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?vn=setTimeout:vn=qu}catch{vn=qu}try{typeof clearTimeout=="function"?yn=clearTimeout:yn=Yu}catch{yn=Yu}})();function ky(e){if(vn===setTimeout)return setTimeout(e,0);if((vn===qu||!vn)&&setTimeout)return vn=setTimeout,setTimeout(e,0);try{return vn(e,0)}catch{try{return vn.call(null,e,0)}catch{return vn.call(this,e,0)}}}function SN(e){if(yn===clearTimeout)return clearTimeout(e);if((yn===Yu||!yn)&&clearTimeout)return yn=clearTimeout,clearTimeout(e);try{return yn(e)}catch{try{return yn.call(null,e)}catch{return yn.call(this,e)}}}var Tn=[],xi=!1,Sr,Ya=-1;function EN(){!xi||!Sr||(xi=!1,Sr.length?Tn=Sr.concat(Tn):Ya=-1,Tn.length&&Ay())}function Ay(){if(!xi){var e=ky(EN);xi=!0;for(var t=Tn.length;t;){for(Sr=Tn,Tn=[];++Ya<t;)Sr&&Sr[Ya].run();Ya=-1,t=Tn.length}Sr=null,xi=!1,SN(e)}}tt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Tn.push(new Ty(e,t)),Tn.length===1&&!xi&&ky(Ay)};function Ty(e,t){this.fun=e,this.array=t}Ty.prototype.run=function(){this.fun.apply(null,this.array)};tt.title="browser";tt.browser=!0;tt.env={};tt.argv=[];tt.version="";tt.versions={};function Mn(){}tt.on=Mn;tt.addListener=Mn;tt.once=Mn;tt.off=Mn;tt.removeListener=Mn;tt.removeAllListeners=Mn;tt.emit=Mn;tt.prependListener=Mn;tt.prependOnceListener=Mn;tt.listeners=function(e){return[]};tt.binding=function(e){throw new Error("process.binding is not supported")};tt.cwd=function(){return"/"};tt.chdir=function(e){throw new Error("process.chdir is not supported")};tt.umask=function(){return 0};var _N=Cy.exports;const ve=NN(_N);function Ry(e,t){return function(){return e.apply(t,arguments)}}const{toString:CN}=Object.prototype,{getPrototypeOf:Pf}=Object,gl=(e=>t=>{const n=CN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dn=e=>(e=e.toLowerCase(),t=>gl(t)===e),vl=e=>t=>typeof t===e,{isArray:Mi}=Array,Fs=vl("undefined");function kN(e){return e!==null&&!Fs(e)&&e.constructor!==null&&!Fs(e.constructor)&&Bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dy=dn("ArrayBuffer");function AN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Dy(e.buffer),t}const TN=vl("string"),Bt=vl("function"),Py=vl("number"),yl=e=>e!==null&&typeof e=="object",RN=e=>e===!0||e===!1,Ga=e=>{if(gl(e)!=="object")return!1;const t=Pf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},DN=dn("Date"),PN=dn("File"),ON=dn("Blob"),LN=dn("FileList"),IN=e=>yl(e)&&Bt(e.pipe),FN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bt(e.append)&&((t=gl(e))==="formdata"||t==="object"&&Bt(e.toString)&&e.toString()==="[object FormData]"))},BN=dn("URLSearchParams"),[MN,$N,UN,zN]=["ReadableStream","Request","Response","Headers"].map(dn),VN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Mi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(r=0;r<o;r++)l=a[r],t.call(null,e[l],l,e)}}function Oy(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Er=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis)(),Ly=e=>!Fs(e)&&e!==Er;function Gu(){const{caseless:e}=Ly(this)&&this||{},t={},n=(r,s)=>{const a=e&&Oy(t,s)||s;Ga(t[a])&&Ga(r)?t[a]=Gu(t[a],r):Ga(r)?t[a]=Gu({},r):Mi(r)?t[a]=r.slice():t[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Qs(arguments[r],n);return t}const WN=(e,t,n,{allOwnKeys:r}={})=>(Qs(t,(s,a)=>{n&&Bt(s)?e[a]=Ry(s,n):e[a]=s},{allOwnKeys:r}),e),HN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qN=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},YN=(e,t,n,r)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Pf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},GN=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},KN=e=>{if(!e)return null;if(Mi(e))return e;let t=e.length;if(!Py(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},QN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Pf(Uint8Array)),JN=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},XN=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ZN=dn("HTMLFormElement"),e1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),t1=dn("RegExp"),Iy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Qs(n,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(r[a]=o||s)}),Object.defineProperties(e,r)},n1=e=>{Iy(e,(t,n)=>{if(Bt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Bt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},r1=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Mi(e)?r(e):r(String(e).split(t)),n},i1=()=>{},s1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function a1(e){return!!(e&&Bt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const o1=e=>{const t=new Array(10),n=(r,s)=>{if(yl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const a=Mi(r)?[]:{};return Qs(r,(o,l)=>{const c=n(o,s+1);!Fs(c)&&(a[l]=c)}),t[s]=void 0,a}}return r};return n(e,0)},l1=dn("AsyncFunction"),c1=e=>e&&(yl(e)||Bt(e))&&Bt(e.then)&&Bt(e.catch),Fy=((e,t)=>e?setImmediate:t?((n,r)=>(Er.addEventListener("message",({source:s,data:a})=>{s===Er&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Er.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bt(Er.postMessage)),u1=typeof queueMicrotask<"u"?queueMicrotask.bind(Er):typeof ve<"u"&&ve.nextTick||Fy,W={isArray:Mi,isArrayBuffer:Dy,isBuffer:kN,isFormData:FN,isArrayBufferView:AN,isString:TN,isNumber:Py,isBoolean:RN,isObject:yl,isPlainObject:Ga,isReadableStream:MN,isRequest:$N,isResponse:UN,isHeaders:zN,isUndefined:Fs,isDate:DN,isFile:PN,isBlob:ON,isRegExp:t1,isFunction:Bt,isStream:IN,isURLSearchParams:BN,isTypedArray:QN,isFileList:LN,forEach:Qs,merge:Gu,extend:WN,trim:VN,stripBOM:HN,inherits:qN,toFlatObject:YN,kindOf:gl,kindOfTest:dn,endsWith:GN,toArray:KN,forEachEntry:JN,matchAll:XN,isHTMLForm:ZN,hasOwnProperty:Rp,hasOwnProp:Rp,reduceDescriptors:Iy,freezeMethods:n1,toObjectSet:r1,toCamelCase:e1,noop:i1,toFiniteNumber:s1,findKey:Oy,globalThis:Er,isContextDefined:Ly,isSpecCompliantForm:a1,toJSONObject:o1,isAsyncFn:l1,isThenable:c1,setImmediate:Fy,asap:u1};var Mr={};(function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},n={};n.byteLength=p,n.toByteArray=w,n.fromByteArray=j;for(var r=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=o.length;l<c;++l)r[l]=o[l],s[o.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;function u(f){var y=f.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=f.indexOf("=");b===-1&&(b=y);var C=b===y?0:4-b%4;return[b,C]}function p(f){var y=u(f),b=y[0],C=y[1];return(b+C)*3/4-C}function g(f,y,b){return(y+b)*3/4-b}function w(f){var y,b=u(f),C=b[0],A=b[1],x=new a(g(f,C,A)),k=0,D=A>0?C-4:C,B;for(B=0;B<D;B+=4)y=s[f.charCodeAt(B)]<<18|s[f.charCodeAt(B+1)]<<12|s[f.charCodeAt(B+2)]<<6|s[f.charCodeAt(B+3)],x[k++]=y>>16&255,x[k++]=y>>8&255,x[k++]=y&255;return A===2&&(y=s[f.charCodeAt(B)]<<2|s[f.charCodeAt(B+1)]>>4,x[k++]=y&255),A===1&&(y=s[f.charCodeAt(B)]<<10|s[f.charCodeAt(B+1)]<<4|s[f.charCodeAt(B+2)]>>2,x[k++]=y>>8&255,x[k++]=y&255),x}function S(f){return r[f>>18&63]+r[f>>12&63]+r[f>>6&63]+r[f&63]}function N(f,y,b){for(var C,A=[],x=y;x<b;x+=3)C=(f[x]<<16&16711680)+(f[x+1]<<8&65280)+(f[x+2]&255),A.push(S(C));return A.join("")}function j(f){for(var y,b=f.length,C=b%3,A=[],x=16383,k=0,D=b-C;k<D;k+=x)A.push(N(f,k,k+x>D?D:k+x));return C===1?(y=f[b-1],A.push(r[y>>2]+r[y<<4&63]+"==")):C===2&&(y=(f[b-2]<<8)+f[b-1],A.push(r[y>>10]+r[y>>4&63]+r[y<<2&63]+"=")),A.join("")}var m={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(f,y,b,C,A){var x,k,D=A*8-C-1,B=(1<<D)-1,q=B>>1,L=-7,Q=b?A-1:0,le=b?-1:1,ce=f[y+Q];for(Q+=le,x=ce&(1<<-L)-1,ce>>=-L,L+=D;L>0;x=x*256+f[y+Q],Q+=le,L-=8);for(k=x&(1<<-L)-1,x>>=-L,L+=C;L>0;k=k*256+f[y+Q],Q+=le,L-=8);if(x===0)x=1-q;else{if(x===B)return k?NaN:(ce?-1:1)*(1/0);k=k+Math.pow(2,C),x=x-q}return(ce?-1:1)*k*Math.pow(2,x-C)},m.write=function(f,y,b,C,A,x){var k,D,B,q=x*8-A-1,L=(1<<q)-1,Q=L>>1,le=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,ce=C?0:x-1,re=C?1:-1,ue=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(D=isNaN(y)?1:0,k=L):(k=Math.floor(Math.log(y)/Math.LN2),y*(B=Math.pow(2,-k))<1&&(k--,B*=2),k+Q>=1?y+=le/B:y+=le*Math.pow(2,1-Q),y*B>=2&&(k++,B/=2),k+Q>=L?(D=0,k=L):k+Q>=1?(D=(y*B-1)*Math.pow(2,A),k=k+Q):(D=y*Math.pow(2,Q-1)*Math.pow(2,A),k=0));A>=8;f[b+ce]=D&255,ce+=re,D/=256,A-=8);for(k=k<<A|D,q+=A;q>0;f[b+ce]=k&255,ce+=re,k/=256,q-=8);f[b+ce-re]|=ue*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(f){const y=n,b=m,C=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=L,f.SlowBuffer=$,f.INSPECT_MAX_BYTES=50;const A=2147483647;f.kMaxLength=A;const{Uint8Array:x,ArrayBuffer:k,SharedArrayBuffer:D}=globalThis;L.TYPED_ARRAY_SUPPORT=B(),!L.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function B(){try{const _=new x(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,x.prototype),Object.setPrototypeOf(_,h),_.foo()===42}catch{return!1}}Object.defineProperty(L.prototype,"parent",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.buffer}}),Object.defineProperty(L.prototype,"offset",{enumerable:!0,get:function(){if(L.isBuffer(this))return this.byteOffset}});function q(_){if(_>A)throw new RangeError('The value "'+_+'" is invalid for option "size"');const h=new x(_);return Object.setPrototypeOf(h,L.prototype),h}function L(_,h,v){if(typeof _=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return re(_)}return Q(_,h,v)}L.poolSize=8192;function Q(_,h,v){if(typeof _=="string")return ue(_,h);if(k.isView(_))return te(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(Be(_,k)||_&&Be(_.buffer,k)||typeof D<"u"&&(Be(_,D)||_&&Be(_.buffer,D)))return ne(_,h,v);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=_.valueOf&&_.valueOf();if(R!=null&&R!==_)return L.from(R,h,v);const M=he(_);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return L.from(_[Symbol.toPrimitive]("string"),h,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}L.from=function(_,h,v){return Q(_,h,v)},Object.setPrototypeOf(L.prototype,x.prototype),Object.setPrototypeOf(L,x);function le(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function ce(_,h,v){return le(_),_<=0?q(_):h!==void 0?typeof v=="string"?q(_).fill(h,v):q(_).fill(h):q(_)}L.alloc=function(_,h,v){return ce(_,h,v)};function re(_){return le(_),q(_<0?0:O(_)|0)}L.allocUnsafe=function(_){return re(_)},L.allocUnsafeSlow=function(_){return re(_)};function ue(_,h){if((typeof h!="string"||h==="")&&(h="utf8"),!L.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const v=U(_,h)|0;let R=q(v);const M=R.write(_,h);return M!==v&&(R=R.slice(0,M)),R}function J(_){const h=_.length<0?0:O(_.length)|0,v=q(h);for(let R=0;R<h;R+=1)v[R]=_[R]&255;return v}function te(_){if(Be(_,x)){const h=new x(_);return ne(h.buffer,h.byteOffset,h.byteLength)}return J(_)}function ne(_,h,v){if(h<0||_.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<h+(v||0))throw new RangeError('"length" is outside of buffer bounds');let R;return h===void 0&&v===void 0?R=new x(_):v===void 0?R=new x(_,h):R=new x(_,h,v),Object.setPrototypeOf(R,L.prototype),R}function he(_){if(L.isBuffer(_)){const h=O(_.length)|0,v=q(h);return v.length===0||_.copy(v,0,0,h),v}if(_.length!==void 0)return typeof _.length!="number"||lt(_.length)?q(0):J(_);if(_.type==="Buffer"&&Array.isArray(_.data))return J(_.data)}function O(_){if(_>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return _|0}function $(_){return+_!=_&&(_=0),L.alloc(+_)}L.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==L.prototype},L.compare=function(h,v){if(Be(h,x)&&(h=L.from(h,h.offset,h.byteLength)),Be(v,x)&&(v=L.from(v,v.offset,v.byteLength)),!L.isBuffer(h)||!L.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===v)return 0;let R=h.length,M=v.length;for(let z=0,Y=Math.min(R,M);z<Y;++z)if(h[z]!==v[z]){R=h[z],M=v[z];break}return R<M?-1:M<R?1:0},L.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(h,v){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return L.alloc(0);let R;if(v===void 0)for(v=0,R=0;R<h.length;++R)v+=h[R].length;const M=L.allocUnsafe(v);let z=0;for(R=0;R<h.length;++R){let Y=h[R];if(Be(Y,x))z+Y.length>M.length?(L.isBuffer(Y)||(Y=L.from(Y)),Y.copy(M,z)):x.prototype.set.call(M,Y,z);else if(L.isBuffer(Y))Y.copy(M,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=Y.length}return M};function U(_,h){if(L.isBuffer(_))return _.length;if(k.isView(_)||Be(_,k))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);const v=_.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&v===0)return 0;let M=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return vr(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ca(_).length;default:if(M)return R?-1:vr(_).length;h=(""+h).toLowerCase(),M=!0}}L.byteLength=U;function se(_,h,v){let R=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,h>>>=0,v<=h))return"";for(_||(_="utf8");;)switch(_){case"hex":return Xe(this,h,v);case"utf8":case"utf-8":return ye(this,h,v);case"ascii":return ie(this,h,v);case"latin1":case"binary":return H(this,h,v);case"base64":return Z(this,h,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,h,v);default:if(R)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),R=!0}}L.prototype._isBuffer=!0;function I(_,h,v){const R=_[h];_[h]=_[v],_[v]=R}L.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<h;v+=2)I(this,v,v+1);return this},L.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<h;v+=4)I(this,v,v+3),I(this,v+1,v+2);return this},L.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<h;v+=8)I(this,v,v+7),I(this,v+1,v+6),I(this,v+2,v+5),I(this,v+3,v+4);return this},L.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?ye(this,0,h):se.apply(this,arguments)},L.prototype.toLocaleString=L.prototype.toString,L.prototype.equals=function(h){if(!L.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:L.compare(this,h)===0},L.prototype.inspect=function(){let h="";const v=f.INSPECT_MAX_BYTES;return h=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(h+=" ... "),"<Buffer "+h+">"},C&&(L.prototype[C]=L.prototype.inspect),L.prototype.compare=function(h,v,R,M,z){if(Be(h,x)&&(h=L.from(h,h.offset,h.byteLength)),!L.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(v===void 0&&(v=0),R===void 0&&(R=h?h.length:0),M===void 0&&(M=0),z===void 0&&(z=this.length),v<0||R>h.length||M<0||z>this.length)throw new RangeError("out of range index");if(M>=z&&v>=R)return 0;if(M>=z)return-1;if(v>=R)return 1;if(v>>>=0,R>>>=0,M>>>=0,z>>>=0,this===h)return 0;let Y=z-M,me=R-v;const Oe=Math.min(Y,me),Le=this.slice(M,z),Ie=h.slice(v,R);for(let Ae=0;Ae<Oe;++Ae)if(Le[Ae]!==Ie[Ae]){Y=Le[Ae],me=Ie[Ae];break}return Y<me?-1:me<Y?1:0};function F(_,h,v,R,M){if(_.length===0)return-1;if(typeof v=="string"?(R=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,lt(v)&&(v=M?0:_.length-1),v<0&&(v=_.length+v),v>=_.length){if(M)return-1;v=_.length-1}else if(v<0)if(M)v=0;else return-1;if(typeof h=="string"&&(h=L.from(h,R)),L.isBuffer(h))return h.length===0?-1:V(_,h,v,R,M);if(typeof h=="number")return h=h&255,typeof x.prototype.indexOf=="function"?M?x.prototype.indexOf.call(_,h,v):x.prototype.lastIndexOf.call(_,h,v):V(_,[h],v,R,M);throw new TypeError("val must be string, number or Buffer")}function V(_,h,v,R,M){let z=1,Y=_.length,me=h.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(_.length<2||h.length<2)return-1;z=2,Y/=2,me/=2,v/=2}function Oe(Ie,Ae){return z===1?Ie[Ae]:Ie.readUInt16BE(Ae*z)}let Le;if(M){let Ie=-1;for(Le=v;Le<Y;Le++)if(Oe(_,Le)===Oe(h,Ie===-1?0:Le-Ie)){if(Ie===-1&&(Ie=Le),Le-Ie+1===me)return Ie*z}else Ie!==-1&&(Le-=Le-Ie),Ie=-1}else for(v+me>Y&&(v=Y-me),Le=v;Le>=0;Le--){let Ie=!0;for(let Ae=0;Ae<me;Ae++)if(Oe(_,Le+Ae)!==Oe(h,Ae)){Ie=!1;break}if(Ie)return Le}return-1}L.prototype.includes=function(h,v,R){return this.indexOf(h,v,R)!==-1},L.prototype.indexOf=function(h,v,R){return F(this,h,v,R,!0)},L.prototype.lastIndexOf=function(h,v,R){return F(this,h,v,R,!1)};function X(_,h,v,R){v=Number(v)||0;const M=_.length-v;R?(R=Number(R),R>M&&(R=M)):R=M;const z=h.length;R>z/2&&(R=z/2);let Y;for(Y=0;Y<R;++Y){const me=parseInt(h.substr(Y*2,2),16);if(lt(me))return Y;_[v+Y]=me}return Y}function ae(_,h,v,R){return yr(vr(h,_.length-v),_,v,R)}function T(_,h,v,R){return yr($l(h),_,v,R)}function P(_,h,v,R){return yr(ca(h),_,v,R)}function K(_,h,v,R){return yr(la(h,_.length-v),_,v,R)}L.prototype.write=function(h,v,R,M){if(v===void 0)M="utf8",R=this.length,v=0;else if(R===void 0&&typeof v=="string")M=v,R=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(R)?(R=R>>>0,M===void 0&&(M="utf8")):(M=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-v;if((R===void 0||R>z)&&(R=z),h.length>0&&(R<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let Y=!1;for(;;)switch(M){case"hex":return X(this,h,v,R);case"utf8":case"utf-8":return ae(this,h,v,R);case"ascii":case"latin1":case"binary":return T(this,h,v,R);case"base64":return P(this,h,v,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,h,v,R);default:if(Y)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),Y=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(_,h,v){return h===0&&v===_.length?y.fromByteArray(_):y.fromByteArray(_.slice(h,v))}function ye(_,h,v){v=Math.min(_.length,v);const R=[];let M=h;for(;M<v;){const z=_[M];let Y=null,me=z>239?4:z>223?3:z>191?2:1;if(M+me<=v){let Oe,Le,Ie,Ae;switch(me){case 1:z<128&&(Y=z);break;case 2:Oe=_[M+1],(Oe&192)===128&&(Ae=(z&31)<<6|Oe&63,Ae>127&&(Y=Ae));break;case 3:Oe=_[M+1],Le=_[M+2],(Oe&192)===128&&(Le&192)===128&&(Ae=(z&15)<<12|(Oe&63)<<6|Le&63,Ae>2047&&(Ae<55296||Ae>57343)&&(Y=Ae));break;case 4:Oe=_[M+1],Le=_[M+2],Ie=_[M+3],(Oe&192)===128&&(Le&192)===128&&(Ie&192)===128&&(Ae=(z&15)<<18|(Oe&63)<<12|(Le&63)<<6|Ie&63,Ae>65535&&Ae<1114112&&(Y=Ae))}}Y===null?(Y=65533,me=1):Y>65535&&(Y-=65536,R.push(Y>>>10&1023|55296),Y=56320|Y&1023),R.push(Y),M+=me}return xe(R)}const de=4096;function xe(_){const h=_.length;if(h<=de)return String.fromCharCode.apply(String,_);let v="",R=0;for(;R<h;)v+=String.fromCharCode.apply(String,_.slice(R,R+=de));return v}function ie(_,h,v){let R="";v=Math.min(_.length,v);for(let M=h;M<v;++M)R+=String.fromCharCode(_[M]&127);return R}function H(_,h,v){let R="";v=Math.min(_.length,v);for(let M=h;M<v;++M)R+=String.fromCharCode(_[M]);return R}function Xe(_,h,v){const R=_.length;(!h||h<0)&&(h=0),(!v||v<0||v>R)&&(v=R);let M="";for(let z=h;z<v;++z)M+=Wr[_[z]];return M}function mt(_,h,v){const R=_.slice(h,v);let M="";for(let z=0;z<R.length-1;z+=2)M+=String.fromCharCode(R[z]+R[z+1]*256);return M}L.prototype.slice=function(h,v){const R=this.length;h=~~h,v=v===void 0?R:~~v,h<0?(h+=R,h<0&&(h=0)):h>R&&(h=R),v<0?(v+=R,v<0&&(v=0)):v>R&&(v=R),v<h&&(v=h);const M=this.subarray(h,v);return Object.setPrototypeOf(M,L.prototype),M};function Pe(_,h,v){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+h>v)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUintLE=L.prototype.readUIntLE=function(h,v,R){h=h>>>0,v=v>>>0,R||Pe(h,v,this.length);let M=this[h],z=1,Y=0;for(;++Y<v&&(z*=256);)M+=this[h+Y]*z;return M},L.prototype.readUintBE=L.prototype.readUIntBE=function(h,v,R){h=h>>>0,v=v>>>0,R||Pe(h,v,this.length);let M=this[h+--v],z=1;for(;v>0&&(z*=256);)M+=this[h+--v]*z;return M},L.prototype.readUint8=L.prototype.readUInt8=function(h,v){return h=h>>>0,v||Pe(h,1,this.length),this[h]},L.prototype.readUint16LE=L.prototype.readUInt16LE=function(h,v){return h=h>>>0,v||Pe(h,2,this.length),this[h]|this[h+1]<<8},L.prototype.readUint16BE=L.prototype.readUInt16BE=function(h,v){return h=h>>>0,v||Pe(h,2,this.length),this[h]<<8|this[h+1]},L.prototype.readUint32LE=L.prototype.readUInt32LE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},L.prototype.readUint32BE=L.prototype.readUInt32BE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},L.prototype.readBigUInt64LE=Ce(function(h){h=h>>>0,En(h,"offset");const v=this[h],R=this[h+7];(v===void 0||R===void 0)&&gr(h,this.length-8);const M=v+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,z=this[++h]+this[++h]*2**8+this[++h]*2**16+R*2**24;return BigInt(M)+(BigInt(z)<<BigInt(32))}),L.prototype.readBigUInt64BE=Ce(function(h){h=h>>>0,En(h,"offset");const v=this[h],R=this[h+7];(v===void 0||R===void 0)&&gr(h,this.length-8);const M=v*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],z=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+R;return(BigInt(M)<<BigInt(32))+BigInt(z)}),L.prototype.readIntLE=function(h,v,R){h=h>>>0,v=v>>>0,R||Pe(h,v,this.length);let M=this[h],z=1,Y=0;for(;++Y<v&&(z*=256);)M+=this[h+Y]*z;return z*=128,M>=z&&(M-=Math.pow(2,8*v)),M},L.prototype.readIntBE=function(h,v,R){h=h>>>0,v=v>>>0,R||Pe(h,v,this.length);let M=v,z=1,Y=this[h+--M];for(;M>0&&(z*=256);)Y+=this[h+--M]*z;return z*=128,Y>=z&&(Y-=Math.pow(2,8*v)),Y},L.prototype.readInt8=function(h,v){return h=h>>>0,v||Pe(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},L.prototype.readInt16LE=function(h,v){h=h>>>0,v||Pe(h,2,this.length);const R=this[h]|this[h+1]<<8;return R&32768?R|4294901760:R},L.prototype.readInt16BE=function(h,v){h=h>>>0,v||Pe(h,2,this.length);const R=this[h+1]|this[h]<<8;return R&32768?R|4294901760:R},L.prototype.readInt32LE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},L.prototype.readInt32BE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},L.prototype.readBigInt64LE=Ce(function(h){h=h>>>0,En(h,"offset");const v=this[h],R=this[h+7];(v===void 0||R===void 0)&&gr(h,this.length-8);const M=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(R<<24);return(BigInt(M)<<BigInt(32))+BigInt(v+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),L.prototype.readBigInt64BE=Ce(function(h){h=h>>>0,En(h,"offset");const v=this[h],R=this[h+7];(v===void 0||R===void 0)&&gr(h,this.length-8);const M=(v<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(M)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+R)}),L.prototype.readFloatLE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),b.read(this,h,!0,23,4)},L.prototype.readFloatBE=function(h,v){return h=h>>>0,v||Pe(h,4,this.length),b.read(this,h,!1,23,4)},L.prototype.readDoubleLE=function(h,v){return h=h>>>0,v||Pe(h,8,this.length),b.read(this,h,!0,52,8)},L.prototype.readDoubleBE=function(h,v){return h=h>>>0,v||Pe(h,8,this.length),b.read(this,h,!1,52,8)};function ze(_,h,v,R,M,z){if(!L.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>M||h<z)throw new RangeError('"value" argument is out of bounds');if(v+R>_.length)throw new RangeError("Index out of range")}L.prototype.writeUintLE=L.prototype.writeUIntLE=function(h,v,R,M){if(h=+h,v=v>>>0,R=R>>>0,!M){const me=Math.pow(2,8*R)-1;ze(this,h,v,R,me,0)}let z=1,Y=0;for(this[v]=h&255;++Y<R&&(z*=256);)this[v+Y]=h/z&255;return v+R},L.prototype.writeUintBE=L.prototype.writeUIntBE=function(h,v,R,M){if(h=+h,v=v>>>0,R=R>>>0,!M){const me=Math.pow(2,8*R)-1;ze(this,h,v,R,me,0)}let z=R-1,Y=1;for(this[v+z]=h&255;--z>=0&&(Y*=256);)this[v+z]=h/Y&255;return v+R},L.prototype.writeUint8=L.prototype.writeUInt8=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,1,255,0),this[v]=h&255,v+1},L.prototype.writeUint16LE=L.prototype.writeUInt16LE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,2,65535,0),this[v]=h&255,this[v+1]=h>>>8,v+2},L.prototype.writeUint16BE=L.prototype.writeUInt16BE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,2,65535,0),this[v]=h>>>8,this[v+1]=h&255,v+2},L.prototype.writeUint32LE=L.prototype.writeUInt32LE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,4,4294967295,0),this[v+3]=h>>>24,this[v+2]=h>>>16,this[v+1]=h>>>8,this[v]=h&255,v+4},L.prototype.writeUint32BE=L.prototype.writeUInt32BE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,4,4294967295,0),this[v]=h>>>24,this[v+1]=h>>>16,this[v+2]=h>>>8,this[v+3]=h&255,v+4};function Jt(_,h,v,R,M){Sn(h,R,M,_,v,7);let z=Number(h&BigInt(4294967295));_[v++]=z,z=z>>8,_[v++]=z,z=z>>8,_[v++]=z,z=z>>8,_[v++]=z;let Y=Number(h>>BigInt(32)&BigInt(4294967295));return _[v++]=Y,Y=Y>>8,_[v++]=Y,Y=Y>>8,_[v++]=Y,Y=Y>>8,_[v++]=Y,v}function Xt(_,h,v,R,M){Sn(h,R,M,_,v,7);let z=Number(h&BigInt(4294967295));_[v+7]=z,z=z>>8,_[v+6]=z,z=z>>8,_[v+5]=z,z=z>>8,_[v+4]=z;let Y=Number(h>>BigInt(32)&BigInt(4294967295));return _[v+3]=Y,Y=Y>>8,_[v+2]=Y,Y=Y>>8,_[v+1]=Y,Y=Y>>8,_[v]=Y,v+8}L.prototype.writeBigUInt64LE=Ce(function(h,v=0){return Jt(this,h,v,BigInt(0),BigInt("0xffffffffffffffff"))}),L.prototype.writeBigUInt64BE=Ce(function(h,v=0){return Xt(this,h,v,BigInt(0),BigInt("0xffffffffffffffff"))}),L.prototype.writeIntLE=function(h,v,R,M){if(h=+h,v=v>>>0,!M){const Oe=Math.pow(2,8*R-1);ze(this,h,v,R,Oe-1,-Oe)}let z=0,Y=1,me=0;for(this[v]=h&255;++z<R&&(Y*=256);)h<0&&me===0&&this[v+z-1]!==0&&(me=1),this[v+z]=(h/Y>>0)-me&255;return v+R},L.prototype.writeIntBE=function(h,v,R,M){if(h=+h,v=v>>>0,!M){const Oe=Math.pow(2,8*R-1);ze(this,h,v,R,Oe-1,-Oe)}let z=R-1,Y=1,me=0;for(this[v+z]=h&255;--z>=0&&(Y*=256);)h<0&&me===0&&this[v+z+1]!==0&&(me=1),this[v+z]=(h/Y>>0)-me&255;return v+R},L.prototype.writeInt8=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,1,127,-128),h<0&&(h=255+h+1),this[v]=h&255,v+1},L.prototype.writeInt16LE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,2,32767,-32768),this[v]=h&255,this[v+1]=h>>>8,v+2},L.prototype.writeInt16BE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,2,32767,-32768),this[v]=h>>>8,this[v+1]=h&255,v+2},L.prototype.writeInt32LE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,4,2147483647,-2147483648),this[v]=h&255,this[v+1]=h>>>8,this[v+2]=h>>>16,this[v+3]=h>>>24,v+4},L.prototype.writeInt32BE=function(h,v,R){return h=+h,v=v>>>0,R||ze(this,h,v,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[v]=h>>>24,this[v+1]=h>>>16,this[v+2]=h>>>8,this[v+3]=h&255,v+4},L.prototype.writeBigInt64LE=Ce(function(h,v=0){return Jt(this,h,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),L.prototype.writeBigInt64BE=Ce(function(h,v=0){return Xt(this,h,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pt(_,h,v,R,M,z){if(v+R>_.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Et(_,h,v,R,M){return h=+h,v=v>>>0,M||Pt(_,h,v,4),b.write(_,h,v,R,23,4),v+4}L.prototype.writeFloatLE=function(h,v,R){return Et(this,h,v,!0,R)},L.prototype.writeFloatBE=function(h,v,R){return Et(this,h,v,!1,R)};function _t(_,h,v,R,M){return h=+h,v=v>>>0,M||Pt(_,h,v,8),b.write(_,h,v,R,52,8),v+8}L.prototype.writeDoubleLE=function(h,v,R){return _t(this,h,v,!0,R)},L.prototype.writeDoubleBE=function(h,v,R){return _t(this,h,v,!1,R)},L.prototype.copy=function(h,v,R,M){if(!L.isBuffer(h))throw new TypeError("argument should be a Buffer");if(R||(R=0),!M&&M!==0&&(M=this.length),v>=h.length&&(v=h.length),v||(v=0),M>0&&M<R&&(M=R),M===R||h.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),h.length-v<M-R&&(M=h.length-v+R);const z=M-R;return this===h&&typeof x.prototype.copyWithin=="function"?this.copyWithin(v,R,M):x.prototype.set.call(h,this.subarray(R,M),v),z},L.prototype.fill=function(h,v,R,M){if(typeof h=="string"){if(typeof v=="string"?(M=v,v=0,R=this.length):typeof R=="string"&&(M=R,R=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!L.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(h.length===1){const Y=h.charCodeAt(0);(M==="utf8"&&Y<128||M==="latin1")&&(h=Y)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(v<0||this.length<v||this.length<R)throw new RangeError("Out of range index");if(R<=v)return this;v=v>>>0,R=R===void 0?this.length:R>>>0,h||(h=0);let z;if(typeof h=="number")for(z=v;z<R;++z)this[z]=h;else{const Y=L.isBuffer(h)?h:L.from(h,M),me=Y.length;if(me===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(z=0;z<R-v;++z)this[z+v]=Y[z%me]}return this};const Ot={};function Nn(_,h,v){Ot[_]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}Nn("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Nn("ERR_INVALID_ARG_TYPE",function(_,h){return`The "${_}" argument must be of type number. Received type ${typeof h}`},TypeError),Nn("ERR_OUT_OF_RANGE",function(_,h,v){let R=`The value of "${_}" is out of range.`,M=v;return Number.isInteger(v)&&Math.abs(v)>2**32?M=Un(String(v)):typeof v=="bigint"&&(M=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(M=Un(M)),M+="n"),R+=` It must be ${h}. Received ${M}`,R},RangeError);function Un(_){let h="",v=_.length;const R=_[0]==="-"?1:0;for(;v>=R+4;v-=3)h=`_${_.slice(v-3,v)}${h}`;return`${_.slice(0,v)}${h}`}function Vr(_,h,v){En(h,"offset"),(_[h]===void 0||_[h+v]===void 0)&&gr(h,_.length-(v+1))}function Sn(_,h,v,R,M,z){if(_>v||_<h){const Y=typeof h=="bigint"?"n":"";let me;throw z>3?h===0||h===BigInt(0)?me=`>= 0${Y} and < 2${Y} ** ${(z+1)*8}${Y}`:me=`>= -(2${Y} ** ${(z+1)*8-1}${Y}) and < 2 ** ${(z+1)*8-1}${Y}`:me=`>= ${h}${Y} and <= ${v}${Y}`,new Ot.ERR_OUT_OF_RANGE("value",me,_)}Vr(R,M,z)}function En(_,h){if(typeof _!="number")throw new Ot.ERR_INVALID_ARG_TYPE(h,"number",_)}function gr(_,h,v){throw Math.floor(_)!==_?(En(_,v),new Ot.ERR_OUT_OF_RANGE(v||"offset","an integer",_)):h<0?new Ot.ERR_BUFFER_OUT_OF_BOUNDS:new Ot.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${h}`,_)}const aa=/[^+/0-9A-Za-z-_]/g;function oa(_){if(_=_.split("=")[0],_=_.trim().replace(aa,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function vr(_,h){h=h||1/0;let v;const R=_.length;let M=null;const z=[];for(let Y=0;Y<R;++Y){if(v=_.charCodeAt(Y),v>55295&&v<57344){if(!M){if(v>56319){(h-=3)>-1&&z.push(239,191,189);continue}else if(Y+1===R){(h-=3)>-1&&z.push(239,191,189);continue}M=v;continue}if(v<56320){(h-=3)>-1&&z.push(239,191,189),M=v;continue}v=(M-55296<<10|v-56320)+65536}else M&&(h-=3)>-1&&z.push(239,191,189);if(M=null,v<128){if((h-=1)<0)break;z.push(v)}else if(v<2048){if((h-=2)<0)break;z.push(v>>6|192,v&63|128)}else if(v<65536){if((h-=3)<0)break;z.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((h-=4)<0)break;z.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return z}function $l(_){const h=[];for(let v=0;v<_.length;++v)h.push(_.charCodeAt(v)&255);return h}function la(_,h){let v,R,M;const z=[];for(let Y=0;Y<_.length&&!((h-=2)<0);++Y)v=_.charCodeAt(Y),R=v>>8,M=v%256,z.push(M),z.push(R);return z}function ca(_){return y.toByteArray(oa(_))}function yr(_,h,v,R){let M;for(M=0;M<R&&!(M+v>=h.length||M>=_.length);++M)h[M+v]=_[M];return M}function Be(_,h){return _ instanceof h||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===h.name}function lt(_){return _!==_}const Wr=function(){const _="0123456789abcdef",h=new Array(256);for(let v=0;v<16;++v){const R=v*16;for(let M=0;M<16;++M)h[R+M]=_[v]+_[M]}return h}();function Ce(_){return typeof BigInt>"u"?zt:_}function zt(){throw new Error("BigInt not supported")}})(t);const d=t.Buffer;e.Blob=t.Blob,e.BlobOptions=t.BlobOptions,e.Buffer=t.Buffer,e.File=t.File,e.FileOptions=t.FileOptions,e.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,e.SlowBuffer=t.SlowBuffer,e.TranscodeEncoding=t.TranscodeEncoding,e.atob=t.atob,e.btoa=t.btoa,e.constants=t.constants,e.default=d,e.isAscii=t.isAscii,e.isUtf8=t.isUtf8,e.kMaxLength=t.kMaxLength,e.kStringMaxLength=t.kStringMaxLength,e.resolveObjectURL=t.resolveObjectURL,e.transcode=t.transcode})(Mr);const d1=Pi(Mr);function ge(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const By=ge.prototype,My={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{My[e]={value:e}});Object.defineProperties(ge,My);Object.defineProperty(By,"isAxiosError",{value:!0});ge.from=(e,t,n,r,s,a)=>{const o=Object.create(By);return W.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ge.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const f1=null;function Ku(e){return W.isPlainObject(e)||W.isArray(e)}function $y(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Dp(e,t,n){return e?e.concat(t).map(function(s,a){return s=$y(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function h1(e){return W.isArray(e)&&!e.some(Ku)}const p1=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function xl(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,m){return!W.isUndefined(m[j])});const r=n.metaTokens,s=n.visitor||p,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function u(N){if(N===null)return"";if(W.isDate(N))return N.toISOString();if(!c&&W.isBlob(N))throw new ge("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(N)||W.isTypedArray(N)?c&&typeof Blob=="function"?new Blob([N]):d1.from(N):N}function p(N,j,m){let d=N;if(N&&!m&&typeof N=="object"){if(W.endsWith(j,"{}"))j=r?j:j.slice(0,-2),N=JSON.stringify(N);else if(W.isArray(N)&&h1(N)||(W.isFileList(N)||W.endsWith(j,"[]"))&&(d=W.toArray(N)))return j=$y(j),d.forEach(function(y,b){!(W.isUndefined(y)||y===null)&&t.append(o===!0?Dp([j],b,a):o===null?j:j+"[]",u(y))}),!1}return Ku(N)?!0:(t.append(Dp(m,j,a),u(N)),!1)}const g=[],w=Object.assign(p1,{defaultVisitor:p,convertValue:u,isVisitable:Ku});function S(N,j){if(!W.isUndefined(N)){if(g.indexOf(N)!==-1)throw Error("Circular reference detected in "+j.join("."));g.push(N),W.forEach(N,function(d,f){(!(W.isUndefined(d)||d===null)&&s.call(t,d,W.isString(f)?f.trim():f,j,w))===!0&&S(d,j?j.concat(f):[f])}),g.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Pp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Of(e,t){this._pairs=[],e&&xl(e,this,t)}const Uy=Of.prototype;Uy.append=function(t,n){this._pairs.push([t,n])};Uy.toString=function(t){const n=t?function(r){return t.call(this,r,Pp)}:Pp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function m1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zy(e,t,n){if(!t)return e;const r=n&&n.encode||m1;W.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=W.isURLSearchParams(t)?t.toString():new Of(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class g1{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Op=g1,Vy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v1=typeof URLSearchParams<"u"?URLSearchParams:Of,y1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,w1={isBrowser:!0,classes:{URLSearchParams:v1,FormData:y1,Blob:x1},protocols:["http","https","file","blob","url","data"]},Lf=typeof window<"u"&&typeof document<"u",Qu=typeof navigator=="object"&&navigator||void 0,j1=Lf&&(!Qu||["ReactNative","NativeScript","NS"].indexOf(Qu.product)<0),b1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),N1=Lf&&window.location.href||"http://localhost",S1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lf,hasStandardBrowserEnv:j1,hasStandardBrowserWebWorkerEnv:b1,navigator:Qu,origin:N1},Symbol.toStringTag,{value:"Module"})),xt={...S1,...w1};function E1(e,t){return xl(e,new xt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return xt.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function _1(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C1(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function Wy(e){function t(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&W.isArray(s)?s.length:o,c?(W.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!W.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],a)&&W.isArray(s[o])&&(s[o]=C1(s[o])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(r,s)=>{t(_1(r),s,n,0)}),n}return null}function k1(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const If={transitional:Vy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=W.isObject(t);if(a&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return s?JSON.stringify(Wy(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E1(t,this.formSerializer).toString();if((l=W.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return xl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),k1(t)):t}],transformResponse:[function(t){const n=this.transitional||If.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ge.from(l,ge.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xt.classes.FormData,Blob:xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{If.headers[e]={}});const Ff=If,A1=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T1=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&A1[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Lp=Symbol("internals");function es(e){return e&&String(e).trim().toLowerCase()}function Ka(e){return e===!1||e==null?e:W.isArray(e)?e.map(Ka):String(e)}function R1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const D1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mc(e,t,n,r,s){if(W.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!W.isString(t)){if(W.isString(r))return t.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(t)}}function P1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function O1(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,o){return this[r].call(this,t,s,a,o)},configurable:!0})})}class wl{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(l,c,u){const p=es(c);if(!p)throw new Error("header name must be a non-empty string");const g=W.findKey(s,p);(!g||s[g]===void 0||u===!0||u===void 0&&s[g]!==!1)&&(s[g||c]=Ka(l))}const o=(l,c)=>W.forEach(l,(u,p)=>a(u,p,c));if(W.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(W.isString(t)&&(t=t.trim())&&!D1(t))o(T1(t),n);else if(W.isHeaders(t))for(const[l,c]of t.entries())a(c,l,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=es(t),t){const r=W.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return R1(s);if(W.isFunction(n))return n.call(this,s,r);if(W.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=es(t),t){const r=W.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||mc(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(o){if(o=es(o),o){const l=W.findKey(r,o);l&&(!n||mc(r,r[l],l,n))&&(delete r[l],s=!0)}}return W.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||mc(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return W.forEach(this,(s,a)=>{const o=W.findKey(r,a);if(o){n[o]=Ka(s),delete n[a];return}const l=t?P1(a):String(a).trim();l!==a&&delete n[a],n[l]=Ka(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return W.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Lp]=this[Lp]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=es(o);r[l]||(O1(s,o),r[l]=!0)}return W.isArray(t)?t.forEach(a):a(t),this}}wl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(wl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});W.freezeMethods(wl);const cn=wl;function gc(e,t){const n=this||Ff,r=t||n,s=cn.from(r.headers);let a=r.data;return W.forEach(e,function(l){a=l.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Hy(e){return!!(e&&e.__CANCEL__)}function $i(e,t,n){ge.call(this,e??"canceled",ge.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits($i,ge,{__CANCEL__:!0});function qy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function L1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function I1(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),p=r[a];o||(o=u),n[s]=c,r[s]=u;let g=a,w=0;for(;g!==s;)w+=n[g++],g=g%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-o<t)return;const S=p&&u-p;return S?Math.round(w*1e3/S):void 0}}function F1(e,t){let n=0,r=1e3/t,s,a;const o=(u,p=Date.now())=>{n=p,s=null,a&&(clearTimeout(a),a=null),e.apply(null,u)};return[(...u)=>{const p=Date.now(),g=p-n;g>=r?o(u,p):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},r-g)))},()=>s&&o(s)]}const Bo=(e,t,n=3)=>{let r=0;const s=I1(50,250);return F1(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-r,u=s(c),p=o<=l;r=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&p?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(g)},n)},Ip=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Fp=e=>(...t)=>W.asap(()=>e(...t)),B1=xt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,xt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(xt.origin),xt.navigator&&/(msie|trident)/i.test(xt.navigator.userAgent)):()=>!0,M1=xt.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),W.isString(r)&&o.push("path="+r),W.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function U1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Yy(e,t,n){let r=!$1(t);return e&&(r||n==!1)?U1(e,t):t}const Bp=e=>e instanceof cn?{...e}:e;function Lr(e,t){t=t||{};const n={};function r(u,p,g,w){return W.isPlainObject(u)&&W.isPlainObject(p)?W.merge.call({caseless:w},u,p):W.isPlainObject(p)?W.merge({},p):W.isArray(p)?p.slice():p}function s(u,p,g,w){if(W.isUndefined(p)){if(!W.isUndefined(u))return r(void 0,u,g,w)}else return r(u,p,g,w)}function a(u,p){if(!W.isUndefined(p))return r(void 0,p)}function o(u,p){if(W.isUndefined(p)){if(!W.isUndefined(u))return r(void 0,u)}else return r(void 0,p)}function l(u,p,g){if(g in t)return r(u,p);if(g in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,p,g)=>s(Bp(u),Bp(p),g,!0)};return W.forEach(Object.keys(Object.assign({},e,t)),function(p){const g=c[p]||s,w=g(e[p],t[p],p);W.isUndefined(w)&&g!==l||(n[p]=w)}),n}const Gy=e=>{const t=Lr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=cn.from(o),t.url=zy(Yy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(W.isFormData(n)){if(xt.hasStandardBrowserEnv||xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...p]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...p].join("; "))}}if(xt.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||r!==!1&&B1(t.url))){const u=s&&a&&M1.read(a);u&&o.set(s,u)}return t},z1=typeof XMLHttpRequest<"u",V1=z1&&function(e){return new Promise(function(n,r){const s=Gy(e);let a=s.data;const o=cn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,p,g,w,S,N;function j(){S&&S(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function d(){if(!m)return;const y=cn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:e,request:m};qy(function(x){n(x),j()},function(x){r(x),j()},C),m=null}"onloadend"in m?m.onloadend=d:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(d)},m.onabort=function(){m&&(r(new ge("Request aborted",ge.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||Vy;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new ge(b,C.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,e,m)),m=null},a===void 0&&o.setContentType(null),"setRequestHeader"in m&&W.forEach(o.toJSON(),function(b,C){m.setRequestHeader(C,b)}),W.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),l&&l!=="json"&&(m.responseType=s.responseType),u&&([w,N]=Bo(u,!0),m.addEventListener("progress",w)),c&&m.upload&&([g,S]=Bo(c),m.upload.addEventListener("progress",g),m.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(p=y=>{m&&(r(!y||y.type?new $i(null,e,m):y),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const f=L1(s.url);if(f&&xt.protocols.indexOf(f)===-1){r(new ge("Unsupported protocol "+f+":",ge.ERR_BAD_REQUEST,e));return}m.send(a||null)})},W1=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(u){if(!s){s=!0,l();const p=u instanceof Error?u:this.reason;r.abort(p instanceof ge?p:new $i(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,a(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>W.asap(l),c}},H1=W1,q1=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Y1=async function*(e,t){for await(const n of G1(e))yield*q1(n,t)},G1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Mp=(e,t,n,r)=>{const s=Y1(e,t);let a=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:p}=await s.next();if(u){l(),c.close();return}let g=p.byteLength;if(n){let w=a+=g;n(w)}c.enqueue(new Uint8Array(p))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},jl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ky=jl&&typeof ReadableStream=="function",K1=jl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Qy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Q1=Ky&&Qy(()=>{let e=!1;const t=new Request(xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$p=64*1024,Ju=Ky&&Qy(()=>W.isReadableStream(new Response("").body)),Mo={stream:Ju&&(e=>e.body)};jl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Mo[t]&&(Mo[t]=W.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ge(`Response type '${t}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const J1=async e=>{if(e==null)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e))return(await new Request(xt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(W.isArrayBufferView(e)||W.isArrayBuffer(e))return e.byteLength;if(W.isURLSearchParams(e)&&(e=e+""),W.isString(e))return(await K1(e)).byteLength},X1=async(e,t)=>{const n=W.toFiniteNumber(e.getContentLength());return n??J1(t)},Z1=jl&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:p,withCredentials:g="same-origin",fetchOptions:w}=Gy(e);u=u?(u+"").toLowerCase():"text";let S=H1([s,a&&a.toAbortSignal()],o),N;const j=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let m;try{if(c&&Q1&&n!=="get"&&n!=="head"&&(m=await X1(p,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),A;if(W.isFormData(r)&&(A=C.headers.get("content-type"))&&p.setContentType(A),C.body){const[x,k]=Ip(m,Bo(Fp(c)));r=Mp(C.body,$p,x,k)}}W.isString(g)||(g=g?"include":"omit");const d="credentials"in Request.prototype;N=new Request(t,{...w,signal:S,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:d?g:void 0});let f=await fetch(N);const y=Ju&&(u==="stream"||u==="response");if(Ju&&(l||y&&j)){const C={};["status","statusText","headers"].forEach(D=>{C[D]=f[D]});const A=W.toFiniteNumber(f.headers.get("content-length")),[x,k]=l&&Ip(A,Bo(Fp(l),!0))||[];f=new Response(Mp(f.body,$p,x,()=>{k&&k(),j&&j()}),C)}u=u||"text";let b=await Mo[W.findKey(Mo,u)||"text"](f,e);return!y&&j&&j(),await new Promise((C,A)=>{qy(C,A,{data:b,headers:cn.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:N})})}catch(d){throw j&&j(),d&&d.name==="TypeError"&&/fetch/i.test(d.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,e,N),{cause:d.cause||d}):ge.from(d,d&&d.code,e,N)}}),Xu={http:f1,xhr:V1,fetch:Z1};W.forEach(Xu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Up=e=>`- ${e}`,eS=e=>W.isFunction(e)||e===null||e===!1,Jy={getAdapter:e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){n=e[a];let o;if(r=n,!eS(n)&&(r=Xu[(o=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(Up).join(`
`):" "+Up(a[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xu};function vc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $i(null,e)}function zp(e){return vc(e),e.headers=cn.from(e.headers),e.data=gc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jy.getAdapter(e.adapter||Ff.adapter)(e).then(function(r){return vc(e),r.data=gc.call(e,e.transformResponse,r),r.headers=cn.from(r.headers),r},function(r){return Hy(r)||(vc(e),r&&r.response&&(r.response.data=gc.call(e,e.transformResponse,r.response),r.response.headers=cn.from(r.response.headers))),Promise.reject(r)})}const Xy="1.8.4",bl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Vp={};bl.transitional=function(t,n,r){function s(a,o){return"[Axios v"+Xy+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(t===!1)throw new ge(s(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!Vp[o]&&(Vp[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};bl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function tS(e,t,n){if(typeof e!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new ge("option "+a+" must be "+c,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+a,ge.ERR_BAD_OPTION)}}const Qa={assertOptions:tS,validators:bl},pn=Qa.validators;class $o{constructor(t){this.defaults=t,this.interceptors={request:new Op,response:new Op}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Lr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Qa.assertOptions(r,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),s!=null&&(W.isFunction(s)?n.paramsSerializer={serialize:s}:Qa.assertOptions(s,{encode:pn.function,serialize:pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qa.assertOptions(n,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&W.merge(a.common,a[n.method]);a&&W.forEach(["delete","get","head","post","put","patch","common"],N=>{delete a[N]}),n.headers=cn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let p,g=0,w;if(!c){const N=[zp.bind(this),void 0];for(N.unshift.apply(N,l),N.push.apply(N,u),w=N.length,p=Promise.resolve(n);g<w;)p=p.then(N[g++],N[g++]);return p}w=l.length;let S=n;for(g=0;g<w;){const N=l[g++],j=l[g++];try{S=N(S)}catch(m){j.call(this,m);break}}try{p=zp.call(this,S)}catch(N){return Promise.reject(N)}for(g=0,w=u.length;g<w;)p=p.then(u[g++],u[g++]);return p}getUri(t){t=Lr(this.defaults,t);const n=Yy(t.baseURL,t.url,t.allowAbsoluteUrls);return zy(n,t.params,t.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(t){$o.prototype[t]=function(n,r){return this.request(Lr(r||{},{method:t,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,l){return this.request(Lr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}$o.prototype[t]=n(),$o.prototype[t+"Form"]=n(!0)});const Ja=$o;class Bf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,l){r.reason||(r.reason=new $i(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Bf(function(s){t=s}),cancel:t}}}const nS=Bf;function rS(e){return function(n){return e.apply(null,n)}}function iS(e){return W.isObject(e)&&e.isAxiosError===!0}const Zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zu).forEach(([e,t])=>{Zu[t]=e});const sS=Zu;function Zy(e){const t=new Ja(e),n=Ry(Ja.prototype.request,t);return W.extend(n,Ja.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Zy(Lr(e,s))},n}const st=Zy(Ff);st.Axios=Ja;st.CanceledError=$i;st.CancelToken=nS;st.isCancel=Hy;st.VERSION=Xy;st.toFormData=xl;st.AxiosError=ge;st.Cancel=st.CanceledError;st.all=function(t){return Promise.all(t)};st.spread=rS;st.isAxiosError=iS;st.mergeConfig=Lr;st.AxiosHeaders=cn;st.formToJSON=e=>Wy(W.isHTMLForm(e)?new FormData(e):e);st.getAdapter=Jy.getAdapter;st.HttpStatusCode=sS;st.default=st;const aS=st,je=aS.create({baseURL:"https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api"});je.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));je.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)));class Wp{static async register(t){return(await je.post("/auth/register",t)).data}static async login(t){return(await je.post("/auth/login",t)).data}static async getMe(){return je.get("/auth/me").then(t=>t.data.user)}}const ex=E.createContext(null),oS=({children:e})=>{const[t,n]=E.useState(null),[r,s]=E.useState(!0);E.useEffect(()=>{const c=localStorage.getItem("user");c&&n(JSON.parse(c)),s(!1)},[]);const a=async(c,u)=>{var p,g,w,S,N,j;try{const m={email:c,password:u};console.log("Attempting login with:",{email:c});const d=await Wp.login(m);return console.log("Login successful:",d),n(d.user),localStorage.setItem("user",JSON.stringify(d.user)),localStorage.setItem("token",d.token),d.user}catch(m){throw console.error("Login error:",m),console.error("Error response:",(p=m.response)==null?void 0:p.data),console.error("Error status:",(g=m.response)==null?void 0:g.status),((w=m.response)==null?void 0:w.status)===500?new Error("Server error. Please try again later."):((S=m.response)==null?void 0:S.status)===401?new Error("Invalid email or password."):(j=(N=m.response)==null?void 0:N.data)!=null&&j.error?new Error(m.response.data.error):new Error("Login failed. Please check your connection.")}},o=async c=>{try{return await Wp.register(c)}catch(u){throw console.error("Registration error:",u),u}},l=()=>{n(null),localStorage.removeItem("user"),localStorage.removeItem("token")};return i.jsx(ex.Provider,{value:{user:t,login:a,register:o,logout:l,loading:r},children:e})},De=()=>{const e=E.useContext(ex);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},tx=E.createContext(null),He=()=>{const e=E.useContext(tx);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},lS=({children:e})=>{const[t,n]=E.useState([]),r=(l,c="info",u=5e3)=>{const p=Date.now()+Math.random(),g={id:p,message:l,type:c,duration:u};return n(w=>[...w,g]),u>0&&setTimeout(()=>{s(p)},u),p},s=l=>{n(c=>c.filter(u=>u.id!==l))},o={notifications:t,addNotification:r,removeNotification:s,clearNotifications:()=>{n([])}};return i.jsx(tx.Provider,{value:o,children:e})};function cS({status:e,size:t="medium",showLabel:n=!0}){const s=(()=>{switch(e){case"approved":return{label:"Verified",color:"green",icon:"✓"};case"rejected":return{label:"Not Verified",color:"red",icon:"✕"};case"pending":default:return{label:"Pending Verification",color:"amber",icon:"⟳"}}})(),a=`verification-status-${t}`;return i.jsx("div",{className:"verification-status-container",children:i.jsxs("span",{className:`verification-status ${a} ${s.color}`,children:[i.jsx("span",{className:"status-icon",children:s.icon}),n&&i.jsx("span",{className:"status-label",children:s.label})]})})}function Hp(){var d,f,y,b,C;const{user:e}=De(),{addNotification:t}=He(),n=Dt(),{doctorId:r}=Df(),[s,a]=E.useState(null),[o,l]=E.useState(!0),[c,u]=E.useState(""),[p,g]=E.useState(!1),[w,S]=E.useState([]);E.useEffect(()=>{(async()=>{try{const x=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/verifications/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(x.ok){const k=await x.json();S(k)}}catch(x){console.error("Error fetching pending verifications:",x)}})()},[]),E.useEffect(()=>{if(!r){l(!1);return}(async()=>{try{l(!0);const x=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/verifications/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(x.ok){const k=await x.json();a(k)}else t("Failed to fetch doctor details","error")}catch(x){console.error("Error fetching doctor details:",x),t("Error fetching doctor details","error")}finally{l(!1)}})()},[r,t]);const N=async()=>{await m("approve")},j=async()=>{if(!c.trim()){t("Please provide rejection reason in the notes","error");return}await m("reject")},m=async A=>{try{g(!0);const x=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/verifications/${r}/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({notes:c})});if(x.ok)t(`Doctor verification ${A==="approve"?"approved":"rejected"} successfully`,"success"),S(w.filter(k=>k._id!==r)),n("/admin/verifications");else{const k=await x.json();throw new Error(k.error||`Failed to ${A} verification`)}}catch(x){console.error(`Error ${A}ing verification:`,x),t(x.message||`Error ${A}ing verification`,"error")}finally{g(!1)}};return!e||e.role!=="admin"?i.jsx("div",{className:"verification-review-page",children:i.jsxs("div",{className:"unauthorized-message",children:[i.jsx("h2",{children:"Unauthorized Access"}),i.jsx("p",{children:"You must be an admin to view this page."}),i.jsx(pe,{to:"/",className:"btn-back",children:"Return to Home"})]})}):o?i.jsx("div",{className:"verification-review-page",children:i.jsx("div",{className:"loading-spinner",children:"Loading..."})}):i.jsx("div",{className:"verification-review-page",children:i.jsxs("div",{className:"verification-review-container",children:[i.jsx("h1",{children:"Doctor Verification Review"}),r?s&&i.jsxs("div",{className:"doctor-verification-details",children:[i.jsxs("div",{className:"verification-header",children:[i.jsxs("div",{className:"doctor-info",children:[i.jsxs("h2",{children:["Dr. ",(f=(d=s.user)==null?void 0:d.profile)==null?void 0:f.firstName," ",(b=(y=s.user)==null?void 0:y.profile)==null?void 0:b.lastName]}),i.jsx("p",{className:"doctor-email",children:(C=s.user)==null?void 0:C.email}),i.jsx(cS,{status:s.verificationStatus})]}),i.jsx(pe,{to:"/admin/verifications",className:"btn-back",children:"Back to List"})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:"Professional Information"}),i.jsxs("div",{className:"detail-grid",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Specialization"}),i.jsx("span",{className:"detail-value",children:s.specialization})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"License Number"}),i.jsx("span",{className:"detail-value",children:s.licenseNumber})]})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:"Education"}),s.education&&s.education.length>0?i.jsx("ul",{className:"education-list",children:s.education.map((A,x)=>i.jsxs("li",{className:"education-item",children:[i.jsx("div",{className:"education-degree",children:A.degree}),i.jsx("div",{className:"education-institution",children:A.institution}),i.jsx("div",{className:"education-year",children:A.year})]},x))}):i.jsx("p",{className:"no-items",children:"No education information provided"})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:"Experience"}),s.experience&&s.experience.length>0?i.jsx("ul",{className:"experience-list",children:s.experience.map((A,x)=>i.jsxs("li",{className:"experience-item",children:[i.jsx("div",{className:"experience-position",children:A.position}),i.jsx("div",{className:"experience-hospital",children:A.hospital}),i.jsxs("div",{className:"experience-period",children:[A.startYear," - ",A.endYear]})]},x))}):i.jsx("p",{className:"no-items",children:"No experience information provided"})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:"Verification Documents"}),s.verificationDocuments&&s.verificationDocuments.length>0?i.jsx("ul",{className:"document-list",children:s.verificationDocuments.map((A,x)=>i.jsxs("li",{className:"document-item",children:[i.jsx("div",{className:"document-type",children:A.type.charAt(0).toUpperCase()+A.type.slice(1)}),i.jsx("a",{href:A.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"}),i.jsxs("div",{className:"document-date",children:["Uploaded: ",new Date(A.uploadedAt).toLocaleDateString()]})]},x))}):i.jsx("p",{className:"no-items",children:"No documents uploaded"})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h3",{children:"Review Notes"}),i.jsx("textarea",{className:"review-notes",value:c,onChange:A=>u(A.target.value),placeholder:"Enter your review notes here (required for rejection)",rows:4})]}),i.jsxs("div",{className:"verification-actions",children:[i.jsx("button",{className:"btn-reject",onClick:j,disabled:p,children:p?"Processing...":"Reject Verification"}),i.jsx("button",{className:"btn-approve",onClick:N,disabled:p,children:p?"Processing...":"Approve Verification"})]})]}):i.jsxs("div",{className:"pending-verifications-list",children:[i.jsx("h2",{children:"Pending Verifications"}),w.length===0?i.jsx("p",{className:"no-items",children:"No pending verification requests"}):i.jsx("ul",{className:"pending-list",children:w.map(A=>{var x,k,D,B;return i.jsxs("li",{className:"pending-list-item",children:[i.jsxs("div",{className:"doctor-basic-info",children:[i.jsxs("h3",{children:["Dr. ",(k=(x=A.user)==null?void 0:x.profile)==null?void 0:k.firstName," ",(B=(D=A.user)==null?void 0:D.profile)==null?void 0:B.lastName]}),i.jsx("p",{children:A.specialization}),i.jsxs("p",{className:"submitted-date",children:["Submitted: ",new Date(A.createdAt).toLocaleDateString()]})]}),i.jsx(pe,{to:`/admin/verifications/${A._id}`,className:"btn-view-details",children:"Review Request"})]},A._id)})})]})]})})}class qp extends fe.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by ErrorBoundary:",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?i.jsxs("div",{className:"error-boundary",children:[i.jsx("h2",{children:"Something went wrong."}),i.jsxs("details",{children:[i.jsx("summary",{children:"View error details"}),i.jsx("p",{children:this.state.error&&this.state.error.toString()}),i.jsx("p",{children:"Component Stack Error Details:"}),i.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),i.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},className:"btn-primary",children:"Try again"})]}):this.props.children}}function uS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const dS=E.forwardRef(uS),fS=dS;function hS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const pS=E.forwardRef(hS),mS=pS;function gS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const vS=E.forwardRef(gS),yS=vS;function xS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const wS=E.forwardRef(xS),ed=wS;function jS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const bS=E.forwardRef(jS),Yp=bS;function NS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const SS=E.forwardRef(NS),ES=SS;function _S({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const CS=E.forwardRef(_S),Xa=CS;function kS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const AS=E.forwardRef(kS),Gp=AS;function TS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const RS=E.forwardRef(TS),Kp=RS;function DS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const PS=E.forwardRef(DS),ka=PS;function OS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const LS=E.forwardRef(OS),td=LS;function IS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const FS=E.forwardRef(IS),Qp=FS;function BS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const MS=E.forwardRef(BS),nx=MS;function $S({sidebarOpen:e,setSidebarOpen:t}){var g,w,S;const{user:n,logout:r}=De(),s=Dt(),[a,o]=E.useState(!1),[l,c]=E.useState(!1),u=()=>{r(),s("/login")},p=[{name:"Home",href:"/"},{name:"About",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"}];return i.jsxs("header",{className:"header",children:[i.jsx("div",{className:"header-container",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("div",{className:"header-left",children:[n&&i.jsxs("button",{type:"button",className:"mobile-menu-btn",onClick:()=>t&&t(!e),children:[i.jsx("span",{className:"sr-only",children:"Open sidebar"}),i.jsx(mS,{className:"menu-icon","aria-hidden":"true"})]}),i.jsx("div",{className:"logo-container",children:i.jsxs(pe,{to:"/",className:"logo-link",children:[i.jsx("div",{className:"logo-icon",children:i.jsx("span",{className:"logo-text",children:"TM"})}),i.jsx("span",{className:"logo-title",children:"TeleMedicine"})]})})]}),!n&&i.jsx("nav",{className:"header-nav",children:p.map(N=>i.jsx(pe,{to:N.href,className:"nav-link",children:N.name},N.name))}),i.jsx("div",{className:"header-right",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:"notification-btn",children:[i.jsx("span",{className:"sr-only",children:"View notifications"}),i.jsx(yS,{className:"notification-icon","aria-hidden":"true"})]}),i.jsxs("div",{className:"user-menu",children:[i.jsxs("button",{type:"button",className:"user-menu-btn",onClick:()=>c(!l),children:[i.jsx("span",{className:"sr-only",children:"Open user menu"}),i.jsx("div",{className:"user-avatar",children:(g=n.profile)!=null&&g.photo?i.jsx("img",{className:"user-avatar-img",src:n.profile.photo,alt:""}):i.jsx(td,{className:"user-avatar-icon","aria-hidden":"true"})})]}),l&&i.jsxs("div",{className:"user-menu-dropdown",children:[i.jsxs("div",{className:"user-info",children:[i.jsxs("p",{className:"user-name",children:[(w=n.profile)==null?void 0:w.firstName," ",(S=n.profile)==null?void 0:S.lastName]}),i.jsx("p",{className:"user-email",children:n.email})]}),i.jsx("div",{className:"menu-divider"}),i.jsxs(pe,{to:"/profile",className:"menu-item",children:[i.jsx(td,{className:"menu-icon"}),"Profile"]}),i.jsxs(pe,{to:"/settings",className:"menu-item",children:[i.jsx(Xa,{className:"menu-icon"}),"Settings"]}),i.jsx("div",{className:"menu-divider"}),i.jsxs("button",{onClick:u,className:"menu-item menu-item-logout",children:[i.jsx(fS,{className:"menu-icon"}),"Sign out"]})]})]})]}):i.jsxs("div",{className:"auth-buttons",children:[i.jsx(pe,{to:"/login",className:"btn btn-secondary",children:"Sign in"}),i.jsx(pe,{to:"/register",className:"btn btn-primary",children:"Get Started"})]})})]})}),!n&&a&&i.jsx("div",{className:"mobile-menu-overlay",children:i.jsxs("div",{className:"mobile-menu",children:[i.jsxs("div",{className:"mobile-menu-header",children:[i.jsxs("div",{className:"logo-container",children:[i.jsx("div",{className:"logo-icon",children:i.jsx("span",{className:"logo-text",children:"TM"})}),i.jsx("span",{className:"logo-title",children:"TeleMedicine"})]}),i.jsxs("button",{type:"button",className:"mobile-menu-close",onClick:()=>o(!1),children:[i.jsx("span",{className:"sr-only",children:"Close menu"}),i.jsx(nx,{className:"close-icon","aria-hidden":"true"})]})]}),i.jsxs("div",{className:"mobile-nav",children:[p.map(N=>i.jsx(pe,{to:N.href,className:"mobile-nav-link",onClick:()=>o(!1),children:N.name},N.name)),i.jsxs("div",{className:"mobile-auth",children:[i.jsx(pe,{to:"/login",className:"btn btn-secondary btn-full",children:"Sign in"}),i.jsx(pe,{to:"/register",className:"btn btn-primary btn-full",children:"Get Started"})]})]})]})})]})}function US({sidebarOpen:e,setSidebarOpen:t}){var o,l,c,u,p,g,w;const{user:n}=De(),r=hr(),a=(()=>{const S=[{name:"Dashboard",href:"/dashboard",icon:Kp},{name:"Appointments",href:"/appointments",icon:ed}];return(n==null?void 0:n.role)==="doctor"?[...S,{name:"Patients",href:"/patients",icon:ka},{name:"Medical Records",href:"/medical-records",icon:Gp},{name:"Video Calls",href:"/video-calls",icon:Qp},{name:"Analytics",href:"/analytics",icon:Yp},{name:"Settings",href:"/settings",icon:Xa}]:(n==null?void 0:n.role)==="patient"?[...S,{name:"My Doctors",href:"/doctors",icon:ka},{name:"Medical History",href:"/medical-records",icon:Gp},{name:"Video Calls",href:"/patient/video-calls",icon:Qp},{name:"Settings",href:"/patient/settings",icon:Xa}]:(n==null?void 0:n.role)==="admin"?[{name:"Dashboard",href:"/admin/dashboard",icon:Kp},{name:"Users",href:"/admin/users",icon:ka},{name:"Doctors",href:"/admin/doctors",icon:ka},{name:"Appointments",href:"/admin/appointments",icon:ed},{name:"Analytics",href:"/admin/analytics",icon:Yp},{name:"Settings",href:"/admin/settings",icon:Xa}]:S})();return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`sidebar-overlay ${e?"open":""}`,onClick:()=>t(!1)}),i.jsx("div",{className:`sidebar ${e?"open":""}`,children:i.jsxs("div",{className:"sidebar-content",children:[i.jsx("div",{className:"sidebar-close-container",children:i.jsxs("button",{type:"button",className:"sidebar-close-btn",onClick:()=>t(!1),children:[i.jsx("span",{className:"sr-only",children:"Close sidebar"}),i.jsx(nx,{className:"close-icon","aria-hidden":"true"})]})}),i.jsx("div",{className:"sidebar-header",children:i.jsxs("div",{className:"sidebar-logo",children:[i.jsx("div",{className:"logo-icon",children:i.jsx("span",{className:"logo-text",children:"TM"})}),i.jsx("span",{className:"logo-title",children:"TeleMedicine"})]})}),i.jsx("nav",{className:"sidebar-nav",children:i.jsx("ul",{className:"nav-list",children:a.map(S=>{const N=r.pathname===S.href;return i.jsx("li",{className:"nav-item",children:i.jsxs(pe,{to:S.href,className:`nav-link ${N?"active":""}`,children:[i.jsx(S.icon,{className:"nav-icon","aria-hidden":"true"}),i.jsx("span",{className:"nav-text",children:S.name})]})},S.name)})})}),i.jsx("div",{className:"sidebar-user",children:i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-avatar",children:(o=n==null?void 0:n.profile)!=null&&o.photo?i.jsx("img",{className:"user-avatar-img",src:n.profile.photo,alt:""}):i.jsx("span",{className:"user-avatar-text",children:((c=(l=n==null?void 0:n.profile)==null?void 0:l.firstName)==null?void 0:c[0])||((p=(u=n==null?void 0:n.email)==null?void 0:u[0])==null?void 0:p.toUpperCase())||"U"})}),i.jsxs("div",{className:"user-details",children:[i.jsxs("p",{className:"user-name",children:[(g=n==null?void 0:n.profile)==null?void 0:g.firstName," ",(w=n==null?void 0:n.profile)==null?void 0:w.lastName]}),i.jsx("p",{className:"user-role",children:n==null?void 0:n.role})]})]})})]})})]})}function zS(){const{user:e}=De(),t=hr(),n=r=>t.pathname===r;return i.jsxs(i.Fragment,{children:[!e&&i.jsxs("div",{className:"mobile-bottom-nav",children:[i.jsxs(pe,{to:"/",className:`mobile-nav-item ${n("/")?"active":""}`,children:[i.jsx("div",{className:"mobile-nav-icon",children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]})}),i.jsx("span",{className:"mobile-nav-label",children:"Home"})]}),i.jsxs(pe,{to:"/about",className:`mobile-nav-item ${n("/about")?"active":""}`,children:[i.jsx("div",{className:"mobile-nav-icon",children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),i.jsx("path",{d:"M12 17h.01"})]})}),i.jsx("span",{className:"mobile-nav-label",children:"About"})]}),i.jsxs(pe,{to:"/services",className:`mobile-nav-item ${n("/services")?"active":""}`,children:[i.jsx("div",{className:"mobile-nav-icon",children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),i.jsx("span",{className:"mobile-nav-label",children:"Services"})]}),i.jsxs(pe,{to:"/contact",className:`mobile-nav-item ${n("/contact")?"active":""}`,children:[i.jsx("div",{className:"mobile-nav-icon",children:i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),i.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),i.jsx("span",{className:"mobile-nav-label",children:"Contact"})]})]}),i.jsx("footer",{className:"footer",children:i.jsx("div",{className:"container",children:i.jsxs("p",{children:["© ",new Date().getFullYear()," TeleMed. All rights reserved."]})})})]})}function VS(){const{notifications:e,removeNotification:t}=He();return e.length===0?null:i.jsx("div",{className:"notification-container",children:e.map(n=>i.jsxs("div",{className:`notification ${n.type}`,children:[i.jsx("span",{children:n.message}),i.jsx("button",{onClick:()=>t(n.id),children:"×"})]},n.id))})}function WS({children:e}){const[t,n]=E.useState(!1),{user:r}=De();return i.jsxs("div",{className:"layout-container",children:[i.jsx($S,{sidebarOpen:t,setSidebarOpen:n}),i.jsx(VS,{}),i.jsxs("div",{className:"layout-content",children:[r&&i.jsx(US,{sidebarOpen:t,setSidebarOpen:n}),i.jsx("main",{className:`main-content ${r?"with-sidebar":"without-sidebar"}`,children:i.jsx("div",{className:"content-container",children:e})})]}),i.jsx(zS,{})]})}function HS(){const{user:e}=De();return i.jsxs("div",{className:"home-page",children:[i.jsx("section",{className:"hero",children:i.jsxs("div",{className:"hero-content",children:[i.jsx("h1",{children:e?`Welcome back, ${e.name||"User"}`:"Healthcare at Your Fingertips"}),i.jsx("p",{children:"Connect with licensed doctors remotely and get medical advice, prescriptions, and care whenever you need it."}),i.jsxs("div",{className:"cta-buttons",children:[e?i.jsx(pe,{to:"/dashboard",className:"btn btn-primary animated-element",children:"Go to Dashboard"}):i.jsx(pe,{to:"/register",className:"btn btn-primary animated-element",children:"Get Started Now"}),i.jsx(pe,{to:"/doctors",className:"btn btn-secondary",children:"Browse Doctors"})]})]})}),i.jsxs("section",{className:"features",children:[i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:"📅"}),i.jsx("h3",{children:"Quick Appointments"}),i.jsx("p",{children:"Schedule virtual visits with just a few clicks, no waiting rooms needed."})]}),i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:"👨‍⚕️"}),i.jsx("h3",{children:"Expert Doctors"}),i.jsx("p",{children:"Connect with board-certified physicians across various specialties."})]}),i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:"💊"}),i.jsx("h3",{children:"Digital Prescriptions"}),i.jsx("p",{children:"Get medications prescribed online and delivered to your doorstep."})]}),i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:"🔒"}),i.jsx("h3",{children:"Secure Platform"}),i.jsx("p",{children:"Your health information is protected with enterprise-grade security."})]})]}),i.jsxs("section",{className:"testimonials",children:[i.jsx("h2",{children:"What Our Patients Say"}),i.jsxs("div",{className:"testimonial-cards",children:[i.jsxs("div",{className:"testimonial-card",children:[i.jsx("p",{children:'"The virtual consultation saved me so much time. The doctor was professional and helped me quickly!"'}),i.jsxs("div",{className:"testimonial-author",children:[i.jsx("img",{src:"https://randomuser.me/api/portraits/women/45.jpg",alt:"Sarah M.",className:"author-avatar"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sarah M."}),i.jsx("div",{children:"Patient"})]})]})]}),i.jsxs("div",{className:"testimonial-card",children:[i.jsx("p",{children:'"I was skeptical about telemedicine at first, but now I use it for all my regular check-ups. Highly recommend!"'}),i.jsxs("div",{className:"testimonial-author",children:[i.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"David R.",className:"author-avatar"}),i.jsxs("div",{children:[i.jsx("strong",{children:"David R."}),i.jsx("div",{children:"Patient"})]})]})]}),i.jsxs("div",{className:"testimonial-card",children:[i.jsx("p",{children:'"As someone with a busy schedule, being able to talk to a doctor from my office has been a game-changer."'}),i.jsxs("div",{className:"testimonial-author",children:[i.jsx("img",{src:"https://randomuser.me/api/portraits/women/68.jpg",alt:"Lisa K.",className:"author-avatar"}),i.jsxs("div",{children:[i.jsx("strong",{children:"Lisa K."}),i.jsx("div",{children:"Patient"})]})]})]})]})]}),i.jsx("section",{className:"cta-section",children:i.jsxs("div",{className:"cta-content",children:[i.jsx("h2",{children:"Ready to prioritize your health?"}),i.jsx("p",{children:"Join thousands of patients who've made healthcare easier with our telemedicine platform."}),e?i.jsx(pe,{to:"/appointments",className:"btn btn-primary",children:"Schedule an Appointment"}):i.jsx(pe,{to:"/register",className:"btn btn-primary",children:"Create Your Free Account"})]})})]})}function qS(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[s,a]=E.useState(!1),{login:o}=De(),{addNotification:l}=He(),c=Dt(),u=async p=>{p.preventDefault(),console.log("handleSubmit triggered"),a(!0);try{await o(e,n),l("Login successful!","success"),c("/dashboard")}catch(g){l(g.message||"Login failed","error")}finally{a(!1)}};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsx("h1",{className:"auth-title",children:"Welcome Back"}),i.jsxs("form",{onSubmit:u,className:"auth-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"loginEmail",children:"Email"}),i.jsx("input",{id:"loginEmail",name:"email",type:"email",value:e,onChange:p=>t(p.target.value),required:!0,autoFocus:!0,className:"auth-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"loginPassword",children:"Password"}),i.jsx("input",{id:"loginPassword",name:"password",type:"password",value:n,onChange:p=>r(p.target.value),required:!0,className:"auth-input"})]}),i.jsx("div",{className:"auth-actions",children:i.jsx(pe,{to:"/forgot-password",className:"auth-link",children:"Forgot password?"})}),i.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary",children:s?"Signing in...":"Sign In"})]}),i.jsxs("div",{className:"auth-footer",children:["Don't have an account?"," ",i.jsx(pe,{to:"/register",className:"auth-link",children:"Create one"})]})]})})}function YS(){const[e,t]=E.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"patient",licenseNumber:"",specialization:""}),[n,r]=E.useState(!1),{register:s}=De(),{addNotification:a}=He(),o=Dt(),l=u=>{t({...e,[u.target.name]:u.target.value})},c=async u=>{if(u.preventDefault(),e.password!==e.confirmPassword){a("Passwords do not match","error");return}r(!0);try{const p={email:e.email,password:e.password,profile:{firstName:e.firstName,lastName:e.lastName},role:e.role};e.role==="doctor"&&(p.profile.licenseNumber=e.licenseNumber,p.profile.specialization=e.specialization),await s(p),a("Registration successful!","success"),o("/login")}catch(p){a(p.message||"Registration failed","error")}finally{r(!1)}};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsx("h1",{className:"auth-title",children:"Create Account"}),i.jsx("p",{className:"auth-subtitle",children:"Get started with telemedicine"}),i.jsxs("form",{className:"auth-form",onSubmit:c,children:[i.jsxs("div",{className:"name-fields",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"firstName",children:"First Name"}),i.jsx("input",{id:"firstName",autoComplete:"given-name",name:"firstName",value:e.firstName,onChange:l,required:!0,autoFocus:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"lastName",children:"Last Name"}),i.jsx("input",{id:"lastName",name:"lastName",autoComplete:"family-name",value:e.lastName,onChange:l,required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email Address"}),i.jsx("input",{id:"email",type:"email",name:"email",autoComplete:"email",value:e.email,onChange:l,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",children:"Password"}),i.jsx("input",{id:"password",type:"password",name:"password",autoComplete:"new-password",value:e.password,onChange:l,required:!0,minLength:"8"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),i.jsx("input",{id:"confirmPassword",type:"password",name:"confirmPassword",autoComplete:"new-password",value:e.confirmPassword,onChange:l,required:!0})]}),i.jsxs("div",{className:"role-selection",children:[i.jsx("label",{children:"I am a:"}),i.jsxs("div",{className:"radio-group",children:[i.jsxs("label",{htmlFor:"patientRole",children:[i.jsx("input",{id:"patientRole",type:"radio",name:"role",value:"patient",checked:e.role==="patient",onChange:l}),"Patient"]}),i.jsxs("label",{htmlFor:"doctorRole",children:[i.jsx("input",{id:"doctorRole",type:"radio",name:"role",value:"doctor",checked:e.role==="doctor",onChange:l}),"Doctor"]})]})]}),e.role==="doctor"&&i.jsxs("div",{className:"doctor-fields",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"licenseNumber",children:"License Number"}),i.jsx("input",{id:"licenseNumber",name:"licenseNumber",value:e.licenseNumber,onChange:l,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"specialization",children:"Specialization"}),i.jsxs("select",{id:"specialization",name:"specialization",value:e.specialization,onChange:l,required:!0,children:[i.jsx("option",{value:"",children:"-- Select Specialization --"}),i.jsx("option",{value:"General Medicine",children:"General Medicine"}),i.jsx("option",{value:"Cardiology",children:"Cardiology"}),i.jsx("option",{value:"Dermatology",children:"Dermatology"}),i.jsx("option",{value:"Orthopedics",children:"Orthopedics"}),i.jsx("option",{value:"Neurology",children:"Neurology"}),i.jsx("option",{value:"Pediatrics",children:"Pediatrics"}),i.jsx("option",{value:"Psychiatry",children:"Psychiatry"}),i.jsx("option",{value:"Gynecology",children:"Gynecology"}),i.jsx("option",{value:"Ophthalmology",children:"Ophthalmology"}),i.jsx("option",{value:"ENT",children:"ENT"})]})]})]}),i.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Creating Account...":"Create Account"})]}),i.jsxs("div",{className:"auth-footer",children:["Already have an account?"," ",i.jsx(pe,{to:"/login",className:"auth-link",children:"Sign in"})]})]})})}function fn({size:e="medium",color:t="primary",fullPage:n=!1,className:r=""}){const s={small:"h-5 w-5 border-2",medium:"h-8 w-8 border-3",large:"h-12 w-12 border-4"},a={primary:"border-t-blue-500",secondary:"border-t-purple-500",white:"border-t-white",dark:"border-t-gray-800"};return i.jsx("div",{className:`loading-spinner-container ${n?"full-page":""} ${r}`,children:i.jsx("div",{className:`loading-spinner ${s[e]} ${a[t]}`,"aria-label":"Loading",role:"status"})})}function GS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const KS=E.forwardRef(GS),QS=KS;function JS({title:e,titleId:t,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?E.createElement("title",{id:t},e):null,E.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const XS=E.forwardRef(JS),ZS=XS;function Qn({title:e,value:t,icon:n,variant:r="primary",trend:s,trendValue:a,className:o=""}){const l={primary:"bg-blue-50 text-blue-600",secondary:"bg-purple-50 text-purple-600",success:"bg-green-50 text-green-600",warning:"bg-yellow-50 text-yellow-600",error:"bg-red-50 text-red-600"};return i.jsxs("div",{className:`dashboard-card ${l[r]} ${o}`,children:[i.jsxs("div",{className:"card-header",children:[i.jsx("h3",{className:"card-title",children:e}),n&&i.jsx("div",{className:"card-icon",children:n})]}),i.jsxs("div",{className:"card-content",children:[i.jsx("p",{className:"card-value",children:t}),s&&i.jsxs("div",{className:`trend-indicator ${s}`,children:[s==="up"?i.jsx(ZS,{className:"trend-icon"}):i.jsx(QS,{className:"trend-icon"}),i.jsx("span",{children:a})]})]})]})}function eE(){const{user:e}=De(),{addNotification:t}=He(),[n,r]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{l(!0);const u=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!u.ok)throw new Error("Failed to fetch admin statistics");const p=await u.json(),g=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/verifications/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!g.ok)throw new Error("Failed to fetch pending verifications");const w=await g.json();r(p),a(w)}catch(u){t(`Failed to load admin dashboard data: ${u.message}`,"error")}finally{l(!1)}})()},[t]),o?i.jsx(fn,{fullPage:!0}):i.jsxs("div",{className:"dashboard-page admin-dashboard",children:[i.jsx("h1",{className:"dashboard-title",children:"Admin Dashboard"}),i.jsxs("p",{className:"dashboard-subtitle",children:["Welcome, ",e.profile.firstName]}),i.jsxs("div",{className:"dashboard-stats",children:[i.jsx(Qn,{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0,icon:"users",variant:"primary"}),i.jsx(Qn,{title:"Doctors",value:(n==null?void 0:n.doctorCount)||0,icon:"user-md",variant:"info"}),i.jsx(Qn,{title:"Pending Verifications",value:(s==null?void 0:s.length)||0,icon:"clipboard-check",variant:"warning"}),i.jsx(Qn,{title:"Total Appointments",value:(n==null?void 0:n.appointmentCount)||0,icon:"calendar",variant:"success"})]}),i.jsxs("section",{className:"dashboard-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Pending Doctor Verifications"}),i.jsx(pe,{to:"/admin/verifications",className:"btn primary",children:"View All"})]}),s.length===0?i.jsx("div",{className:"empty-state",children:"No pending verifications"}):i.jsxs("div",{className:"verification-list",children:[s.slice(0,5).map(c=>{var u,p,g,w;return i.jsxs("div",{className:"verification-item",children:[i.jsxs("div",{className:"doctor-info",children:[i.jsx("h3",{children:((p=(u=c.user)==null?void 0:u.profile)==null?void 0:p.fullName)||((g=c.profile)==null?void 0:g.fullName)||"Doctor"}),i.jsxs("p",{children:["Specialization: ",c.specialization||((w=c.profile)==null?void 0:w.specialization)||"Unknown"]})]}),i.jsx(pe,{to:`/admin/verifications/${c._id}`,className:"btn secondary",children:"Review"})]},c._id)}),s.length>5&&i.jsx("div",{className:"view-more",children:i.jsxs(pe,{to:"/admin/verifications",children:["View all ",s.length," pending verifications"]})})]})]}),i.jsxs("section",{className:"dashboard-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{children:"Quick Actions"})}),i.jsxs("div",{className:"admin-quick-actions",children:[i.jsxs(pe,{to:"/admin/verifications",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"📋"}),i.jsx("span",{className:"title",children:"Review Verifications"})]}),i.jsxs(pe,{to:"/admin/users",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"👥"}),i.jsx("span",{className:"title",children:"Manage Users"})]}),i.jsxs(pe,{to:"/admin/reports",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"📊"}),i.jsx("span",{className:"title",children:"System Reports"})]})]})]})]})}function tE(){var p;const{user:e}=De(),{addNotification:t}=He(),n=Dt(),[r,s]=E.useState({totalAppointments:0,todayAppointments:0,totalPatients:0,revenue:0}),[a,o]=E.useState(!0),[l,c]=E.useState(null);E.useEffect(()=>{u()},[]);const u=async()=>{var g;try{o(!0),c(null);const w=await je.get("/doctors/stats");s(w.data||{totalAppointments:0,todayAppointments:0,totalPatients:0,revenue:0})}catch(w){console.error("Error fetching dashboard data:",w),c("Failed to load dashboard data"),s({totalAppointments:0,todayAppointments:0,totalPatients:0,revenue:0}),((g=w.response)==null?void 0:g.status)===404?t("Dashboard data not available","warning"):t("Failed to load dashboard data","error")}finally{o(!1)}};return a?i.jsxs("div",{className:"dashboard-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading dashboard..."})]}):i.jsxs("div",{className:"doctor-dashboard",children:[i.jsxs("div",{className:"dashboard-header",children:[i.jsxs("h1",{children:["Welcome, Dr. ",((p=e==null?void 0:e.profile)==null?void 0:p.firstName)||"Doctor"]}),i.jsx("p",{children:"Here's your practice overview"})]}),l&&i.jsxs("div",{className:"error-banner",children:[i.jsx("p",{children:l}),i.jsx("button",{onClick:u,children:"Retry"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"Total Appointments"}),i.jsx("p",{className:"stat-number",children:r.totalAppointments||0})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"Today's Appointments"}),i.jsx("p",{className:"stat-number",children:r.todayAppointments||0})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"Total Patients"}),i.jsx("p",{className:"stat-number",children:r.totalPatients||0})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"Monthly Revenue"}),i.jsxs("p",{className:"stat-number",children:["$",r.revenue||0]})]})]}),i.jsxs("div",{className:"dashboard-actions",children:[i.jsx("button",{onClick:()=>n("/doctor/appointments"),children:"View Appointments"}),i.jsx("button",{onClick:()=>n("/doctor/availability"),children:"Set Availability"}),i.jsx("button",{onClick:()=>n("/doctor/patients"),children:"My Patients"})]})]})}class Uo{static async getUpcomingAppointments(){try{return(await je.get("/appointments/upcoming")).data}catch(t){return console.log("Error fetching upcoming appointments:",t),[]}}static async getStats(){try{return(await je.get("/appointments/stats")).data}catch(t){return console.log("Error fetching appointment stats:",t),{upcomingCount:0,completedCount:0,todayCount:0}}}static async getAvailableSlots(t,n=null){try{const r={date:t.toISOString().split("T")[0]};n&&(r.doctorId=n);const s=await je.get("/doctors/availability",{params:r});return(Array.isArray(s.data)?s.data:[]).map(o=>{const[l,c]=o.split(":").map(Number),u=new Date(t);return u.setHours(l,c,0,0),u})}catch(r){return console.log("Error fetching available slots:",r),[]}}static async getAppointmentsByDate(t){try{const n=await je.get("/appointments/by-date",{params:{date:t.toISOString().split("T")[0]}});return Array.isArray(n.data)?n.data:[]}catch(n){return console.log("Error fetching appointments by date:",n),[]}}static async createAppointment(t){try{return(await je.post("/appointments",t)).data}catch(n){throw console.log("Error creating appointment:",n),n}}static async cancelAppointment(t){try{return(await je.put(`/appointments/${t}/cancel`,{})).data}catch(n){throw console.log("Error cancelling appointment:",n),n}}static async rescheduleAppointment(t,n){try{return(await je.put(`/appointments/${t}/reschedule`,{date:n.toISOString()})).data}catch(r){throw console.log("Error rescheduling appointment:",r),r}}}function Mf(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function zo(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}function nE({appointments:e=[],emptyMessage:t="No appointments scheduled",onCancel:n,onJoinCall:r,selectedDate:s}){if(!Array.isArray(e))return i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:t})});let a=e;return s&&(a=e.filter(o=>{const l=new Date(o.date);return l.getFullYear()===s.getFullYear()&&l.getMonth()===s.getMonth()&&l.getDate()===s.getDate()})),i.jsx("div",{className:"appointment-list",children:a.length===0?i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:t})}):i.jsx("ul",{className:"appointment-items",children:a.map(o=>{var l,c,u,p,g,w,S,N,j,m,d,f,y,b,C;return!o||!o._id?(console.warn("Skipping appointment with missing data:",o),null):i.jsxs("li",{className:"appointment-card",children:[i.jsxs("div",{className:"appointment-header",children:[i.jsxs("h3",{className:"doctor-name",children:["Dr. ",((u=(c=(l=o.doctor)==null?void 0:l.user)==null?void 0:c.profile)==null?void 0:u.fullName)||`${((w=(g=(p=o.doctor)==null?void 0:p.user)==null?void 0:g.profile)==null?void 0:w.firstName)||""} ${((j=(N=(S=o.doctor)==null?void 0:S.user)==null?void 0:N.profile)==null?void 0:j.lastName)||""}`.trim()||((d=(m=o.doctor)==null?void 0:m.profile)==null?void 0:d.fullName)||`${((y=(f=o.doctor)==null?void 0:f.profile)==null?void 0:y.firstName)||""} ${((C=(b=o.doctor)==null?void 0:b.profile)==null?void 0:C.lastName)||""}`.trim()||"Unknown Doctor"]}),i.jsx("span",{className:`status-badge ${o.status||"unknown"}`,children:o.status||"Unknown"})]}),i.jsxs("div",{className:"appointment-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx(ed,{className:"icon"}),i.jsx("span",{children:Mf(o.date)})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx(ES,{className:"icon"}),i.jsxs("span",{children:[zo(o.date)," -"," ",zo(new Date(new Date(o.date).getTime()+o.duration*6e4))]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx(td,{className:"icon"}),i.jsx("span",{children:o.reason||"General Consultation"})]})]}),i.jsxs("div",{className:"appointment-actions",children:[o.status==="scheduled"&&i.jsx("button",{className:"btn secondary small",onClick:()=>n==null?void 0:n(o._id),disabled:!n,children:"Cancel"}),i.jsx("button",{className:"btn primary small",onClick:()=>{o.status==="scheduled"&&r?r(o):console.log("View details for appointment:",o._id)},children:o.status==="scheduled"?"Join Call":"View Details"})]})]},o._id)}).filter(Boolean)})})}function rE(){const{user:e}=De(),{addNotification:t}=He(),[n,r]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(!0);E.useEffect(()=>{(async()=>{try{u(!0);try{const S=await Uo.getUpcomingAppointments(),N=await Uo.getStats();let j=[];try{const m=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/patients/recent-doctors",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});m.ok?j=await m.json():console.warn("Could not fetch recent doctors:",m.status)}catch(m){console.error("Error fetching recent doctors:",m)}if(!j||j.length===0)try{const m=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});m.ok&&(j=(await m.json()).slice(0,5).map(f=>{var y,b,C,A,x,k,D,B,q,L,Q,le;return{_id:f._id,profile:{fullName:((b=(y=f.user)==null?void 0:y.profile)==null?void 0:b.fullName)||`${((A=(C=f.user)==null?void 0:C.profile)==null?void 0:A.firstName)||""} ${((k=(x=f.user)==null?void 0:x.profile)==null?void 0:k.lastName)||""}`.trim(),firstName:(B=(D=f.user)==null?void 0:D.profile)==null?void 0:B.firstName,lastName:(L=(q=f.user)==null?void 0:q.profile)==null?void 0:L.lastName,specialization:f.specialization,avatar:(le=(Q=f.user)==null?void 0:Q.profile)==null?void 0:le.photo,experience:f.experience}}}))}catch(m){console.error("Error fetching all doctors:",m)}else j=j.map(m=>({_id:m._id,profile:{fullName:`${m.firstName} ${m.lastName}`.trim(),firstName:m.firstName,lastName:m.lastName,specialization:m.specialization,avatar:m.avatar}}));a(S),r(N),l(j||[])}catch(S){console.error("Error in Promise.all for dashboard data:",S)}}catch(S){t(`Failed to load dashboard data: ${S.message}`,"error")}finally{u(!1)}})()},[t]);const p=async w=>{try{const S=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok)t("Appointment cancelled successfully","success"),a(N=>N.filter(j=>j._id!==w));else{const N=await S.json();t(`Failed to cancel appointment: ${N.error}`,"error")}}catch(S){t(`Error cancelling appointment: ${S.message}`,"error")}},g=w=>{var S,N,j;w.meetingUrl?window.open(w.meetingUrl,"_blank"):t(`Meeting for your appointment with Dr. ${((j=(N=(S=w.doctor)==null?void 0:S.user)==null?void 0:N.profile)==null?void 0:j.fullName)||"Doctor"} will start soon`,"info")};return c?i.jsx(fn,{fullPage:!0}):i.jsxs("div",{className:"dashboard-page patient-dashboard",children:[i.jsx("h1",{className:"dashboard-title",children:"Patient Dashboard"}),i.jsxs("p",{className:"dashboard-subtitle",children:["Welcome, ",e.profile.firstName]}),i.jsxs("div",{className:"dashboard-stats",children:[i.jsx(Qn,{title:"Upcoming Appointments",value:(n==null?void 0:n.upcomingCount)||0,icon:"calendar",variant:"primary"}),i.jsx(Qn,{title:"Completed Visits",value:(n==null?void 0:n.completedCount)||0,icon:"check-circle",variant:"success"}),i.jsx(Qn,{title:"Prescriptions",value:(n==null?void 0:n.prescriptionCount)||0,icon:"prescription",variant:"info"}),i.jsx(Qn,{title:"Medical Records",value:(n==null?void 0:n.recordCount)||0,icon:"file-medical",variant:"warning"})]}),i.jsxs("section",{className:"dashboard-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Your Upcoming Appointments"}),i.jsx(pe,{to:"/appointments",className:"btn primary",children:"View All"})]}),i.jsx(nE,{appointments:s,emptyMessage:"No upcoming appointments",onCancel:p,onJoinCall:g}),i.jsx("div",{className:"dashboard-actions",children:i.jsx(pe,{to:"/appointments/new",className:"btn primary",children:"Book New Appointment"})})]}),o.length>0&&i.jsxs("section",{className:"dashboard-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Available Doctors"}),i.jsx(pe,{to:"/doctors",className:"btn secondary",children:"Browse All Doctors"})]}),i.jsx("div",{className:"recent-doctors-list",children:o.map(w=>{var S,N,j,m,d,f,y;return i.jsxs("div",{className:"recent-doctor-card",children:[i.jsx("div",{className:"doctor-avatar",children:i.jsx("img",{src:((S=w.profile)==null?void 0:S.avatar)||"/default-avatar.png",alt:((N=w.profile)==null?void 0:N.fullName)||"Doctor",onError:b=>{b.target.src="/default-avatar.png"}})}),i.jsxs("div",{className:"doctor-info",children:[i.jsx("h3",{children:((j=w.profile)==null?void 0:j.fullName)||`Dr. ${((m=w.profile)==null?void 0:m.firstName)||""} ${((d=w.profile)==null?void 0:d.lastName)||""}`.trim()}),i.jsx("p",{className:"specialization",children:((f=w.profile)==null?void 0:f.specialization)||"General Medicine"}),((y=w.profile)==null?void 0:y.experience)&&i.jsxs("p",{className:"experience",children:[w.profile.experience," years experience"]}),i.jsxs("div",{className:"doctor-rating",children:[i.jsx("span",{className:"rating-stars",children:"⭐⭐⭐⭐⭐"}),i.jsx("span",{className:"rating-text",children:"4.8 (124 reviews)"})]})]}),i.jsxs("div",{className:"doctor-actions",children:[i.jsx(pe,{to:`/doctors/${w._id}`,className:"btn text",children:"View Profile"}),i.jsx(pe,{to:`/appointments/new?doctorId=${w._id}`,className:"btn secondary",children:"Book Appointment"})]})]},w._id)})})]}),i.jsxs("section",{className:"dashboard-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{children:"Quick Actions"})}),i.jsxs("div",{className:"patient-quick-actions",children:[i.jsxs(pe,{to:"/appointments/new",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"📅"}),i.jsx("span",{className:"title",children:"Book Appointment"})]}),i.jsxs(pe,{to:"/doctors",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"👨‍⚕️"}),i.jsx("span",{className:"title",children:"Find Doctors"})]}),i.jsxs(pe,{to:"/medical-records",className:"quick-action-card",children:[i.jsx("span",{className:"icon",children:"📋"}),i.jsx("span",{className:"title",children:"Medical Records"})]})]})]})]})}function iE(){const{user:e,loading:t}=De();if(t)return i.jsx(fn,{fullPage:!0});if(!e)return i.jsx("div",{children:"Please log in to view your dashboard."});switch(e.role){case"admin":return i.jsx(eE,{});case"doctor":return i.jsx(tE,{});case"patient":default:return i.jsx(rE,{})}}const sE=()=>{const e=Dt(),{addNotification:t}=He(),[n,r]=E.useState([]),[s,a]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(""),[p,g]=E.useState(""),[w,S]=E.useState(""),[N,j]=E.useState(""),[m,d]=E.useState("rating"),[f,y]=E.useState([]),[b,C]=E.useState([]);E.useEffect(()=>{(async()=>{try{a(!0);const D=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors");if(!D.ok)throw new Error(`Failed to fetch doctors: ${D.statusText}`);const B=await D.json(),q=Array.isArray(B)?B.map(Q=>{var le,ce,re,ue,J,te;return{...Q,rating:Q.rating||0,reviewCount:Q.reviewCount||0,specialization:Q.specialization||((le=Q.profile)==null?void 0:le.specialization)||"General Medicine",name:Q.user?`Dr. ${Q.user.profile.firstName} ${Q.user.profile.lastName}`:`Dr. ${Q.firstName||"Doctor"} ${Q.lastName||""}`,firstName:((re=(ce=Q.user)==null?void 0:ce.profile)==null?void 0:re.firstName)||Q.firstName,lastName:((J=(ue=Q.user)==null?void 0:ue.profile)==null?void 0:J.lastName)||Q.lastName,email:((te=Q.user)==null?void 0:te.email)||Q.email,location:Q.location||"Remote",isAvailable:Q.isAvailable!==void 0?Q.isAvailable:!0,verificationStatus:Q.verificationStatus||"pending"}}):[];r(q);const L=[...new Set(q.filter(Q=>Q.specialization).map(Q=>Q.specialization))];y(L)}catch(D){console.error("Error fetching doctors:",D),t("Failed to load doctors. Please try again later.","error"),r([])}finally{a(!1)}})()},[t]),E.useEffect(()=>{let k=n.filter(D=>{var re,ue,J,te,ne,he;const q=`${((ue=(re=D.user)==null?void 0:re.profile)==null?void 0:ue.firstName)||""} ${((te=(J=D.user)==null?void 0:J.profile)==null?void 0:te.lastName)||""}`.toLowerCase().includes(o.toLowerCase())||((ne=D.specialization)==null?void 0:ne.toLowerCase().includes(o.toLowerCase())),L=!c||D.specialization===c,Q=!p||parseFloat(D.rating)>=parseFloat(p),le=!w||D.experience&&parseInt(D.experience)>=parseInt(w),ce=!N||((he=D.location)==null?void 0:he.toLowerCase().includes(N.toLowerCase()));return q&&L&&Q&&le&&ce});k.sort((D,B)=>{var q,L,Q,le,ce,re,ue,J;switch(m){case"rating":return parseFloat(B.rating||0)-parseFloat(D.rating||0);case"experience":return parseInt(B.experience||0)-parseInt(D.experience||0);case"name":const te=`${((L=(q=D.user)==null?void 0:q.profile)==null?void 0:L.firstName)||""} ${((le=(Q=D.user)==null?void 0:Q.profile)==null?void 0:le.lastName)||""}`,ne=`${((re=(ce=B.user)==null?void 0:ce.profile)==null?void 0:re.firstName)||""} ${((J=(ue=B.user)==null?void 0:ue.profile)==null?void 0:J.lastName)||""}`;return te.localeCompare(ne);case"availability":return B.isAvailable-D.isAvailable;default:return 0}}),C(k)},[n,o,c,p,w,N,m]);const A=k=>{e(`/appointments/new?doctorId=${k}`)},x=()=>{l(""),u(""),g(""),S(""),j(""),d("rating")};return s?i.jsx(fn,{}):i.jsxs("div",{className:"doctors-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Find a Doctor"}),i.jsx("p",{children:"Connect with qualified healthcare professionals"})]}),i.jsxs("div",{className:"search-filters-section",children:[i.jsx("div",{className:"search-bar",children:i.jsx("input",{type:"text",placeholder:"Search by name or specialization...",value:o,onChange:k=>l(k.target.value),className:"search-input"})}),i.jsxs("div",{className:"filters-row",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Specialization:"}),i.jsxs("select",{value:c,onChange:k=>u(k.target.value),children:[i.jsx("option",{value:"",children:"All Specializations"}),f.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Minimum Rating:"}),i.jsxs("select",{value:p,onChange:k=>g(k.target.value),children:[i.jsx("option",{value:"",children:"Any Rating"}),i.jsx("option",{value:"4.5",children:"4.5+ Stars"}),i.jsx("option",{value:"4.0",children:"4.0+ Stars"}),i.jsx("option",{value:"3.5",children:"3.5+ Stars"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Experience:"}),i.jsxs("select",{value:w,onChange:k=>S(k.target.value),children:[i.jsx("option",{value:"",children:"Any Experience"}),i.jsx("option",{value:"5",children:"5+ Years"}),i.jsx("option",{value:"10",children:"10+ Years"}),i.jsx("option",{value:"15",children:"15+ Years"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Sort by:"}),i.jsxs("select",{value:m,onChange:k=>d(k.target.value),children:[i.jsx("option",{value:"rating",children:"Highest Rated"}),i.jsx("option",{value:"experience",children:"Most Experienced"}),i.jsx("option",{value:"name",children:"Name (A-Z)"}),i.jsx("option",{value:"availability",children:"Available Now"})]})]}),i.jsx("button",{className:"btn btn-secondary",onClick:x,children:"Clear Filters"})]})]}),i.jsx("div",{className:"results-summary",children:i.jsxs("p",{children:["Found ",b.length," doctor",b.length!==1?"s":""]})}),b.length>0?i.jsx("div",{className:"doctors-grid",children:b.map(k=>{var D,B,q,L,Q,le,ce,re,ue,J;return i.jsxs("div",{className:"doctor-card-enhanced",children:[i.jsxs("div",{className:"doctor-avatar",children:[i.jsx("img",{src:((B=(D=k.user)==null?void 0:D.profile)==null?void 0:B.photo)||"/default-doctor.png",alt:`${(L=(q=k.user)==null?void 0:q.profile)==null?void 0:L.firstName} ${(le=(Q=k.user)==null?void 0:Q.profile)==null?void 0:le.lastName}`,onError:te=>{te.target.src="/default-doctor.png"}}),k.isAvailable&&i.jsx("div",{className:"availability-badge",children:"Available"})]}),i.jsxs("div",{className:"doctor-info",children:[i.jsxs("h3",{children:[(re=(ce=k.user)==null?void 0:ce.profile)==null?void 0:re.firstName," ",(J=(ue=k.user)==null?void 0:ue.profile)==null?void 0:J.lastName]}),i.jsx("p",{className:"specialization",children:k.specialization}),i.jsxs("div",{className:"doctor-stats",children:[i.jsx("div",{className:"stat-item",children:i.jsxs("span",{className:"rating",children:["⭐ ",k.rating," (",k.reviewCount," reviews)"]})}),k.experience&&i.jsx("div",{className:"stat-item",children:i.jsxs("span",{className:"experience",children:[k.experience," years experience"]})}),i.jsx("div",{className:"stat-item",children:i.jsxs("span",{className:"location",children:["📍 ",k.location]})})]}),k.bio&&i.jsxs("p",{className:"doctor-bio",children:[k.bio.substring(0,100),"..."]}),i.jsxs("div",{className:"doctor-actions",children:[i.jsx("button",{className:"btn btn-primary",onClick:()=>A(k._id),children:"Book Appointment"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>e(`/doctors/${k._id}`),children:"View Profile"})]})]})]},k._id)})}):i.jsxs("div",{className:"no-results",children:[i.jsx("p",{children:"No doctors found matching your criteria."}),i.jsx("button",{className:"btn btn-primary",onClick:x,children:"Clear Filters"})]})]})};var rx={exports:{}},aE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oE=aE,lE=oE;function ix(){}function sx(){}sx.resetWarningCache=ix;var cE=function(){function e(r,s,a,o,l,c){if(c!==lE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sx,resetWarningCache:ix};return n.PropTypes=n,n};rx.exports=cE();var uE=rx.exports;const G=Pi(uE);function ax(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ax(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nl(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ax(e))&&(r&&(r+=" "),r+=t);return r}const dE=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!fE(s,a)&&r||Object.defineProperty(e,n,a)},fE=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},hE=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},pE=(e,t)=>`/* Wrapped ${e}*/
${t}`,mE=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),gE=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vE=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,s=pE.bind(null,r,t.toString());Object.defineProperty(s,"name",gE),Object.defineProperty(e,"toString",{...mE,value:s})},yE=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const s of Reflect.ownKeys(t))dE(e,t,s,n);return hE(e,t),vE(e,t,r),e};var xE=yE,nd={exports:{}},wE=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=ua&&ua.__awaiter||function(o,l,c,u){return new(c||(c=Promise))(function(p,g){function w(j){try{N(u.next(j))}catch(m){g(m)}}function S(j){try{N(u.throw(j))}catch(m){g(m)}}function N(j){j.done?p(j.value):new c(function(m){m(j.value)}).then(w,S)}N((u=u.apply(o,l||[])).next())})},r=ua&&ua.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(wE);function a(o,l="maxAge"){let c,u,p;const g=()=>n(this,void 0,void 0,function*(){if(c!==void 0)return;const N=j=>n(this,void 0,void 0,function*(){p=s.default();const m=j[1][l]-Date.now();if(m<=0){o.delete(j[0]),p.resolve();return}return c=j[0],u=setTimeout(()=>{o.delete(j[0]),p&&p.resolve()},m),typeof u.unref=="function"&&u.unref(),p.promise});try{for(const j of o)yield N(j)}catch{}c=void 0}),w=()=>{c=void 0,u!==void 0&&(clearTimeout(u),u=void 0),p!==void 0&&(p.reject(void 0),p=void 0)},S=o.set.bind(o);return o.set=(N,j)=>{o.has(N)&&o.delete(N);const m=S(N,j);return c&&c===N&&w(),g(),m},g(),o}t.default=a,e.exports=a,e.exports.default=a})(nd,nd.exports);var jE=nd.exports;const bE=xE,NE=jE,yc=new WeakMap,ox=new WeakMap,Vo=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&NE(n);const s=function(...a){const o=t?t(a):a[0],l=n.get(o);if(l)return l.data;const c=e.apply(this,a);return n.set(o,{data:c,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),c};return bE(s,e,{ignoreNonConfigurable:!0}),ox.set(s,n),s};Vo.decorator=(e={})=>(t,n,r)=>{const s=t[n];if(typeof s!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!yc.has(this)){const a=Vo(s,e);return yc.set(this,a),a}return yc.get(this)}};Vo.clear=e=>{const t=ox.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var SE=Vo;const lx=Pi(SE);function EE(e){return typeof e=="string"}function _E(e,t,n){return n.indexOf(e)===t}function CE(e){return e.toLowerCase()===e}function Jp(e){return e.indexOf(",")===-1?e:e.split(",")}function rd(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return rd(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return rd(n)}if(e.indexOf("-")===-1||!CE(e))return e;var s=e.split("-"),a=s[0],o=s[1],l=o===void 0?"":o;return"".concat(a,"-").concat(l.toUpperCase())}function kE(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,s=t.fallbackLocale,a=s===void 0?"en-US":s,o=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],u=0,p=l;u<p.length;u++){var g=p[u];c=c.concat(Jp(g))}var w=navigator.language,S=w&&Jp(w);o=o.concat(c,S)}return r&&o.push(a),o.filter(EE).map(rd).filter(_E)}var AE=lx(kE,{cacheKey:JSON.stringify});function TE(e){return AE(e)[0]||null}var cx=lx(TE,{cacheKey:JSON.stringify});function $n(e,t,n){return function(s,a){a===void 0&&(a=n);var o=e(s)+a;return t(o)}}function Js(e){return function(n){return new Date(e(n).getTime()-1)}}function Xs(e,t){return function(r){return[e(r),t(r)]}}function qe(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function pr(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Sl(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Ui(e){var t=qe(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var RE=$n(qe,Ui,-100),ux=$n(qe,Ui,100),$f=Js(ux),DE=$n(qe,$f,-100),dx=Xs(Ui,$f);function mr(e){var t=qe(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var fx=$n(qe,mr,-10),Uf=$n(qe,mr,10),El=Js(Uf),hx=$n(qe,El,-10),px=Xs(mr,El);function zi(e){var t=qe(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var mx=$n(qe,zi,-1),zf=$n(qe,zi,1),_l=Js(zf),gx=$n(qe,_l,-1),PE=Xs(zi,_l);function Vf(e,t){return function(r,s){s===void 0&&(s=t);var a=qe(r),o=pr(r)+s,l=new Date;return l.setFullYear(a,o,1),l.setHours(0,0,0,0),e(l)}}function $r(e){var t=qe(e),n=pr(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var vx=Vf($r,-1),Wf=Vf($r,1),Zs=Js(Wf),yx=Vf(Zs,-1),OE=Xs($r,Zs);function LE(e,t){return function(r,s){s===void 0&&(s=t);var a=qe(r),o=pr(r),l=Sl(r)+s,c=new Date;return c.setFullYear(a,o,l),c.setHours(0,0,0,0),e(c)}}function ea(e){var t=qe(e),n=pr(e),r=Sl(e),s=new Date;return s.setFullYear(t,n,r),s.setHours(0,0,0,0),s}var IE=LE(ea,1),Hf=Js(IE),FE=Xs(ea,Hf);function xx(e){return Sl(Zs(e))}var ts,$e={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ci={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},BE=(ts={},ts[$e.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],ts[$e.HEBREW]=["he","he-IL"],ts[$e.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],ts),qf=[0,1,2,3,4,5,6],xc=new Map;function ME(e){return function(n,r){var s=n||cx();xc.has(s)||xc.set(s,new Map);var a=xc.get(s);return a.has(e)||a.set(e,new Intl.DateTimeFormat(s||void 0,e).format),a.get(e)(r)}}function $E(e){var t=new Date(e);return new Date(t.setHours(12))}function Ur(e){return function(t,n){return ME(e)(t,$E(n))}}var UE={day:"numeric"},zE={day:"numeric",month:"long",year:"numeric"},VE={month:"long"},WE={month:"long",year:"numeric"},HE={weekday:"short"},qE={weekday:"long"},YE={year:"numeric"},GE=Ur(UE),KE=Ur(zE),QE=Ur(VE),wx=Ur(WE),JE=Ur(HE),XE=Ur(qE),Cl=Ur(YE),ZE=qf[0],e_=qf[5],Xp=qf[6];function Bs(e,t){t===void 0&&(t=$e.ISO_8601);var n=e.getDay();switch(t){case $e.ISO_8601:return(n+6)%7;case $e.ISLAMIC:return(n+1)%7;case $e.HEBREW:case $e.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function t_(e){var t=Ui(e);return qe(t)}function n_(e){var t=mr(e);return qe(t)}function id(e,t){t===void 0&&(t=$e.ISO_8601);var n=qe(e),r=pr(e),s=e.getDate()-Bs(e,t);return new Date(n,r,s)}function r_(e,t){t===void 0&&(t=$e.ISO_8601);var n=t===$e.GREGORY?$e.GREGORY:$e.ISO_8601,r=id(e,t),s=qe(e)+1,a,o;do a=new Date(s,0,n===$e.ISO_8601?4:1),o=id(a,t),s-=1;while(e<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function kr(e,t){switch(e){case"century":return Ui(t);case"decade":return mr(t);case"year":return zi(t);case"month":return $r(t);case"day":return ea(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function i_(e,t){switch(e){case"century":return RE(t);case"decade":return fx(t);case"year":return mx(t);case"month":return vx(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function jx(e,t){switch(e){case"century":return ux(t);case"decade":return Uf(t);case"year":return zf(t);case"month":return Wf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function s_(e,t){switch(e){case"decade":return fx(t,-100);case"year":return mx(t,-10);case"month":return vx(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function a_(e,t){switch(e){case"decade":return Uf(t,100);case"year":return zf(t,10);case"month":return Wf(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function bx(e,t){switch(e){case"century":return $f(t);case"decade":return El(t);case"year":return _l(t);case"month":return Zs(t);case"day":return Hf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function o_(e,t){switch(e){case"century":return DE(t);case"decade":return hx(t);case"year":return gx(t);case"month":return yx(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function l_(e,t){switch(e){case"decade":return hx(t,-100);case"year":return gx(t,-10);case"month":return yx(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Zp(e,t){switch(e){case"century":return dx(t);case"decade":return px(t);case"year":return PE(t);case"month":return OE(t);case"day":return FE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function c_(e,t,n){var r=[t,n].sort(function(s,a){return s.getTime()-a.getTime()});return[kr(e,r[0]),bx(e,r[1])]}function Nx(e,t,n){return t===void 0&&(t=Cl),n.map(function(r){return t(e,r)}).join(" – ")}function u_(e,t,n){return Nx(e,t,dx(n))}function Sx(e,t,n){return Nx(e,t,px(n))}function d_(e){return e.getDay()===new Date().getDay()}function Ex(e,t){t===void 0&&(t=$e.ISO_8601);var n=e.getDay();switch(t){case $e.ISLAMIC:case $e.HEBREW:return n===e_||n===Xp;case $e.ISO_8601:case $e.GREGORY:return n===Xp||n===ZE;default:throw new Error("Unsupported calendar type.")}}var mn="react-calendar__navigation";function f_(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,s=r===void 0?wx:r,a=e.formatYear,o=a===void 0?Cl:a,l=e.locale,c=e.maxDate,u=e.minDate,p=e.navigationAriaLabel,g=p===void 0?"":p,w=e.navigationAriaLive,S=e.navigationLabel,N=e.next2AriaLabel,j=N===void 0?"":N,m=e.next2Label,d=m===void 0?"»":m,f=e.nextAriaLabel,y=f===void 0?"":f,b=e.nextLabel,C=b===void 0?"›":b,A=e.prev2AriaLabel,x=A===void 0?"":A,k=e.prev2Label,D=k===void 0?"«":k,B=e.prevAriaLabel,q=B===void 0?"":B,L=e.prevLabel,Q=L===void 0?"‹":L,le=e.setActiveStartDate,ce=e.showDoubleView,re=e.view,ue=e.views,J=ue.indexOf(re)>0,te=re!=="century",ne=i_(re,t),he=te?s_(re,t):void 0,O=jx(re,t),$=te?a_(re,t):void 0,U=function(){if(ne.getFullYear()<0)return!0;var Z=o_(re,t);return u&&u>=Z}(),se=te&&function(){if(he.getFullYear()<0)return!0;var Z=l_(re,t);return u&&u>=Z}(),I=c&&c<O,F=te&&c&&c<$;function V(){le(ne,"prev")}function X(){le(he,"prev2")}function ae(){le(O,"next")}function T(){le($,"next2")}function P(Z){var ye=function(){switch(re){case"century":return u_(l,o,Z);case"decade":return Sx(l,o,Z);case"year":return o(l,Z);case"month":return s(l,Z);default:throw new Error("Invalid view: ".concat(re,"."))}}();return S?S({date:Z,label:ye,locale:l||cx()||void 0,view:re}):ye}function K(){var Z="".concat(mn,"__label");return fe.createElement("button",{"aria-label":g,"aria-live":w,className:Z,disabled:!J,onClick:n,style:{flexGrow:1},type:"button"},fe.createElement("span",{className:"".concat(Z,"__labelText ").concat(Z,"__labelText--from")},P(t)),ce?fe.createElement(fe.Fragment,null,fe.createElement("span",{className:"".concat(Z,"__divider")}," – "),fe.createElement("span",{className:"".concat(Z,"__labelText ").concat(Z,"__labelText--to")},P(O))):null)}return fe.createElement("div",{className:mn},D!==null&&te?fe.createElement("button",{"aria-label":x,className:"".concat(mn,"__arrow ").concat(mn,"__prev2-button"),disabled:se,onClick:X,type:"button"},D):null,Q!==null&&fe.createElement("button",{"aria-label":q,className:"".concat(mn,"__arrow ").concat(mn,"__prev-button"),disabled:U,onClick:V,type:"button"},Q),K(),C!==null&&fe.createElement("button",{"aria-label":y,className:"".concat(mn,"__arrow ").concat(mn,"__next-button"),disabled:I,onClick:ae,type:"button"},C),d!==null&&te?fe.createElement("button",{"aria-label":j,className:"".concat(mn,"__arrow ").concat(mn,"__next2-button"),disabled:F,onClick:T,type:"button"},d):null)}var ui=globalThis&&globalThis.__assign||function(){return ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ui.apply(this,arguments)},h_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function em(e){return"".concat(e,"%")}function Yf(e){var t=e.children,n=e.className,r=e.count,s=e.direction,a=e.offset,o=e.style,l=e.wrap,c=h_(e,["children","className","count","direction","offset","style","wrap"]);return fe.createElement("div",ui({className:n,style:ui({display:"flex",flexDirection:s,flexWrap:l?"wrap":"nowrap"},o)},c),fe.Children.map(t,function(u,p){var g=a&&p===0?em(100*a/r):null;return fe.cloneElement(u,ui(ui({},u.props),{style:{flexBasis:em(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:g,marginInlineStart:g,marginInlineEnd:0}}))}))}var p_=function(){},m_=p_;const g_=Pi(m_);var qr;function v_(e,t,n){return t&&t>e?t:n&&n<e?n:e}function Ms(e,t){return t[0]<=e&&t[1]>=e}function y_(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function _x(e,t){return Ms(e[0],t)||Ms(e[1],t)}function tm(e,t,n){var r=_x(t,e),s=[];if(r){s.push(n);var a=Ms(e[0],t),o=Ms(e[1],t);a&&s.push("".concat(n,"Start")),o&&s.push("".concat(n,"End")),a&&o&&s.push("".concat(n,"BothEnds"))}return s}function x_(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function w_(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,s="react-calendar__tile",a=[s];if(!n)return a;var o=new Date,l=function(){if(Array.isArray(n))return n;var S=e.dateType;if(!S)throw new Error("dateType is required when date is not an array of two dates");return Zp(S,n)}();if(Ms(o,l)&&a.push("".concat(s,"--now")),!t||!x_(t))return a;var c=function(){if(Array.isArray(t))return t;var S=e.valueType;if(!S)throw new Error("valueType is required when value is not an array of two dates");return Zp(S,t)}();y_(c,l)?a.push("".concat(s,"--active")):_x(c,l)&&a.push("".concat(s,"--hasActive"));var u=tm(c,l,"".concat(s,"--range"));a.push.apply(a,u);var p=Array.isArray(t)?t:[t];if(r&&p.length===1){var g=r>c[0]?[c[0],r]:[r,c[0]],w=tm(g,l,"".concat(s,"--hover"));a.push.apply(a,w)}return a}var j_=(qr={},qr[ci.ARABIC]=$e.ISLAMIC,qr[ci.HEBREW]=$e.HEBREW,qr[ci.ISO_8601]=$e.ISO_8601,qr[ci.US]=$e.GREGORY,qr);function b_(e){return e!==void 0&&e in ci}var nm=!1;function kl(e){if(b_(e)){var t=j_[e];return g_(nm,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),nm=!0,t}return e}function Al(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,s=e.dateTransform,a=e.dateType,o=e.end,l=e.hover,c=e.offset,u=e.renderTile,p=e.start,g=e.step,w=g===void 0?1:g,S=e.value,N=e.valueType,j=[],m=p;m<=o;m+=w){var d=s(m);j.push(u({classes:w_({date:d,dateType:a,hover:l,value:S,valueType:N}),date:d}))}return fe.createElement(Yf,{className:t,count:r,offset:c,wrap:!0},j)}function Tl(e){var t=e.activeStartDate,n=e.children,r=e.classes,s=e.date,a=e.formatAbbr,o=e.locale,l=e.maxDate,c=e.maxDateTransform,u=e.minDate,p=e.minDateTransform,g=e.onClick,w=e.onMouseOver,S=e.style,N=e.tileClassName,j=e.tileContent,m=e.tileDisabled,d=e.view,f=E.useMemo(function(){var b={activeStartDate:t,date:s,view:d};return typeof N=="function"?N(b):N},[t,s,N,d]),y=E.useMemo(function(){var b={activeStartDate:t,date:s,view:d};return typeof j=="function"?j(b):j},[t,s,j,d]);return fe.createElement("button",{className:Nl(r,f),disabled:u&&p(u)>s||l&&c(l)<s||m&&m({activeStartDate:t,date:s,view:d}),onClick:g?function(b){return g(s,b)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:S,type:"button"},a?fe.createElement("abbr",{"aria-label":a(o,s)},n):n,y)}var sd=globalThis&&globalThis.__assign||function(){return sd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},sd.apply(this,arguments)},N_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},wc="react-calendar__century-view__decades__decade";function S_(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,s=e.formatYear,a=s===void 0?Cl:s,o=N_(e,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,u=[];return n&&u.push.apply(u,n),wc&&u.push(wc),Ui(l).getFullYear()!==r&&u.push("".concat(wc,"--neighboringCentury")),fe.createElement(Tl,sd({},o,{classes:u,maxDateTransform:El,minDateTransform:mr,view:"century"}),Sx(c,a,l))}var ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ad.apply(this,arguments)},rm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function E_(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,s=e.value,a=e.valueType,o=rm(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=t_(t),c=l+(r?119:99);return fe.createElement(Al,{className:"react-calendar__century-view__decades",dateTransform:mr,dateType:"decade",end:c,hover:n,renderTile:function(u){var p=u.date,g=rm(u,["date"]);return fe.createElement(S_,ad({key:p.getTime()},o,g,{activeStartDate:t,currentCentury:l,date:p}))},start:l,step:10,value:s,valueType:a})}var im=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},__=Object.values($e),C_=Object.values(ci),od=["century","decade","year","month"],Cx=G.oneOf(im(im([],__,!0),C_,!0)),Wo=G.oneOfType([G.string,G.arrayOf(G.string)]),Gf=function(t,n,r){var s=t,a=n,o=s[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof o,"` supplied to `").concat(r,"`, expected instance of `Date`."));var l=t.maxDate;return l&&o>l?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof o,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},Kf=function(t,n,r){var s=t,a=n,o=s[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof o,"` supplied to `").concat(r,"`, expected instance of `Date`."));var l=t.minDate;return l&&o<l?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof o,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},k_=G.oneOfType([G.func,G.exact({current:G.any})]),A_=G.arrayOf(G.oneOfType([G.instanceOf(Date),G.oneOf([null])]).isRequired),T_=G.oneOfType([G.instanceOf(Date),G.oneOf([null]),A_]);G.arrayOf(G.oneOf(od));var Ho=function(t,n,r){var s=t,a=n,o=s[a];return o!==void 0&&(typeof o!="string"||od.indexOf(o)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(o,"` supplied to `").concat(r,"`, expected one of [").concat(od.map(function(l){return'"'.concat(l,'"')}).join(", "),"].")):null};Ho.isRequired=function(t,n,r,s,a){var o=t,l=n,c=o[l];return c?Ho(t,n,r):new Error("The prop `".concat(n,"` is marked as required in `").concat(r,"`, but its value is `").concat(c,"`."))};var R_=function(e){return G.arrayOf(e)},Rl={activeStartDate:G.instanceOf(Date).isRequired,hover:G.instanceOf(Date),locale:G.string,maxDate:Kf,minDate:Gf,onClick:G.func,onMouseOver:G.func,tileClassName:G.oneOfType([G.func,Wo]),tileContent:G.oneOfType([G.func,G.node]),value:T_,valueType:G.oneOf(["century","decade","year","month","day"]).isRequired};G.instanceOf(Date).isRequired,G.arrayOf(G.string.isRequired).isRequired,G.instanceOf(Date).isRequired,G.string,G.func,G.func,G.objectOf(G.oneOfType([G.string,G.number])),G.oneOfType([G.func,Wo]),G.oneOfType([G.func,G.node]),G.func;var $s=globalThis&&globalThis.__assign||function(){return $s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$s.apply(this,arguments)},kx=function(t){function n(){return fe.createElement(E_,$s({},t))}return fe.createElement("div",{className:"react-calendar__century-view"},n())};kx.propTypes=$s($s({},Rl),{showNeighboringCentury:G.bool});const D_=kx;var ld=globalThis&&globalThis.__assign||function(){return ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ld.apply(this,arguments)},P_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},jc="react-calendar__decade-view__years__year";function O_(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,s=e.formatYear,a=s===void 0?Cl:s,o=P_(e,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,u=[];return n&&u.push.apply(u,n),jc&&u.push(jc),mr(l).getFullYear()!==r&&u.push("".concat(jc,"--neighboringDecade")),fe.createElement(Tl,ld({},o,{classes:u,maxDateTransform:_l,minDateTransform:zi,view:"decade"}),a(c,l))}var cd=globalThis&&globalThis.__assign||function(){return cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cd.apply(this,arguments)},sm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function L_(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,s=e.value,a=e.valueType,o=sm(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=n_(t),c=l+(r?11:9);return fe.createElement(Al,{className:"react-calendar__decade-view__years",dateTransform:zi,dateType:"year",end:c,hover:n,renderTile:function(u){var p=u.date,g=sm(u,["date"]);return fe.createElement(O_,cd({key:p.getTime()},o,g,{activeStartDate:t,currentDecade:l,date:p}))},start:l,value:s,valueType:a})}var Us=globalThis&&globalThis.__assign||function(){return Us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Us.apply(this,arguments)},Ax=function(t){function n(){return fe.createElement(L_,Us({},t))}return fe.createElement("div",{className:"react-calendar__decade-view"},n())};Ax.propTypes=Us(Us({},Rl),{showNeighboringDecade:G.bool});const I_=Ax;var ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ud.apply(this,arguments)},F_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},am=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},B_="react-calendar__year-view__months__month";function M_(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,s=r===void 0?QE:r,a=e.formatMonthYear,o=a===void 0?wx:a,l=F_(e,["classes","formatMonth","formatMonthYear"]),c=l.date,u=l.locale;return fe.createElement(Tl,ud({},l,{classes:am(am([],n,!0),[B_],!1),formatAbbr:o,maxDateTransform:Zs,minDateTransform:$r,view:"year"}),s(u,c))}var dd=globalThis&&globalThis.__assign||function(){return dd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},dd.apply(this,arguments)},om=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function $_(e){var t=e.activeStartDate,n=e.hover,r=e.value,s=e.valueType,a=om(e,["activeStartDate","hover","value","valueType"]),o=0,l=11,c=qe(t);return fe.createElement(Al,{className:"react-calendar__year-view__months",dateTransform:function(u){var p=new Date;return p.setFullYear(c,u,1),$r(p)},dateType:"month",end:l,hover:n,renderTile:function(u){var p=u.date,g=om(u,["date"]);return fe.createElement(M_,dd({key:p.getTime()},a,g,{activeStartDate:t,date:p}))},start:o,value:r,valueType:s})}var qo=globalThis&&globalThis.__assign||function(){return qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qo.apply(this,arguments)},Tx=function(t){function n(){return fe.createElement($_,qo({},t))}return fe.createElement("div",{className:"react-calendar__year-view"},n())};Tx.propTypes=qo({},Rl);const U_=Tx;var fd=globalThis&&globalThis.__assign||function(){return fd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},fd.apply(this,arguments)},z_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},Aa="react-calendar__month-view__days__day";function V_(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,s=e.currentMonthIndex,a=e.formatDay,o=a===void 0?GE:a,l=e.formatLongDate,c=l===void 0?KE:l,u=z_(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=kl(t),g=u.date,w=u.locale,S=[];return r&&S.push.apply(S,r),Aa&&S.push(Aa),Ex(g,p)&&S.push("".concat(Aa,"--weekend")),g.getMonth()!==s&&S.push("".concat(Aa,"--neighboringMonth")),fe.createElement(Tl,fd({},u,{classes:S,formatAbbr:c,maxDateTransform:Hf,minDateTransform:ea,view:"month"}),o(w,g))}var hd=globalThis&&globalThis.__assign||function(){return hd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hd.apply(this,arguments)},lm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function W_(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,s=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,l=e.valueType,c=lm(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=kl(n),p=qe(t),g=pr(t),w=s||a,S=Bs(t,u),N=w?0:S,j=(w?-S:0)+1,m=function(){if(s)return j+6*7-1;var d=xx(t);if(a){var f=new Date;f.setFullYear(p,g,d),f.setHours(0,0,0,0);var y=7-Bs(f,u)-1;return d+y}return d}();return fe.createElement(Al,{className:"react-calendar__month-view__days",count:7,dateTransform:function(d){var f=new Date;return f.setFullYear(p,g,d),ea(f)},dateType:"day",hover:r,end:m,renderTile:function(d){var f=d.date,y=lm(d,["date"]);return fe.createElement(V_,hd({key:f.getTime()},c,y,{activeStartDate:t,calendarType:n,currentMonthIndex:g,date:f}))},offset:N,start:j,value:o,valueType:l})}var Rx="react-calendar__month-view__weekdays",bc="".concat(Rx,"__weekday");function H_(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?JE:n,s=e.formatWeekday,a=s===void 0?XE:s,o=e.locale,l=e.onMouseLeave,c=kl(t),u=new Date,p=$r(u),g=qe(p),w=pr(p),S=[],N=1;N<=7;N+=1){var j=new Date(g,w,N-Bs(p,c)),m=a(o,j);S.push(fe.createElement("div",{key:N,className:Nl(bc,d_(j)&&"".concat(bc,"--current"),Ex(j,c)&&"".concat(bc,"--weekend"))},fe.createElement("abbr",{"aria-label":m,title:m},r(o,j).replace(".",""))))}return fe.createElement(Yf,{className:Rx,count:7,onFocus:l,onMouseOver:l},S)}var Yo=globalThis&&globalThis.__assign||function(){return Yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yo.apply(this,arguments)},cm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},um="react-calendar__tile";function q_(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=fe.createElement("span",null,n);if(t){var s=e.date,a=e.onClickWeekNumber,o=e.weekNumber,l=cm(e,["date","onClickWeekNumber","weekNumber"]);return fe.createElement("button",Yo({},l,{className:um,onClick:function(c){return a(o,s,c)},type:"button"}),r)}else{e.date,e.onClickWeekNumber,e.weekNumber;var l=cm(e,["date","onClickWeekNumber","weekNumber"]);return fe.createElement("div",Yo({},l,{className:um}),r)}}function Y_(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,s=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=kl(n),l=function(){if(a)return 6;var p=xx(t),g=Bs(t,o),w=p-(7-g);return 1+Math.ceil(w/7)}(),c=function(){for(var p=qe(t),g=pr(t),w=Sl(t),S=[],N=0;N<l;N+=1)S.push(id(new Date(p,g,w+N*7),o));return S}(),u=c.map(function(p){return r_(p,o)});return fe.createElement(Yf,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(p,g){var w=c[g];if(!w)throw new Error("date is not defined");return fe.createElement(q_,{key:p,date:w,onClickWeekNumber:r,weekNumber:p})}))}var zs=globalThis&&globalThis.__assign||function(){return zs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zs.apply(this,arguments)},G_=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function K_(e){if(e)for(var t=0,n=Object.entries(BE);t<n.length;t++){var r=n[t],s=r[0],a=r[1];if(a.includes(e))return s}return $e.ISO_8601}var Dx=function(t){var n=t.activeStartDate,r=t.locale,s=t.onMouseLeave,a=t.showFixedNumberOfWeeks,o=t.calendarType,l=o===void 0?K_(r):o,c=t.formatShortWeekday,u=t.formatWeekday,p=t.onClickWeekNumber,g=t.showWeekNumbers,w=G_(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return fe.createElement(H_,{calendarType:l,formatShortWeekday:c,formatWeekday:u,locale:r,onMouseLeave:s})}function N(){return g?fe.createElement(Y_,{activeStartDate:n,calendarType:l,onClickWeekNumber:p,onMouseLeave:s,showFixedNumberOfWeeks:a}):null}function j(){return fe.createElement(W_,zs({calendarType:l},w))}var m="react-calendar__month-view";return fe.createElement("div",{className:Nl(m,g?"".concat(m,"--weekNumbers"):"")},fe.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},N(),fe.createElement("div",{style:{flexGrow:1,width:"100%"}},S(),j())))};Dx.propTypes=zs(zs({},Rl),{calendarType:Cx,formatDay:G.func,formatLongDate:G.func,formatShortWeekday:G.func,formatWeekday:G.func,onClickWeekNumber:G.func,onMouseLeave:G.func,showFixedNumberOfWeeks:G.bool,showNeighboringMonth:G.bool,showWeekNumbers:G.bool});const Q_=Dx;var di=globalThis&&globalThis.__assign||function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},di.apply(this,arguments)},Ta="react-calendar",wi=["century","decade","year","month"],J_=["decade","year","month","day"],Qf=new Date;Qf.setFullYear(1,0,1);Qf.setHours(0,0,0,0);var X_=new Date(864e13);function os(e){return e instanceof Date?e:new Date(e)}function Px(e,t){return wi.slice(wi.indexOf(e),wi.indexOf(t)+1)}function Z_(e,t,n){var r=Px(t,n);return r.indexOf(e)!==-1}function Jf(e,t,n){return e&&Z_(e,t,n)?e:n}function Ox(e){var t=wi.indexOf(e);return J_[t]}function eC(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=os(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Lx(e,t){var n=e.value,r=e.minDate,s=e.maxDate,a=e.maxDetail,o=eC(n,t);if(!o)return null;var l=Ox(a),c=function(){switch(t){case 0:return kr(l,o);case 1:return bx(l,o);default:throw new Error("Invalid index value: ".concat(t))}}();return v_(c,r,s)}var Xf=function(e){return Lx(e,0)},Ix=function(e){return Lx(e,1)},tC=function(e){return[Xf,Ix].map(function(t){return t(e)})};function Fx(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,s=e.minDetail,a=e.value,o=e.view,l=Jf(o,s,n),c=Xf({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date;return kr(l,c)}function nC(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,s=e.defaultView,a=e.maxDate,o=e.maxDetail,l=e.minDate,c=e.minDetail,u=e.value,p=e.view,g=Jf(p,c,o),w=t||n;return w?kr(g,w):Fx({maxDate:a,maxDetail:o,minDate:l,minDetail:c,value:u||r,view:p||s})}function Nc(e){return e&&(!Array.isArray(e)||e.length===1)}function Ra(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Bx=E.forwardRef(function(t,n){var r=t.activeStartDate,s=t.allowPartialRange,a=t.calendarType,o=t.className,l=t.defaultActiveStartDate,c=t.defaultValue,u=t.defaultView,p=t.formatDay,g=t.formatLongDate,w=t.formatMonth,S=t.formatMonthYear,N=t.formatShortWeekday,j=t.formatWeekday,m=t.formatYear,d=t.goToRangeStartOnSelect,f=d===void 0?!0:d,y=t.inputRef,b=t.locale,C=t.maxDate,A=C===void 0?X_:C,x=t.maxDetail,k=x===void 0?"month":x,D=t.minDate,B=D===void 0?Qf:D,q=t.minDetail,L=q===void 0?"century":q,Q=t.navigationAriaLabel,le=t.navigationAriaLive,ce=t.navigationLabel,re=t.next2AriaLabel,ue=t.next2Label,J=t.nextAriaLabel,te=t.nextLabel,ne=t.onActiveStartDateChange,he=t.onChange,O=t.onClickDay,$=t.onClickDecade,U=t.onClickMonth,se=t.onClickWeekNumber,I=t.onClickYear,F=t.onDrillDown,V=t.onDrillUp,X=t.onViewChange,ae=t.prev2AriaLabel,T=t.prev2Label,P=t.prevAriaLabel,K=t.prevLabel,Z=t.returnValue,ye=Z===void 0?"start":Z,de=t.selectRange,xe=t.showDoubleView,ie=t.showFixedNumberOfWeeks,H=t.showNavigation,Xe=H===void 0?!0:H,mt=t.showNeighboringCentury,Pe=t.showNeighboringDecade,ze=t.showNeighboringMonth,Jt=ze===void 0?!0:ze,Xt=t.showWeekNumbers,Pt=t.tileClassName,Et=t.tileContent,_t=t.tileDisabled,Ot=t.value,Nn=t.view,Un=E.useState(l),Vr=Un[0],Sn=Un[1],En=E.useState(null),gr=En[0],aa=En[1],oa=E.useState(Array.isArray(c)?c.map(function(Ne){return Ne!==null?os(Ne):null}):c!=null?os(c):null),vr=oa[0],$l=oa[1],la=E.useState(u),ca=la[0],yr=la[1],Be=r||Vr||nC({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:u,maxDate:A,maxDetail:k,minDate:B,minDetail:L,value:Ot,view:Nn}),lt=function(){var Ne=function(){return de&&Nc(vr)?vr:Ot!==void 0?Ot:vr}();return Ne?Array.isArray(Ne)?Ne.map(function(Qe){return Qe!==null?os(Qe):null}):Ne!==null?os(Ne):null:null}(),Wr=Ox(k),Ce=Jf(Nn||ca,L,k),zt=Px(L,k),_=de?gr:null,h=zt.indexOf(Ce)<zt.length-1,v=zt.indexOf(Ce)>0,R=E.useCallback(function(Ne){var Qe=function(){switch(ye){case"start":return Xf;case"end":return Ix;case"range":return tC;default:throw new Error("Invalid returnValue.")}}();return Qe({maxDate:A,maxDetail:k,minDate:B,value:Ne})},[A,k,B,ye]),M=E.useCallback(function(Ne,Qe){Sn(Ne);var nt={action:Qe,activeStartDate:Ne,value:lt,view:Ce};ne&&!Ra(Be,Ne)&&ne(nt)},[Be,ne,lt,Ce]),z=E.useCallback(function(Ne,Qe){var nt=function(){switch(Ce){case"century":return $;case"decade":return I;case"year":return U;case"month":return O;default:throw new Error("Invalid view: ".concat(Ce,"."))}}();nt&&nt(Ne,Qe)},[O,$,U,I,Ce]),Y=E.useCallback(function(Ne,Qe){if(h){z(Ne,Qe);var nt=zt[zt.indexOf(Ce)+1];if(!nt)throw new Error("Attempted to drill down from the lowest view.");Sn(Ne),yr(nt);var Zt={action:"drillDown",activeStartDate:Ne,value:lt,view:nt};ne&&!Ra(Be,Ne)&&ne(Zt),X&&Ce!==nt&&X(Zt),F&&F(Zt)}},[Be,h,ne,z,F,X,lt,Ce,zt]),me=E.useCallback(function(){if(v){var Ne=zt[zt.indexOf(Ce)-1];if(!Ne)throw new Error("Attempted to drill up from the highest view.");var Qe=kr(Ne,Be);Sn(Qe),yr(Ne);var nt={action:"drillUp",activeStartDate:Qe,value:lt,view:Ne};ne&&!Ra(Be,Qe)&&ne(nt),X&&Ce!==Ne&&X(nt),V&&V(nt)}},[Be,v,ne,V,X,lt,Ce,zt]),Oe=E.useCallback(function(Ne,Qe){var nt=lt;z(Ne,Qe);var Zt=de&&!Nc(nt),en;if(de)if(Zt)en=kr(Wr,Ne);else{if(!nt)throw new Error("previousValue is required");if(Array.isArray(nt))throw new Error("previousValue must not be an array");en=c_(Wr,nt,Ne)}else en=R(Ne);var Ul=!de||Zt||f?Fx({maxDate:A,maxDetail:k,minDate:B,minDetail:L,value:en,view:Ce}):null;Qe.persist(),Sn(Ul),$l(en);var H0={action:"onChange",activeStartDate:Ul,value:en,view:Ce};if(ne&&!Ra(Be,Ul)&&ne(H0),he)if(de){var q0=Nc(en);if(!q0)he(en||null,Qe);else if(s){if(Array.isArray(en))throw new Error("value must not be an array");he([en||null,null],Qe)}}else he(en||null,Qe)},[Be,s,R,f,A,k,B,L,ne,he,z,de,lt,Wr,Ce]);function Le(Ne){aa(Ne)}function Ie(){aa(null)}E.useImperativeHandle(n,function(){return{activeStartDate:Be,drillDown:Y,drillUp:me,onChange:Oe,setActiveStartDate:M,value:lt,view:Ce}},[Be,Y,me,Oe,M,lt,Ce]);function Ae(Ne){var Qe=Ne?jx(Ce,Be):kr(Ce,Be),nt=h?Y:Oe,Zt={activeStartDate:Qe,hover:_,locale:b,maxDate:A,minDate:B,onClick:nt,onMouseOver:de?Le:void 0,tileClassName:Pt,tileContent:Et,tileDisabled:_t,value:lt,valueType:Wr};switch(Ce){case"century":return fe.createElement(D_,di({formatYear:m,showNeighboringCentury:mt},Zt));case"decade":return fe.createElement(I_,di({formatYear:m,showNeighboringDecade:Pe},Zt));case"year":return fe.createElement(U_,di({formatMonth:w,formatMonthYear:S},Zt));case"month":return fe.createElement(Q_,di({calendarType:a,formatDay:p,formatLongDate:g,formatShortWeekday:N,formatWeekday:j,onClickWeekNumber:se,onMouseLeave:de?Ie:void 0,showFixedNumberOfWeeks:typeof ie<"u"?ie:xe,showNeighboringMonth:Jt,showWeekNumbers:Xt},Zt));default:throw new Error("Invalid view: ".concat(Ce,"."))}}function V0(){return Xe?fe.createElement(f_,{activeStartDate:Be,drillUp:me,formatMonthYear:S,formatYear:m,locale:b,maxDate:A,minDate:B,navigationAriaLabel:Q,navigationAriaLive:le,navigationLabel:ce,next2AriaLabel:re,next2Label:ue,nextAriaLabel:J,nextLabel:te,prev2AriaLabel:ae,prev2Label:T,prevAriaLabel:P,prevLabel:K,setActiveStartDate:M,showDoubleView:xe,view:Ce,views:zt}):null}var W0=Array.isArray(lt)?lt:[lt];return fe.createElement("div",{className:Nl(Ta,de&&W0.length===1&&"".concat(Ta,"--selectRange"),xe&&"".concat(Ta,"--doubleView"),o),ref:y},V0(),fe.createElement("div",{className:"".concat(Ta,"__viewContainer"),onBlur:de?Ie:void 0,onMouseLeave:de?Ie:void 0},Ae(),xe?Ae(!0):null))}),dm=G.instanceOf(Date),fm=G.oneOfType([G.string,G.instanceOf(Date)]),hm=G.oneOfType([fm,R_(fm)]);Bx.propTypes={activeStartDate:dm,allowPartialRange:G.bool,calendarType:Cx,className:Wo,defaultActiveStartDate:dm,defaultValue:hm,defaultView:Ho,formatDay:G.func,formatLongDate:G.func,formatMonth:G.func,formatMonthYear:G.func,formatShortWeekday:G.func,formatWeekday:G.func,formatYear:G.func,goToRangeStartOnSelect:G.bool,inputRef:k_,locale:G.string,maxDate:Kf,maxDetail:G.oneOf(wi),minDate:Gf,minDetail:G.oneOf(wi),navigationAriaLabel:G.string,navigationAriaLive:G.oneOf(["off","polite","assertive"]),navigationLabel:G.func,next2AriaLabel:G.string,next2Label:G.node,nextAriaLabel:G.string,nextLabel:G.node,onActiveStartDateChange:G.func,onChange:G.func,onClickDay:G.func,onClickDecade:G.func,onClickMonth:G.func,onClickWeekNumber:G.func,onClickYear:G.func,onDrillDown:G.func,onDrillUp:G.func,onViewChange:G.func,prev2AriaLabel:G.string,prev2Label:G.node,prevAriaLabel:G.string,prevLabel:G.node,returnValue:G.oneOf(["start","end","range"]),selectRange:G.bool,showDoubleView:G.bool,showFixedNumberOfWeeks:G.bool,showNavigation:G.bool,showNeighboringCentury:G.bool,showNeighboringDecade:G.bool,showNeighboringMonth:G.bool,showWeekNumbers:G.bool,tileClassName:G.oneOfType([G.func,Wo]),tileContent:G.oneOfType([G.func,G.node]),tileDisabled:G.func,value:hm,view:Ho};const rC=Bx;function iC({appointment:e,onCancel:t,isPatient:n=!0}){var s,a,o,l,c,u,p,g;const r=w=>{switch(w){case"completed":return"status-completed";case"cancelled":return"status-cancelled";case"no-show":return"status-no-show";default:return"status-scheduled"}};return i.jsxs("div",{className:`appointment-card ${r(e.status)}`,children:[i.jsx("div",{className:"appointment-header",children:i.jsxs("div",{className:"appointment-title",children:[n?i.jsxs("h3",{children:["Dr. ",(a=(s=e.doctor)==null?void 0:s.profile)==null?void 0:a.firstName," ",(l=(o=e.doctor)==null?void 0:o.profile)==null?void 0:l.lastName]}):i.jsxs("h3",{children:[(u=(c=e.patient)==null?void 0:c.profile)==null?void 0:u.firstName," ",(g=(p=e.patient)==null?void 0:p.profile)==null?void 0:g.lastName]}),i.jsx("span",{className:`status-badge ${e.status}`,children:e.status})]})}),i.jsxs("div",{className:"appointment-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Date:"}),i.jsx("span",{className:"detail-value",children:Mf(e.date)})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Time:"}),i.jsxs("span",{className:"detail-value",children:[zo(e.date)," -",zo(new Date(new Date(e.date).getTime()+e.duration*6e4))]})]}),e.reason&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Reason:"}),i.jsx("span",{className:"detail-value",children:e.reason})]})]}),i.jsxs("div",{className:"appointment-actions",children:[e.status==="scheduled"&&i.jsxs(i.Fragment,{children:[t&&i.jsx("button",{onClick:()=>t(e._id),className:"btn btn-outline",children:"Cancel"}),e.meetingUrl&&i.jsx("a",{href:e.meetingUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Join Call"})]}),e.status==="completed"&&i.jsx("button",{className:"btn btn-secondary",children:"View Summary"})]})]})}function sC({filterOptions:e,onFilterChange:t}){return i.jsxs("div",{className:"appointment-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status:"}),i.jsxs("select",{value:e.status,onChange:n=>t({status:n.target.value}),children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"scheduled",children:"Scheduled"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"cancelled",children:"Cancelled"}),i.jsx("option",{value:"no-show",children:"No Show"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Date:"}),i.jsxs("select",{value:e.date,onChange:n=>t({date:n.target.value}),children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"upcoming",children:"Upcoming"}),i.jsx("option",{value:"past",children:"Past"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Sort by:"}),i.jsxs("select",{value:e.sortBy,onChange:n=>t({sortBy:n.target.value}),children:[i.jsx("option",{value:"date-asc",children:"Date (Oldest First)"}),i.jsx("option",{value:"date-desc",children:"Date (Newest First)"})]})]})]})}function aC({onClose:e,onCreate:t,availableSlots:n=[],selectedDate:r}){const[s,a]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(!1),[p,g]=E.useState(!1),[w,S]=E.useState({doctorId:"",date:r,slot:"",reason:"",symptoms:"",duration:30});E.useEffect(()=>{(async()=>{try{u(!0);const y=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors");if(!y.ok)throw new Error("Failed to fetch doctors");const b=await y.json();a(Array.isArray(b)?b:[])}catch(y){console.error("Error fetching doctors:",y)}finally{u(!1)}})()},[]),E.useEffect(()=>{(async()=>{if(w.doctorId&&r){g(!0);try{const y=await Uo.getAvailableSlots(r,w.doctorId);l(y)}catch(y){console.error("Error fetching slots for doctor:",y),l([])}finally{g(!1)}}else l([])})()},[w.doctorId,r]);const N=f=>{const{name:y,value:b}=f.target;S(C=>({...C,[y]:b})),y==="doctorId"&&S(C=>({...C,slot:""}))},j=async f=>{if(f.preventDefault(),!(!w.doctorId||!w.slot))try{u(!0);const y=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({doctorId:w.doctorId,date:new Date(w.slot),duration:w.duration,reason:w.reason,symptoms:w.symptoms?w.symptoms.split(",").map(C=>C.trim()):[]})});if(!y.ok)throw new Error("Failed to create appointment");const b=await y.json();t(b)}catch(y){console.error("Error creating appointment:",y)}finally{u(!1)}},m=w.doctorId?o:n,d=Array.isArray(m)?m:[];return i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Schedule New Appointment"}),i.jsx("button",{onClick:e,className:"close-button",children:"×"})]}),i.jsxs("form",{onSubmit:j,className:"appointment-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Select Doctor:"}),i.jsxs("select",{name:"doctorId",value:w.doctorId,onChange:N,required:!0,children:[i.jsx("option",{value:"",children:"-- Select a doctor --"}),s.map(f=>{var y,b,C,A,x,k;return i.jsxs("option",{value:f._id,children:["Dr. ",((b=(y=f.user)==null?void 0:y.profile)==null?void 0:b.fullName)||`${((A=(C=f.user)==null?void 0:C.profile)==null?void 0:A.firstName)||""} ${((k=(x=f.user)==null?void 0:x.profile)==null?void 0:k.lastName)||""}`.trim()," - ",f.specialization]},f._id)})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Date:"}),i.jsx("div",{className:"selected-date",children:Mf(r)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Available Slots:"}),p?i.jsx("div",{className:"loading-slots",children:"Loading available slots..."}):i.jsxs("select",{name:"slot",value:w.slot,onChange:N,required:!0,children:[i.jsx("option",{value:"",children:"-- Select a time --"}),d.length>0?d.map((f,y)=>i.jsx("option",{value:f,children:new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},y)):i.jsx("option",{value:"",disabled:!0,children:w.doctorId?"No available slots for this doctor on selected date":"Please select a doctor first"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Duration (minutes):"}),i.jsxs("select",{name:"duration",value:w.duration,onChange:N,children:[i.jsx("option",{value:15,children:"15 min"}),i.jsx("option",{value:30,children:"30 min"}),i.jsx("option",{value:45,children:"45 min"}),i.jsx("option",{value:60,children:"60 min"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Reason for Visit:"}),i.jsx("input",{type:"text",name:"reason",value:w.reason,onChange:N,placeholder:"E.g., Annual check-up, Flu symptoms",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Symptoms (comma separated):"}),i.jsx("textarea",{name:"symptoms",value:w.symptoms,onChange:N,placeholder:"E.g., Headache, Fever, Cough",rows:3})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",onClick:e,className:"btn btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Scheduling...":"Schedule Appointment"})]})]})]})})}const oC=()=>{const{user:e}=De(),{addNotification:t}=He(),[n,r]=E.useState([]),[s,a]=E.useState([]),[o,l]=E.useState(!0),[c,u]=E.useState(null),[p,g]=E.useState(!1),[w,S]=E.useState({status:"all",date:"upcoming",sortBy:"date-asc"}),[N,j]=E.useState(new Date),[m,d]=E.useState([]),f=E.useCallback(()=>{let x=[...n];w.status!=="all"&&(x=x.filter(D=>D.status===w.status));const k=new Date;w.date==="upcoming"?x=x.filter(D=>new Date(D.date)>k):w.date==="past"&&(x=x.filter(D=>new Date(D.date)<k)),w.sortBy==="date-asc"?x.sort((D,B)=>new Date(D.date)-new Date(B.date)):w.sortBy==="date-desc"&&x.sort((D,B)=>new Date(B.date)-new Date(D.date)),x=x.filter(D=>{const B=new Date(D.date);return B.getFullYear()===N.getFullYear()&&B.getMonth()===N.getMonth()&&B.getDate()===N.getDate()}),a(x)},[n,w,N]);E.useCallback(async(x,k=null)=>{try{if(k){const D=await Uo.getAvailableSlots(x,k);d(D)}else d([])}catch(D){t(`Failed to fetch available slots: ${D.message}`,"error"),d([])}},[t]),E.useEffect(()=>{(async()=>{try{l(!0);const k=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!k.ok)throw new Error("Failed to fetch appointments");const D=await k.json();r(D),a(D),l(!1)}catch(k){u(k.message),l(!1),t(k.message,"error")}})()},[t]),E.useEffect(()=>{f()},[w,n,N,f]),E.useEffect(()=>{d([])},[N]);const y=x=>{S(k=>({...k,...x}))},b=async x=>{try{if(!(await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments/${x}/cancel`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to cancel appointment");r(D=>D.map(B=>B._id===x?{...B,status:"cancelled"}:B)),t("Appointment cancelled successfully","success")}catch(k){t(k.message,"error")}},C=x=>{r(k=>[...k,x]),t("Appointment created successfully","success"),g(!1)},A=x=>{j(x)};return o?i.jsx("div",{className:"loading-spinner",children:"Loading appointments..."}):i.jsxs("div",{className:"appointments-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"My Appointments"}),i.jsx("button",{className:"btn btn-primary",onClick:()=>g(!0),children:"Schedule New Appointment"})]}),i.jsxs("div",{className:"calendar-container",children:[i.jsx("h2",{children:"Select Date"}),i.jsx(rC,{onChange:A,value:N}),i.jsxs("div",{className:"available-slots",children:[i.jsxs("h3",{children:["Available Slots on ",N.toLocaleDateString()]}),i.jsx("p",{children:"Select a doctor in the appointment form to see available time slots."})]})]}),i.jsx(sC,{filterOptions:w,onFilterChange:y}),c&&i.jsx("div",{className:"error-message",children:c}),!o&&s.length===0&&i.jsx("div",{className:"empty-state",children:i.jsxs("p",{children:["No appointments found for ",N.toLocaleDateString(),"."]})}),i.jsx("div",{className:"appointments-grid",children:s.map(x=>i.jsx(iC,{appointment:x,onCancel:()=>b(x._id),isPatient:e.role==="patient"},x._id))}),p&&i.jsx(aC,{onClose:()=>g(!1),onCreate:C,availableSlots:m,selectedDate:N})]})};function lC(){var B,q,L,Q,le,ce,re,ue,J,te,ne,he,O,$,U,se,I,F,V,X,ae,T,P,K,Z,ye,de,xe;const[e]=bN(),t=Dt();De();const{addNotification:n}=He(),[r,s]=E.useState([]),[a,o]=E.useState(null),[l,c]=E.useState([]),[u,p]=E.useState(!0),[g,w]=E.useState(!1),[S,N]=E.useState(1),[j,m]=E.useState({doctorId:e.get("doctorId")||"",date:"",timeSlot:"",reason:"",notes:"",type:"consultation"});E.useEffect(()=>{d(),j.doctorId&&f(j.doctorId)},[j.doctorId]);const d=async()=>{try{p(!0);const ie=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ie.ok)throw new Error("Failed to fetch doctors");const H=await ie.json();s(H||[])}catch(ie){console.error("Error fetching doctors:",ie),n(`Error: ${ie.message}`,"error")}finally{p(!1)}},f=async ie=>{try{const H=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/${ie}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(H.ok){const Xe=await H.json();o(Xe),N(2)}}catch(H){console.error("Error fetching doctor:",H)}},y=async(ie,H)=>{try{const Xe=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/availability?doctorId=${ie}&date=${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Xe.ok){const mt=await Xe.json();c(mt||[])}else b()}catch(Xe){console.error("Error fetching available slots:",Xe),b()}},b=()=>{const ie=[];for(let mt=9;mt<17;mt++)ie.push(`${mt.toString().padStart(2,"0")}:00`),ie.push(`${mt.toString().padStart(2,"0")}:30`);c(ie)},C=ie=>{o(ie),m({...j,doctorId:ie._id}),N(2)},A=ie=>{m({...j,date:ie,timeSlot:""}),a&&y(a._id,ie)},x=ie=>{m({...j,timeSlot:ie}),N(3)},k=async()=>{if(!j.reason.trim()){n("Please provide a reason for the appointment","error");return}try{w(!0);const ie=new Date(`${j.date}T${j.timeSlot}`),H=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({doctorId:j.doctorId,date:ie.toISOString(),reason:j.reason,symptoms:j.notes,duration:30})});if(!H.ok){const Xe=await H.json();throw new Error(Xe.error||"Failed to book appointment")}n("Appointment booked successfully!","success"),t("/appointments")}catch(ie){console.error("Error booking appointment:",ie),n(`Error: ${ie.message}`,"error")}finally{w(!1)}},D=()=>{const ie=new Date;return ie.setDate(ie.getDate()+1),ie.toISOString().split("T")[0]};return u?i.jsx(fn,{fullPage:!0}):i.jsxs("div",{className:"new-appointment-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Book New Appointment"}),i.jsxs("div",{className:"step-indicator",children:[i.jsx("div",{className:`step ${S>=1?"active":""}`,children:"1. Select Doctor"}),i.jsx("div",{className:`step ${S>=2?"active":""}`,children:"2. Choose Time"}),i.jsx("div",{className:`step ${S>=3?"active":""}`,children:"3. Confirm"})]})]}),S===1&&i.jsxs("div",{className:"doctor-selection",children:[i.jsx("h2",{children:"Select a Doctor"}),i.jsx("div",{className:"doctors-grid",children:r.map(ie=>{var H,Xe,mt,Pe,ze,Jt,Xt,Pt,Et,_t,Ot,Nn,Un,Vr;return i.jsxs("div",{className:"doctor-card selectable",onClick:()=>C(ie),children:[i.jsx("div",{className:"doctor-avatar",children:i.jsx("img",{src:((Xe=(H=ie.user)==null?void 0:H.profile)==null?void 0:Xe.photo)||"/default-doctor.png",alt:((Pe=(mt=ie.user)==null?void 0:mt.profile)==null?void 0:Pe.fullName)||`${(Jt=(ze=ie.user)==null?void 0:ze.profile)==null?void 0:Jt.firstName} ${(Pt=(Xt=ie.user)==null?void 0:Xt.profile)==null?void 0:Pt.lastName}`,onError:Sn=>{Sn.target.src="/default-doctor.png"}})}),i.jsxs("div",{className:"doctor-info",children:[i.jsx("h3",{children:((_t=(Et=ie.user)==null?void 0:Et.profile)==null?void 0:_t.fullName)||`${(Nn=(Ot=ie.user)==null?void 0:Ot.profile)==null?void 0:Nn.firstName} ${(Vr=(Un=ie.user)==null?void 0:Un.profile)==null?void 0:Vr.lastName}`}),i.jsx("p",{className:"specialization",children:ie.specialization}),ie.experience&&i.jsxs("p",{className:"experience",children:[ie.experience," years experience"]}),ie.bio&&i.jsx("p",{className:"bio",children:ie.bio})]}),i.jsx("div",{className:"select-button",children:i.jsx("button",{className:"btn primary",children:"Select Doctor"})})]},ie._id)})})]}),S===2&&a&&i.jsxs("div",{className:"time-selection",children:[i.jsxs("div",{className:"selected-doctor-info",children:[i.jsx("h2",{children:"Selected Doctor"}),i.jsxs("div",{className:"doctor-summary",children:[i.jsx("img",{src:((q=(B=a.user)==null?void 0:B.profile)==null?void 0:q.photo)||"/default-doctor.png",alt:((Q=(L=a.user)==null?void 0:L.profile)==null?void 0:Q.fullName)||`${(ce=(le=a.user)==null?void 0:le.profile)==null?void 0:ce.firstName} ${(ue=(re=a.user)==null?void 0:re.profile)==null?void 0:ue.lastName}`,onError:ie=>{ie.target.src="/default-doctor.png"}}),i.jsxs("div",{children:[i.jsx("h3",{children:((te=(J=a.user)==null?void 0:J.profile)==null?void 0:te.fullName)||`${(he=(ne=a.user)==null?void 0:ne.profile)==null?void 0:he.firstName} ${($=(O=a.user)==null?void 0:O.profile)==null?void 0:$.lastName}`}),i.jsx("p",{children:a.specialization})]}),i.jsx("button",{className:"btn secondary",onClick:()=>N(1),children:"Change Doctor"})]})]}),i.jsxs("div",{className:"date-time-selection",children:[i.jsx("h3",{children:"Select Date and Time"}),i.jsxs("div",{className:"date-selection",children:[i.jsx("label",{children:"Select Date:"}),i.jsx("input",{type:"date",min:D(),value:j.date,onChange:ie=>A(ie.target.value),className:"date-input"})]}),j.date&&i.jsxs("div",{className:"time-slots",children:[i.jsx("label",{children:"Available Time Slots:"}),i.jsx("div",{className:"slots-grid",children:l.map((ie,H)=>i.jsx("button",{className:`time-slot ${j.timeSlot===ie?"selected":""}`,onClick:()=>x(ie),children:ie},H))})]})]})]}),S===3&&i.jsxs("div",{className:"appointment-confirmation",children:[i.jsx("h2",{children:"Appointment Details"}),i.jsxs("div",{className:"appointment-summary",children:[i.jsxs("div",{className:"summary-section",children:[i.jsx("h3",{children:"Doctor Information"}),i.jsxs("div",{className:"doctor-summary",children:[i.jsx("img",{src:((se=(U=a.user)==null?void 0:U.profile)==null?void 0:se.photo)||"/default-doctor.png",alt:((F=(I=a.user)==null?void 0:I.profile)==null?void 0:F.fullName)||`${(X=(V=a.user)==null?void 0:V.profile)==null?void 0:X.firstName} ${(T=(ae=a.user)==null?void 0:ae.profile)==null?void 0:T.lastName}`,onError:ie=>{ie.target.src="/default-doctor.png"}}),i.jsxs("div",{children:[i.jsx("h4",{children:((K=(P=a.user)==null?void 0:P.profile)==null?void 0:K.fullName)||`${(ye=(Z=a.user)==null?void 0:Z.profile)==null?void 0:ye.firstName} ${(xe=(de=a.user)==null?void 0:de.profile)==null?void 0:xe.lastName}`}),i.jsx("p",{children:a.specialization})]})]})]}),i.jsxs("div",{className:"summary-section",children:[i.jsx("h3",{children:"Appointment Details"}),i.jsxs("div",{className:"appointment-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("label",{children:"Date:"}),i.jsx("span",{children:new Date(j.date).toLocaleDateString()})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("label",{children:"Time:"}),i.jsx("span",{children:j.timeSlot})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("label",{children:"Duration:"}),i.jsx("span",{children:"30 minutes"})]})]})]})]}),i.jsxs("div",{className:"appointment-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"reason",children:"Reason for Visit *"}),i.jsx("input",{type:"text",id:"reason",value:j.reason,onChange:ie=>m({...j,reason:ie.target.value}),placeholder:"Brief description of your concern",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"type",children:"Appointment Type"}),i.jsxs("select",{id:"type",value:j.type,onChange:ie=>m({...j,type:ie.target.value}),children:[i.jsx("option",{value:"consultation",children:"Consultation"}),i.jsx("option",{value:"follow-up",children:"Follow-up"}),i.jsx("option",{value:"check-up",children:"Check-up"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"notes",children:"Additional Notes"}),i.jsx("textarea",{id:"notes",value:j.notes,onChange:ie=>m({...j,notes:ie.target.value}),placeholder:"Any additional information or symptoms...",rows:"4"})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{className:"btn secondary",onClick:()=>N(2),children:"Back"}),i.jsx("button",{className:"btn primary",onClick:k,disabled:g||!j.reason.trim(),children:g?"Booking...":"Book Appointment"})]})]})]})}function cC(){var N,j,m,d;De();const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState(null),[l,c]=E.useState(""),[u,p]=E.useState("all");E.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const f=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/medical-records",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("Failed to fetch medical records");const y=await f.json(),b=y.records||y||[];n(Array.isArray(b)?b:[])}catch(f){console.error("Error fetching medical records:",f),e(`Error: ${f.message}`,"error"),n([])}finally{s(!1)}},w=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),S=Array.isArray(t)?t.filter(f=>{var b,C,A,x,k;const y=((b=f.diagnosis)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))||((C=f.treatment)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))||((k=(x=(A=f.doctor)==null?void 0:A.profile)==null?void 0:x.fullName)==null?void 0:k.toLowerCase().includes(l.toLowerCase()));if(u==="all")return y;if(u==="recent"){const D=new Date(f.date),B=new Date;return B.setDate(B.getDate()-30),y&&D>=B}return y}):[];return r?i.jsx(fn,{fullPage:!0}):i.jsxs("div",{className:"medical-records-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"My Medical Records"}),i.jsx("p",{children:"View your complete medical history and records"})]}),i.jsx("div",{className:"records-controls",children:i.jsxs("div",{className:"search-filter-section",children:[i.jsx("div",{className:"search-box",children:i.jsx("input",{type:"text",placeholder:"Search records, diagnoses, treatments...",value:l,onChange:f=>c(f.target.value),className:"search-input"})}),i.jsx("div",{className:"filter-section",children:i.jsxs("select",{value:u,onChange:f=>p(f.target.value),className:"filter-select",children:[i.jsx("option",{value:"all",children:"All Records"}),i.jsx("option",{value:"recent",children:"Last 30 Days"})]})})]})}),i.jsx("div",{className:"records-container",children:S.length===0?i.jsxs("div",{className:"no-records",children:[i.jsx("div",{className:"no-records-icon",children:"📋"}),i.jsx("h3",{children:"No Medical Records Found"}),i.jsx("p",{children:l?"No records match your search criteria.":"You don't have any medical records yet. Records will appear here after your appointments."})]}):i.jsx("div",{className:"records-grid",children:S.map(f=>{var y,b;return i.jsxs("div",{className:"record-card",onClick:()=>o(f),children:[i.jsxs("div",{className:"record-header",children:[i.jsx("div",{className:"record-date",children:w(f.date)}),i.jsxs("div",{className:"record-doctor",children:["Dr. ",((b=(y=f.doctor)==null?void 0:y.profile)==null?void 0:b.fullName)||"Unknown Doctor"]})]}),i.jsxs("div",{className:"record-content",children:[i.jsxs("div",{className:"diagnosis",children:[i.jsx("strong",{children:"Diagnosis:"})," ",f.diagnosis]}),f.treatment&&i.jsxs("div",{className:"treatment",children:[i.jsx("strong",{children:"Treatment:"})," ",f.treatment]})]}),f.medications&&f.medications.length>0&&i.jsxs("div",{className:"medications-preview",children:[i.jsx("strong",{children:"Medications:"})," ",f.medications.length," prescribed"]}),i.jsx("div",{className:"record-footer",children:i.jsx("span",{className:"view-details",children:"Click to view details →"})})]},f._id)})})}),a&&i.jsx("div",{className:"modal-overlay",onClick:()=>o(null),children:i.jsxs("div",{className:"modal-content record-detail-modal",onClick:f=>f.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Medical Record Details"}),i.jsx("button",{className:"close-btn",onClick:()=>o(null),children:"×"})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"record-info-grid",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{children:"General Information"}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Date:"}),i.jsx("span",{children:w(a.date)})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Doctor:"}),i.jsxs("span",{children:["Dr. ",((j=(N=a.doctor)==null?void 0:N.profile)==null?void 0:j.fullName)||"Unknown Doctor"]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Specialization:"}),i.jsx("span",{children:((d=(m=a.doctor)==null?void 0:m.profile)==null?void 0:d.specialization)||"N/A"})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{children:"Medical Details"}),i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Diagnosis:"}),i.jsx("span",{children:a.diagnosis})]}),a.treatment&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Treatment:"}),i.jsx("span",{children:a.treatment})]}),a.notes&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Notes:"}),i.jsx("span",{children:a.notes})]})]}),a.vitals&&Object.keys(a.vitals).length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h3",{children:"Vital Signs"}),a.vitals.bloodPressure&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Blood Pressure:"}),i.jsx("span",{children:a.vitals.bloodPressure})]}),a.vitals.heartRate&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Heart Rate:"}),i.jsxs("span",{children:[a.vitals.heartRate," bpm"]})]}),a.vitals.temperature&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Temperature:"}),i.jsxs("span",{children:[a.vitals.temperature,"°F"]})]}),a.vitals.weight&&i.jsxs("div",{className:"info-item",children:[i.jsx("label",{children:"Weight:"}),i.jsxs("span",{children:[a.vitals.weight," lbs"]})]})]}),a.medications&&a.medications.length>0&&i.jsxs("div",{className:"info-section medications-section",children:[i.jsx("h3",{children:"Medications"}),i.jsx("div",{className:"medications-list",children:a.medications.map((f,y)=>i.jsxs("div",{className:"medication-item",children:[i.jsx("div",{className:"medication-name",children:f.name}),i.jsxs("div",{className:"medication-details",children:[i.jsxs("span",{children:["Dosage: ",f.dosage]}),i.jsxs("span",{children:["Frequency: ",f.frequency]}),f.duration&&i.jsxs("span",{children:["Duration: ",f.duration]})]})]},y))})]})]})}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{className:"btn secondary",onClick:()=>o(null),children:"Close"})})]})})]})}function uC(){var l,c,u,p,g,w,S,N,j,m,d,f,y,b,C;const{id:e}=Df();De();const{addNotification:t}=He(),[n,r]=E.useState(null),[s,a]=E.useState(!0);E.useEffect(()=>{o()},[e]);const o=async()=>{try{a(!0);const A=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!A.ok)throw new Error("Failed to fetch doctor details");const x=await A.json();r(x)}catch(A){console.error("Error fetching doctor:",A),t(`Error: ${A.message}`,"error")}finally{a(!1)}};return s?i.jsx(fn,{fullPage:!0}):n?i.jsxs("div",{className:"doctor-profile-view-page",children:[i.jsxs("div",{className:"profile-header",children:[i.jsxs("div",{className:"doctor-avatar-section",children:[i.jsx("img",{src:((l=n.profile)==null?void 0:l.avatar)||"/default-doctor.png",alt:(c=n.profile)==null?void 0:c.fullName,className:"doctor-avatar",onError:A=>{A.target.src="/default-doctor.png"}}),i.jsxs("div",{className:"doctor-basic-info",children:[i.jsx("h1",{children:(u=n.profile)==null?void 0:u.fullName}),i.jsx("p",{className:"specialization",children:(p=n.profile)==null?void 0:p.specialization}),((g=n.profile)==null?void 0:g.experience)&&i.jsxs("p",{className:"experience",children:[n.profile.experience," years of experience"]})]})]}),i.jsxs("div",{className:"profile-actions",children:[i.jsx(pe,{to:`/appointments/new?doctorId=${n._id}`,className:"btn primary",children:"Book Appointment"}),i.jsx(pe,{to:"/doctors",className:"btn secondary",children:"Back to Doctors"})]})]}),i.jsxs("div",{className:"profile-content",children:[i.jsxs("div",{className:"profile-main",children:[i.jsxs("section",{className:"about-section",children:[i.jsxs("h2",{children:["About Dr. ",((w=n.profile)==null?void 0:w.lastName)||((S=n.profile)==null?void 0:S.fullName)]}),(N=n.profile)!=null&&N.bio?i.jsx("p",{className:"bio",children:n.profile.bio}):i.jsx("p",{className:"no-bio",children:"No biography available."})]}),((j=n.profile)==null?void 0:j.education)&&i.jsxs("section",{className:"education-section",children:[i.jsx("h2",{children:"Education"}),i.jsx("p",{children:n.profile.education})]}),((m=n.profile)==null?void 0:m.licenseNumber)&&i.jsxs("section",{className:"credentials-section",children:[i.jsx("h2",{children:"Credentials"}),i.jsxs("div",{className:"credential-item",children:[i.jsx("strong",{children:"Medical License:"})," ",n.profile.licenseNumber]}),i.jsxs("div",{className:"credential-item",children:[i.jsx("strong",{children:"Verification Status:"}),i.jsx("span",{className:`status ${n.verificationStatus||"pending"}`,children:n.verificationStatus||"Pending"})]})]})]}),i.jsxs("div",{className:"profile-sidebar",children:[i.jsxs("div",{className:"quick-info-card",children:[i.jsx("h3",{children:"Quick Information"}),i.jsxs("div",{className:"info-items",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Specialization:"}),i.jsx("span",{className:"value",children:((d=n.profile)==null?void 0:d.specialization)||"Not specified"})]}),((f=n.profile)==null?void 0:f.experience)&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Experience:"}),i.jsxs("span",{className:"value",children:[n.profile.experience," years"]})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Status:"}),i.jsx("span",{className:`value status ${n.status||"active"}`,children:n.status||"Active"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Member Since:"}),i.jsx("span",{className:"value",children:new Date(n.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]})]}),i.jsxs("div",{className:"booking-card",children:[i.jsx("h3",{children:"Book an Appointment"}),i.jsxs("p",{children:["Schedule a consultation with Dr. ",((y=n.profile)==null?void 0:y.lastName)||((b=n.profile)==null?void 0:b.fullName)]}),i.jsx(pe,{to:`/appointments/new?doctorId=${n._id}`,className:"btn primary full-width",children:"Book Now"})]}),((C=n.profile)==null?void 0:C.specialization)&&i.jsxs("div",{className:"specialization-card",children:[i.jsx("h3",{children:"Specialization"}),i.jsx("div",{className:"specialization-badge",children:n.profile.specialization}),i.jsxs("p",{children:["Expert care in ",n.profile.specialization.toLowerCase()]})]})]})]})]}):i.jsx("div",{className:"doctor-profile-view-page",children:i.jsxs("div",{className:"error-message",children:[i.jsx("h2",{children:"Doctor Not Found"}),i.jsx("p",{children:"The requested doctor profile could not be found."}),i.jsx(pe,{to:"/doctors",className:"btn primary",children:"Back to Doctors"})]})})}function Ve({children:e,roles:t=[]}){const{user:n,loading:r}=De();return r?i.jsx("div",{children:"Loading..."}):n?t.length>0&&!t.includes(n.role)?i.jsx(zu,{to:"/unauthorized",replace:!0}):e:i.jsx(zu,{to:"/login",replace:!0})}function Yr({children:e,restricted:t=!1}){const{user:n}=De();return n&&t?i.jsx(zu,{to:"/dashboard",replace:!0}):e}const dC=()=>i.jsxs("div",{className:"not-found-page",children:[i.jsx("h1",{children:"404 - Page Not Found"}),i.jsx("p",{children:"Sorry, the page you are looking for does not exist."}),i.jsx(pe,{to:"/",className:"home-link",children:"Go Back to Home"})]});function fC(){const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState("all"),[l,c]=E.useState("");E.useEffect(()=>{(async()=>{try{s(!0);const N=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!N.ok)throw console.error("Users API error:",N.status),new Error("Failed to fetch users");const j=await N.json();if(j.users&&Array.isArray(j.users))n(j.users);else if(Array.isArray(j))n(j);else throw console.error("Unexpected API response format:",j),new Error("Unexpected API response format")}catch(N){console.error("Error fetching users:",N),e(`Error: ${N.message}`,"error")}finally{s(!1)}})()},[e]);const u=S=>{o(S.target.value)},p=S=>{c(S.target.value)},g=t.filter(S=>{var N,j,m,d,f,y;if(a!=="all"&&S.role!==a)return!1;if(l){const b=S.email.toLowerCase(),C=((j=(N=S.profile)==null?void 0:N.firstName)==null?void 0:j.toLowerCase())||"",A=((d=(m=S.profile)==null?void 0:m.lastName)==null?void 0:d.toLowerCase())||"",x=((y=(f=S.profile)==null?void 0:f.fullName)==null?void 0:y.toLowerCase())||`${C} ${A}`.trim();if(!b.includes(l.toLowerCase())&&!x.includes(l.toLowerCase()))return!1}return!0}),w=async(S,N)=>{try{if(!(await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/users/${S}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:N})})).ok)throw new Error("Failed to update user status");n(t.map(m=>m._id===S?{...m,status:N}:m)),e("User status updated successfully","success")}catch(j){e(`Error: ${j.message}`,"error")}};return r?i.jsx(fn,{}):i.jsxs("div",{className:"admin-page users-management-page",children:[i.jsx("h1",{children:"Users Management"}),i.jsxs("div",{className:"filters-container",children:[i.jsx("div",{className:"search-box",children:i.jsx("input",{type:"text",placeholder:"Search by name or email",value:l,onChange:p})}),i.jsx("div",{className:"filter-dropdown",children:i.jsxs("select",{value:a,onChange:u,children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"patient",children:"Patients"}),i.jsx("option",{value:"doctor",children:"Doctors"}),i.jsx("option",{value:"admin",children:"Admins"})]})})]}),i.jsx("div",{className:"users-table-container",children:i.jsxs("table",{className:"users-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Name"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Role"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Joined"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:g.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"no-results",children:"No users found"})}):g.map(S=>{var N,j,m;return i.jsxs("tr",{children:[i.jsx("td",{children:(N=S.profile)!=null&&N.fullName||(j=S.profile)!=null&&j.firstName&&((m=S.profile)!=null&&m.lastName)?`${S.profile.firstName||""} ${S.profile.lastName||""}`.trim():"N/A"}),i.jsx("td",{children:S.email}),i.jsx("td",{children:i.jsx("span",{className:`role-badge role-${S.role}`,children:S.role})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge status-${S.status}`,children:S.status})}),i.jsx("td",{children:new Date(S.createdAt).toLocaleDateString()}),i.jsx("td",{children:i.jsxs("div",{className:"action-buttons",children:[S.status==="active"?i.jsx("button",{className:"btn-sm danger",onClick:()=>w(S._id,"suspended"),children:"Suspend"}):i.jsx("button",{className:"btn-sm success",onClick:()=>w(S._id,"active"),children:"Activate"}),i.jsx("button",{className:"btn-sm",children:"Edit"})]})})]},S._id)})})]})})]})}function hC(){var u,p,g,w,S,N,j,m,d;const{addNotification:e}=He(),[t,n]=E.useState(!0),[r,s]=E.useState("month"),[a,o]=E.useState({registrations:[],appointments:[],verifications:[]});E.useEffect(()=>{(async()=>{try{n(!0);const y=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/reports?range=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!y.ok)throw console.error("Reports API error:",y.status),new Error("Failed to fetch report data");const b=await y.json();o(b)}catch(y){e(`Error: ${y.message}`,"error")}finally{n(!1)}})()},[r,e]);const l=f=>{s(f.target.value)},c=async f=>{try{const y=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/admin/reports/${f}/export?range=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!y.ok)throw new Error("Failed to download report");const b=await y.blob(),C=window.URL.createObjectURL(b),A=document.createElement("a");A.style.display="none",A.href=C,A.download=`${f}-${r}-report.csv`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(C),e("Report downloaded successfully","success")}catch(y){e(`Error: ${y.message}`,"error")}};return t?i.jsx(fn,{}):i.jsxs("div",{className:"admin-page reports-page",children:[i.jsx("h1",{children:"System Reports"}),i.jsx("div",{className:"filters-container",children:i.jsx("div",{className:"filter-dropdown",children:i.jsxs("select",{value:r,onChange:l,children:[i.jsx("option",{value:"week",children:"Last Week"}),i.jsx("option",{value:"month",children:"Last Month"}),i.jsx("option",{value:"quarter",children:"Last Quarter"}),i.jsx("option",{value:"year",children:"Last Year"})]})})}),i.jsxs("div",{className:"reports-grid",children:[i.jsxs("div",{className:"report-card",children:[i.jsxs("div",{className:"report-header",children:[i.jsx("h2",{children:"User Registrations"}),i.jsx("button",{className:"btn-sm secondary",onClick:()=>c("registrations"),children:"Download CSV"})]}),i.jsxs("div",{className:"report-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((u=a.summary)==null?void 0:u.totalRegistrations)||0}),i.jsx("span",{className:"stat-label",children:"Total"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((p=a.summary)==null?void 0:p.patientRegistrations)||0}),i.jsx("span",{className:"stat-label",children:"Patients"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((g=a.summary)==null?void 0:g.doctorRegistrations)||0}),i.jsx("span",{className:"stat-label",children:"Doctors"})]})]}),i.jsx("div",{className:"report-chart",children:i.jsx("div",{className:"placeholder-chart",children:"Registration trend visualization"})})]}),i.jsxs("div",{className:"report-card",children:[i.jsxs("div",{className:"report-header",children:[i.jsx("h2",{children:"Appointments"}),i.jsx("button",{className:"btn-sm secondary",onClick:()=>c("appointments"),children:"Download CSV"})]}),i.jsxs("div",{className:"report-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((w=a.summary)==null?void 0:w.totalAppointments)||0}),i.jsx("span",{className:"stat-label",children:"Total"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((S=a.summary)==null?void 0:S.completedAppointments)||0}),i.jsx("span",{className:"stat-label",children:"Completed"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((N=a.summary)==null?void 0:N.canceledAppointments)||0}),i.jsx("span",{className:"stat-label",children:"Canceled"})]})]}),i.jsx("div",{className:"report-chart",children:i.jsx("div",{className:"placeholder-chart",children:"Appointment trend visualization"})})]}),i.jsxs("div",{className:"report-card",children:[i.jsxs("div",{className:"report-header",children:[i.jsx("h2",{children:"Doctor Verifications"}),i.jsx("button",{className:"btn-sm secondary",onClick:()=>c("verifications"),children:"Download CSV"})]}),i.jsxs("div",{className:"report-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((j=a.summary)==null?void 0:j.totalVerifications)||0}),i.jsx("span",{className:"stat-label",children:"Total"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((m=a.summary)==null?void 0:m.approvedVerifications)||0}),i.jsx("span",{className:"stat-label",children:"Approved"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:((d=a.summary)==null?void 0:d.rejectedVerifications)||0}),i.jsx("span",{className:"stat-label",children:"Rejected"})]})]}),i.jsx("div",{className:"report-chart",children:i.jsx("div",{className:"placeholder-chart",children:"Verification trend visualization"})})]})]})]})}function pC(){const e=Dt(),{user:t}=De(),{addNotification:n}=He(),[r,s]=E.useState(!0),[a,o]=E.useState({firstName:"",lastName:"",phone:"",specialization:"",licenseNumber:"",bio:"",education:[],experience:[]}),[l,c]=E.useState({institution:"",degree:"",year:""}),[u,p]=E.useState({position:"",organization:"",years:""});E.useEffect(()=>{(async()=>{var b,C,A,x,k,D,B,q;try{s(!0);const L=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!L.ok)throw new Error("Failed to fetch profile");const Q=await L.json();o({firstName:((b=Q.profile)==null?void 0:b.firstName)||"",lastName:((C=Q.profile)==null?void 0:C.lastName)||"",phone:((A=Q.profile)==null?void 0:A.phone)||"",specialization:((x=Q.profile)==null?void 0:x.specialization)||"",licenseNumber:((k=Q.profile)==null?void 0:k.licenseNumber)||"",bio:((D=Q.profile)==null?void 0:D.bio)||"",education:((B=Q.profile)==null?void 0:B.education)||[],experience:((q=Q.profile)==null?void 0:q.experience)||[]})}catch(L){n(`Error: ${L.message}`,"error")}finally{s(!1)}})()},[n]);const g=y=>{const{name:b,value:C}=y.target;o({...a,[b]:C})},w=y=>{const{name:b,value:C}=y.target;c({...l,[b]:C})},S=y=>{const{name:b,value:C}=y.target;p({...u,[b]:C})},N=()=>{if(!l.institution||!l.degree){n("Please fill in institution and degree","error");return}o({...a,education:[...a.education,{...l,id:Date.now()}]}),c({institution:"",degree:"",year:""})},j=y=>{o({...a,education:a.education.filter(b=>b.id!==y)})},m=()=>{if(!u.position||!u.organization){n("Please fill in position and organization","error");return}o({...a,experience:[...a.experience,{...u,id:Date.now()}]}),p({position:"",organization:"",years:""})},d=y=>{o({...a,experience:a.experience.filter(b=>b.id!==y)})},f=async y=>{var b;y.preventDefault();try{if(!(await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({profile:a})})).ok)throw new Error("Failed to update profile");n("Profile updated successfully","success"),!((b=t.profile)!=null&&b.isVerified)&&a.licenseNumber&&a.specialization&&e("/doctor/verification")}catch(C){n(`Error: ${C.message}`,"error")}};return r?i.jsx(fn,{}):i.jsxs("div",{className:"doctor-page profile-page",children:[i.jsx("h1",{children:"Doctor Profile"}),i.jsx("p",{children:"Manage your profile information visible to patients."}),i.jsxs("form",{onSubmit:f,className:"profile-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"Basic Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"First Name"}),i.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:g,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Last Name"}),i.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:g,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:g})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Specialization"}),i.jsxs("select",{name:"specialization",value:a.specialization,onChange:g,required:!0,children:[i.jsx("option",{value:"",children:"Select Specialization"}),i.jsx("option",{value:"Cardiology",children:"Cardiology"}),i.jsx("option",{value:"Dermatology",children:"Dermatology"}),i.jsx("option",{value:"Endocrinology",children:"Endocrinology"}),i.jsx("option",{value:"Gastroenterology",children:"Gastroenterology"}),i.jsx("option",{value:"Neurology",children:"Neurology"}),i.jsx("option",{value:"Obstetrics",children:"Obstetrics"}),i.jsx("option",{value:"Oncology",children:"Oncology"}),i.jsx("option",{value:"Ophthalmology",children:"Ophthalmology"}),i.jsx("option",{value:"Orthopedics",children:"Orthopedics"}),i.jsx("option",{value:"Pediatrics",children:"Pediatrics"}),i.jsx("option",{value:"Psychiatry",children:"Psychiatry"}),i.jsx("option",{value:"Urology",children:"Urology"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"License Number"}),i.jsx("input",{type:"text",name:"licenseNumber",value:a.licenseNumber,onChange:g,required:!0})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"About You"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Professional Bio"}),i.jsx("textarea",{name:"bio",value:a.bio,onChange:g,rows:"4",placeholder:"Tell patients about yourself, your approach to medicine, and what they can expect from your care."})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"Education"}),i.jsx("div",{className:"items-list",children:a.education.map((y,b)=>i.jsxs("div",{className:"list-item",children:[i.jsxs("div",{className:"item-content",children:[i.jsx("h4",{children:y.degree}),i.jsxs("p",{children:[y.institution," ",y.year?`- ${y.year}`:""]})]}),i.jsx("button",{type:"button",className:"btn-sm danger",onClick:()=>j(y.id),children:"Remove"})]},y.id||b))}),i.jsxs("div",{className:"add-item-form",children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Institution"}),i.jsx("input",{type:"text",name:"institution",value:l.institution,onChange:w})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Degree/Certificate"}),i.jsx("input",{type:"text",name:"degree",value:l.degree,onChange:w})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Year"}),i.jsx("input",{type:"text",name:"year",value:l.year,onChange:w})]})]}),i.jsx("button",{type:"button",className:"btn secondary",onClick:N,children:"Add Education"})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"Experience"}),i.jsx("div",{className:"items-list",children:a.experience.map((y,b)=>i.jsxs("div",{className:"list-item",children:[i.jsxs("div",{className:"item-content",children:[i.jsx("h4",{children:y.position}),i.jsxs("p",{children:[y.organization," ",y.years?`- ${y.years}`:""]})]}),i.jsx("button",{type:"button",className:"btn-sm danger",onClick:()=>d(y.id),children:"Remove"})]},y.id||b))}),i.jsxs("div",{className:"add-item-form",children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Position"}),i.jsx("input",{type:"text",name:"position",value:u.position,onChange:S})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Organization"}),i.jsx("input",{type:"text",name:"organization",value:u.organization,onChange:S})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Years"}),i.jsx("input",{type:"text",name:"years",value:u.years,onChange:S,placeholder:"e.g. 2018-2022"})]})]}),i.jsx("button",{type:"button",className:"btn secondary",onClick:m,children:"Add Experience"})]})]}),i.jsx("div",{className:"form-actions",children:i.jsx("button",{type:"submit",className:"btn primary",children:"Save Profile"})})]})]})}function mC(){var f,y,b,C;const{addNotification:e}=He(),[t,n]=E.useState(!0),[r,s]=E.useState([]),[a,o]=E.useState("monday"),[l,c]=E.useState({start:"09:00",end:"17:00",slotDuration:30}),u=[{id:"monday",label:"Monday"},{id:"tuesday",label:"Tuesday"},{id:"wednesday",label:"Wednesday"},{id:"thursday",label:"Thursday"},{id:"friday",label:"Friday"},{id:"saturday",label:"Saturday"},{id:"sunday",label:"Sunday"}];E.useEffect(()=>{(async()=>{try{n(!0);try{const k=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/my-availability",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(k.ok){const D=await k.json(),B=Array.isArray(D)?D.map(q=>({...q,slots:q.startTime&&q.endTime&&q.slotDuration?m(q.startTime,q.endTime,q.slotDuration):[]})):[];s(B)}else console.error(`API returned ${k.status}`),e("Failed to load availability data from server","warning"),s([])}catch(x){console.error("Error fetching availability:",x),e("Unable to connect to server. Please check your connection.","error"),s([])}}catch(x){console.error("Error fetching availability:",x),e("Failed to load availability data","error"),s([])}finally{n(!1)}})()},[e]);const p=A=>{o(A)},g=A=>{c({...l,start:A.target.value})},w=A=>{c({...l,end:A.target.value})},S=A=>{c({...l,slotDuration:parseInt(A.target.value,10)})},N=async()=>{try{const A=m(l.start,l.end,l.slotDuration),x={day:a,slots:A};try{const D=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/availability",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({day:a,startTime:l.start,endTime:l.end,slotDuration:l.slotDuration})});if(D.ok){const B=await D.json(),q=B.availability||B,L=m(q.startTime,q.endTime,q.slotDuration),Q={day:q.day,startTime:q.startTime,endTime:q.endTime,slotDuration:q.slotDuration,slots:L,createdAt:q.createdAt,updatedAt:q.updatedAt};s([...r.filter(le=>le.day!==a),Q]),e("Availability updated successfully","success")}else{const B=await D.json();e(B.error||"Failed to update availability","error")}}catch(k){console.error("Error updating availability:",k),e("Unable to connect to server","error")}}catch(A){console.error("Error adding availability:",A),e("Failed to update availability","error")}},j=async A=>{try{const k=await fetch(`https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/doctors/availability/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(k.ok)s(r.filter(D=>D.day!==A)),e("Availability removed successfully","success");else{const D=await k.json();e(D.error||"Failed to remove availability","error")}}catch(x){console.error("Error removing availability:",x),e("Unable to connect to server","error")}},m=(A,x,k)=>{const D=[],B=new Date(`2000-01-01T${A}:00`),q=new Date(`2000-01-01T${x}:00`);let L=B;for(;L<q;)D.push({time:L.toTimeString().slice(0,5),available:!0}),L=new Date(L.getTime()+k*6e4);return D};if(t)return i.jsx(fn,{});const d=r.find(A=>A.day===a);return i.jsxs("div",{className:"doctor-page availability-page",children:[i.jsx("h1",{children:"Set Your Availability"}),i.jsx("p",{children:"Configure when you're available to see patients."}),i.jsxs("div",{className:"availability-container",children:[i.jsxs("div",{className:"days-sidebar",children:[i.jsx("h3",{children:"Days"}),i.jsx("div",{className:"days-list",children:u.map(A=>i.jsxs("div",{className:`day-item ${a===A.id?"selected":""} ${r.some(x=>x.day===A.id)?"has-availability":""}`,onClick:()=>p(A.id),children:[i.jsx("span",{className:"day-name",children:A.label}),r.some(x=>x.day===A.id)&&i.jsx("span",{className:"availability-indicator",children:"✓"})]},A.id))})]}),i.jsxs("div",{className:"day-config",children:[i.jsxs("div",{className:"day-header",children:[i.jsx("h2",{children:(f=u.find(A=>A.id===a))==null?void 0:f.label}),d&&i.jsx("button",{className:"btn-sm danger",onClick:()=>j(a),children:"Remove Availability"})]}),i.jsxs("div",{className:"time-config",children:[i.jsxs("div",{className:"time-inputs",children:[i.jsxs("div",{className:"input-group",children:[i.jsx("label",{children:"Start Time"}),i.jsx("input",{type:"time",value:(d==null?void 0:d.startTime)||l.start,onChange:g})]}),i.jsxs("div",{className:"input-group",children:[i.jsx("label",{children:"End Time"}),i.jsx("input",{type:"time",value:(d==null?void 0:d.endTime)||l.end,onChange:w})]}),i.jsxs("div",{className:"input-group",children:[i.jsx("label",{children:"Appointment Duration (minutes)"}),i.jsxs("select",{value:(d==null?void 0:d.slotDuration)||l.slotDuration,onChange:S,children:[i.jsx("option",{value:15,children:"15 min"}),i.jsx("option",{value:30,children:"30 min"}),i.jsx("option",{value:45,children:"45 min"}),i.jsx("option",{value:60,children:"60 min"})]})]})]}),i.jsx("button",{className:"btn primary",onClick:N,disabled:!a||!l.start||!l.end,children:d?"Update Availability":"Add Availability"})]}),d&&i.jsxs("div",{className:"time-slots-preview",children:[i.jsxs("h3",{children:["Current Time Slots for ",(y=u.find(A=>A.id===a))==null?void 0:y.label]}),i.jsx("div",{className:"slots-container",children:d.slots&&d.slots.length>0?d.slots.map((A,x)=>i.jsxs("div",{className:`time-slot ${A.available?"available":"booked"}`,children:[A.time,A.available?" (Available)":" (Booked)"]},x)):i.jsx("div",{className:"no-slots",children:"No time slots configured for this day"})}),d&&i.jsxs("button",{className:"btn danger",onClick:()=>j(a),children:["Remove All Availability for ",(b=u.find(A=>A.id===a))==null?void 0:b.label]})]}),!d&&i.jsxs("div",{className:"no-availability",children:[i.jsxs("p",{children:["No availability set for ",(C=u.find(A=>A.id===a))==null?void 0:C.label]}),i.jsx("p",{children:"Use the form above to add your available hours."})]})]})]})]})}function gC(){De();const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState(null),[l,c]=E.useState("all");E.useEffect(()=>{u()},[l]);const u=async()=>{try{s(!0),o(null);let j="/appointments";l==="upcoming"&&(j="/appointments/upcoming");let d=(await je.get(j)).data||[];if(l==="today"){const f=new Date().toDateString();d=d.filter(y=>new Date(y.date).toDateString()===f)}else l==="completed"?d=d.filter(f=>f.status==="completed"):l==="upcoming"&&(d=d.filter(f=>f.status==="scheduled"&&new Date(f.date)>new Date));n(d)}catch(j){console.error("Error fetching appointments:",j),o("Failed to load appointments"),e("Failed to load appointments","error")}finally{s(!1)}},p=async(j,m)=>{try{await je.put(`/appointments/${j}`,{status:m}),e(`Appointment ${m} successfully`,"success"),u()}catch(d){console.error("Error updating appointment:",d),e("Failed to update appointment","error")}},g=async(j,m,d)=>{try{await je.put(`/appointments/${j}/reschedule`,{date:m,time:d}),e("Appointment rescheduled successfully","success"),u()}catch(f){console.error("Error rescheduling appointment:",f),e("Failed to reschedule appointment","error")}},w=j=>new Date(j).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),S=j=>j||"Not set",N=j=>{switch(j){case"scheduled":return"#28a745";case"completed":return"#6c757d";case"cancelled":return"#dc3545";case"no-show":return"#ffc107";default:return"#6c757d"}};return r?i.jsxs("div",{className:"doctor-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading appointments..."})]}):i.jsxs("div",{className:"doctor-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"My Appointments"}),i.jsx("p",{children:"Manage your patient appointments"})]}),a&&i.jsxs("div",{className:"error-banner",children:[i.jsx("p",{children:a}),i.jsx("button",{onClick:u,children:"Retry"})]}),i.jsxs("div",{className:"appointments-filters",children:[i.jsx("button",{className:l==="all"?"active":"",onClick:()=>c("all"),children:"All Appointments"}),i.jsx("button",{className:l==="today"?"active":"",onClick:()=>c("today"),children:"Today"}),i.jsx("button",{className:l==="upcoming"?"active":"",onClick:()=>c("upcoming"),children:"Upcoming"}),i.jsx("button",{className:l==="completed"?"active":"",onClick:()=>c("completed"),children:"Completed"})]}),i.jsx("div",{className:"appointments-list",children:t.length===0?i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No appointments found for the selected filter."})}):t.map(j=>{var m,d,f;return i.jsxs("div",{className:"appointment-card",children:[i.jsxs("div",{className:"appointment-header",children:[i.jsxs("div",{className:"patient-info",children:[i.jsxs("h3",{children:[(m=j.patient)==null?void 0:m.firstName," ",(d=j.patient)==null?void 0:d.lastName]}),i.jsx("p",{className:"patient-email",children:(f=j.patient)==null?void 0:f.email})]}),i.jsx("div",{className:"appointment-status",style:{backgroundColor:N(j.status)},children:j.status})]}),i.jsxs("div",{className:"appointment-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Date:"})," ",w(j.date)]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Time:"})," ",S(j.time)]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Type:"})," ",j.type||"General Consultation"]}),j.reason&&i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Reason:"})," ",j.reason]}),j.notes&&i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Notes:"})," ",j.notes]})]}),i.jsxs("div",{className:"appointment-actions",children:[j.status==="scheduled"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-primary",onClick:()=>p(j._id,"completed"),children:"Mark Complete"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>p(j._id,"cancelled"),children:"Cancel"}),i.jsx("button",{className:"btn btn-warning",onClick:()=>p(j._id,"no-show"),children:"No Show"})]}),j.status==="scheduled"&&i.jsx("button",{className:"btn btn-secondary",onClick:()=>{const y=prompt("Enter new date (YYYY-MM-DD):"),b=prompt("Enter new time (HH:MM):");y&&b&&g(j._id,y,b)},children:"Reschedule"})]})]},j._id)})})]})}function vC(){De();const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState(null),[l,c]=E.useState(""),[u,p]=E.useState(null),[g,w]=E.useState([]);E.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0),o(null);const b=await je.get("/doctors/my-patients");n(b.data.patients||b.data||[])}catch(b){console.error("Error fetching patients:",b),o("Failed to load patients"),e("Failed to load patients","error")}finally{s(!1)}},N=async b=>{try{const C=await je.get(`/medical-records?patientId=${b}`);w(C.data.records||C.data||[])}catch(C){console.error("Error fetching medical records:",C),e("Failed to load medical records","error")}},j=async(b,C)=>{try{await je.post("/medical-records",{patientId:b,...C}),e("Medical record added successfully","success"),N(b)}catch(A){console.error("Error adding medical record:",A),e("Failed to add medical record","error")}},m=t.filter(b=>{var C,A,x;return((C=b.firstName)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))||((A=b.lastName)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((x=b.email)==null?void 0:x.toLowerCase().includes(l.toLowerCase()))}),d=b=>{p(b),N(b._id)},f=()=>{p(null),w([])},y=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?i.jsxs("div",{className:"doctor-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading patients..."})]}):i.jsxs("div",{className:"doctor-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"My Patients"}),i.jsx("p",{children:"Manage your patient records and medical history"})]}),a&&i.jsxs("div",{className:"error-banner",children:[i.jsx("p",{children:a}),i.jsx("button",{onClick:S,children:"Retry"})]}),i.jsx("div",{className:"patients-search",children:i.jsx("input",{type:"text",placeholder:"Search patients by name or email...",value:l,onChange:b=>c(b.target.value),className:"search-input"})}),i.jsx("div",{className:"patients-list",children:m.length===0?i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No patients found."})}):m.map(b=>i.jsxs("div",{className:"patient-card",children:[i.jsxs("div",{className:"patient-info",children:[i.jsxs("h3",{children:[b.firstName," ",b.lastName]}),i.jsx("p",{className:"patient-email",children:b.email}),i.jsx("p",{className:"patient-phone",children:b.phone||"No phone number"}),i.jsxs("p",{className:"patient-dob",children:["DOB: ",b.dateOfBirth?y(b.dateOfBirth):"Not provided"]})]}),i.jsx("div",{className:"patient-actions",children:i.jsx("button",{className:"btn btn-primary",onClick:()=>d(b),children:"View Details"})})]},b._id))}),u&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content patient-details-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h2",{children:[u.firstName," ",u.lastName]}),i.jsx("button",{className:"close-btn",onClick:f,children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"patient-info-section",children:[i.jsx("h3",{children:"Patient Information"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Email:"})," ",u.email]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Phone:"})," ",u.phone||"Not provided"]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Date of Birth:"}),u.dateOfBirth?y(u.dateOfBirth):"Not provided"]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Gender:"})," ",u.gender||"Not specified"]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Address:"})," ",u.address||"Not provided"]})]})]}),i.jsxs("div",{className:"medical-records-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Medical Records"}),i.jsx("button",{className:"btn btn-primary",onClick:()=>{const b=prompt("Enter diagnosis:"),C=prompt("Enter treatment:"),A=prompt("Enter notes:");b&&j(u._id,{diagnosis:b,treatment:C,notes:A,date:new Date().toISOString()})},children:"Add Record"})]}),i.jsx("div",{className:"medical-records-list",children:g.length===0?i.jsx("p",{children:"No medical records found."}):g.map(b=>i.jsxs("div",{className:"medical-record-card",children:[i.jsxs("div",{className:"record-header",children:[i.jsx("h4",{children:b.diagnosis}),i.jsx("span",{className:"record-date",children:y(b.date)})]}),i.jsxs("div",{className:"record-content",children:[b.treatment&&i.jsxs("p",{children:[i.jsx("strong",{children:"Treatment:"})," ",b.treatment]}),b.notes&&i.jsxs("p",{children:[i.jsx("strong",{children:"Notes:"})," ",b.notes]}),b.prescription&&i.jsxs("p",{children:[i.jsx("strong",{children:"Prescription:"})," ",b.prescription]})]})]},b._id))})]})]}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{className:"btn btn-secondary",onClick:f,children:"Close"})})]})})]})}function yC(){return i.jsxs("div",{className:"public-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"About Our Telemedicine Platform"}),i.jsx("p",{children:"Revolutionizing healthcare through technology and compassion"})]}),i.jsxs("div",{className:"content-sections",children:[i.jsxs("section",{className:"about-section",children:[i.jsx("h2",{children:"Our Mission"}),i.jsx("p",{children:"We believe healthcare should be accessible, convenient, and high-quality for everyone. Our telemedicine platform connects patients with certified healthcare professionals from the comfort of their homes, breaking down barriers to medical care."})]}),i.jsxs("section",{className:"about-section",children:[i.jsx("h2",{children:"How It Works"}),i.jsxs("div",{className:"steps-grid",children:[i.jsxs("div",{className:"step-card",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsx("h3",{children:"Sign Up"}),i.jsx("p",{children:"Create your account and complete your medical profile"})]}),i.jsxs("div",{className:"step-card",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsx("h3",{children:"Choose Doctor"}),i.jsx("p",{children:"Browse our network of certified healthcare professionals"})]}),i.jsxs("div",{className:"step-card",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsx("h3",{children:"Book Appointment"}),i.jsx("p",{children:"Schedule a convenient time for your virtual consultation"})]}),i.jsxs("div",{className:"step-card",children:[i.jsx("div",{className:"step-number",children:"4"}),i.jsx("h3",{children:"Get Care"}),i.jsx("p",{children:"Connect with your doctor via secure video call"})]})]})]}),i.jsxs("section",{className:"about-section",children:[i.jsx("h2",{children:"Why Choose Us"}),i.jsxs("div",{className:"benefits-grid",children:[i.jsxs("div",{className:"benefit-card",children:[i.jsx("div",{className:"benefit-icon",children:"🏥"}),i.jsx("h3",{children:"Certified Doctors"}),i.jsx("p",{children:"All our healthcare providers are licensed and board-certified"})]}),i.jsxs("div",{className:"benefit-card",children:[i.jsx("div",{className:"benefit-icon",children:"🔒"}),i.jsx("h3",{children:"HIPAA Compliant"}),i.jsx("p",{children:"Your health information is secure and private"})]}),i.jsxs("div",{className:"benefit-card",children:[i.jsx("div",{className:"benefit-icon",children:"⏰"}),i.jsx("h3",{children:"24/7 Availability"}),i.jsx("p",{children:"Access healthcare when you need it, day or night"})]}),i.jsxs("div",{className:"benefit-card",children:[i.jsx("div",{className:"benefit-icon",children:"💰"}),i.jsx("h3",{children:"Affordable Care"}),i.jsx("p",{children:"Quality healthcare at transparent, affordable prices"})]})]})]}),i.jsxs("section",{className:"about-section",children:[i.jsx("h2",{children:"Our Team"}),i.jsx("p",{children:"Our platform is powered by a team of healthcare professionals, technology experts, and patient advocates who are committed to improving healthcare accessibility and outcomes."}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{className:"stat-number",children:"500+"}),i.jsx("div",{className:"stat-label",children:"Certified Doctors"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{className:"stat-number",children:"50,000+"}),i.jsx("div",{className:"stat-label",children:"Patients Served"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{className:"stat-number",children:"98%"}),i.jsx("div",{className:"stat-label",children:"Satisfaction Rate"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("div",{className:"stat-number",children:"24/7"}),i.jsx("div",{className:"stat-label",children:"Support Available"})]})]})]})]})]})}function xC(){const e=[{id:1,title:"General Consultation",description:"Connect with general practitioners for routine check-ups, health concerns, and medical advice.",features:["Same-day appointments","Prescription services","Follow-up care","Health monitoring"],price:"$49",icon:"🩺"},{id:2,title:"Specialist Care",description:"Access specialized medical care from certified specialists in various fields.",features:["Cardiology","Dermatology","Mental Health","Orthopedics"],price:"$89",icon:"👨‍⚕️"},{id:3,title:"Mental Health",description:"Professional mental health support and counseling services.",features:["Licensed therapists","Anxiety & depression","Stress management","Confidential sessions"],price:"$79",icon:"🧠"},{id:4,title:"Urgent Care",description:"Immediate medical attention for non-emergency urgent health issues.",features:["24/7 availability","Quick diagnosis","Treatment plans","Emergency referrals"],price:"$69",icon:"⚡"},{id:5,title:"Prescription Services",description:"Online prescription management and pharmacy delivery services.",features:["Digital prescriptions","Pharmacy partnerships","Home delivery","Refill reminders"],price:"$19",icon:"💊"},{id:6,title:"Health Monitoring",description:"Ongoing health tracking and preventive care management.",features:["Chronic disease management","Health analytics","Regular check-ins","Care coordination"],price:"$39",icon:"📊"}];return i.jsxs("div",{className:"public-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Our Healthcare Services"}),i.jsx("p",{children:"Comprehensive medical care tailored to your needs"})]}),i.jsx("div",{className:"services-grid",children:e.map(t=>i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:t.icon}),i.jsx("h3",{children:t.title}),i.jsx("p",{className:"service-description",children:t.description}),i.jsxs("div",{className:"service-features",children:[i.jsx("h4",{children:"What's Included:"}),i.jsx("ul",{children:t.features.map((n,r)=>i.jsx("li",{children:n},r))})]}),i.jsxs("div",{className:"service-pricing",children:[i.jsxs("span",{className:"price",children:["Starting at ",t.price]}),i.jsx(pe,{to:"/register",className:"btn btn-primary",children:"Get Started"})]})]},t.id))}),i.jsxs("section",{className:"services-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h2",{children:"How Our Services Work"}),i.jsxs("div",{className:"process-steps",children:[i.jsxs("div",{className:"process-step",children:[i.jsx("div",{className:"step-icon",children:"📱"}),i.jsx("h3",{children:"Book Online"}),i.jsx("p",{children:"Choose your service and schedule an appointment that fits your schedule"})]}),i.jsxs("div",{className:"process-step",children:[i.jsx("div",{className:"step-icon",children:"💻"}),i.jsx("h3",{children:"Virtual Visit"}),i.jsx("p",{children:"Meet with your healthcare provider via secure video consultation"})]}),i.jsxs("div",{className:"process-step",children:[i.jsx("div",{className:"step-icon",children:"📋"}),i.jsx("h3",{children:"Follow-up"}),i.jsx("p",{children:"Receive your treatment plan, prescriptions, and ongoing care support"})]})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h2",{children:"Insurance & Payment"}),i.jsx("p",{children:"We accept most major insurance plans and offer transparent pricing for all our services. No hidden fees, no surprises."}),i.jsxs("div",{className:"payment-options",children:[i.jsx("div",{className:"payment-item",children:"✅ Most Insurance Plans Accepted"}),i.jsx("div",{className:"payment-item",children:"✅ Flexible Payment Options"}),i.jsx("div",{className:"payment-item",children:"✅ HSA/FSA Eligible"}),i.jsx("div",{className:"payment-item",children:"✅ Transparent Pricing"})]})]}),i.jsxs("div",{className:"cta-section",children:[i.jsx("h2",{children:"Ready to Start Your Healthcare Journey?"}),i.jsx("p",{children:"Join thousands of patients who trust us with their healthcare needs."}),i.jsxs("div",{className:"cta-buttons",children:[i.jsx(pe,{to:"/register",className:"btn btn-primary",children:"Create Account"}),i.jsx(pe,{to:"/doctors",className:"btn btn-secondary",children:"Browse Doctors"})]})]})]})]})}function wC(){const[e,t]=E.useState({name:"",email:"",phone:"",subject:"",message:"",type:"general"}),[n,r]=E.useState(!1),s=o=>{t({...e,[o.target.name]:o.target.value})},a=o=>{o.preventDefault(),console.log("Contact form submitted:",e),r(!0)};return n?i.jsxs("div",{className:"public-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Thank You!"}),i.jsx("p",{children:"Your message has been sent successfully. We'll get back to you within 24 hours."})]}),i.jsx("div",{className:"success-actions",children:i.jsx("button",{className:"btn btn-primary",onClick:()=>{r(!1),t({name:"",email:"",phone:"",subject:"",message:"",type:"general"})},children:"Send Another Message"})})]}):i.jsxs("div",{className:"public-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Contact Us"}),i.jsx("p",{children:"Get in touch with our healthcare support team"})]}),i.jsxs("div",{className:"contact-container",children:[i.jsxs("div",{className:"contact-info",children:[i.jsxs("div",{className:"contact-section",children:[i.jsx("h3",{children:"🏥 Customer Support"}),i.jsx("p",{children:"Available 24/7 for all your healthcare needs"}),i.jsxs("div",{className:"contact-details",children:[i.jsxs("div",{className:"contact-item",children:[i.jsx("strong",{children:"Phone:"})," 1-800-TELEMD1"]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("strong",{children:"Email:"})," support@telemedicine.com"]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("strong",{children:"Chat:"})," Available in your dashboard"]})]})]}),i.jsxs("div",{className:"contact-section",children:[i.jsx("h3",{children:"⚕️ Medical Emergencies"}),i.jsx("p",{children:"For life-threatening emergencies, call 911 immediately"}),i.jsxs("div",{className:"emergency-info",children:[i.jsxs("div",{className:"emergency-item",children:[i.jsx("strong",{children:"Emergency:"})," 911"]}),i.jsxs("div",{className:"emergency-item",children:[i.jsx("strong",{children:"Urgent Care:"})," Available 24/7 on platform"]}),i.jsxs("div",{className:"emergency-item",children:[i.jsx("strong",{children:"Crisis Support:"})," 988 (Suicide & Crisis Lifeline)"]})]})]}),i.jsxs("div",{className:"contact-section",children:[i.jsx("h3",{children:"🏢 Business Inquiries"}),i.jsx("p",{children:"Partnership and enterprise solutions"}),i.jsxs("div",{className:"contact-details",children:[i.jsxs("div",{className:"contact-item",children:[i.jsx("strong",{children:"Phone:"})," 1-800-BUSINESS"]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("strong",{children:"Email:"})," business@telemedicine.com"]})]})]}),i.jsxs("div",{className:"contact-section",children:[i.jsx("h3",{children:"🕒 Support Hours"}),i.jsxs("div",{className:"hours-list",children:[i.jsxs("div",{className:"hours-item",children:[i.jsx("strong",{children:"Medical Support:"})," 24/7"]}),i.jsxs("div",{className:"hours-item",children:[i.jsx("strong",{children:"Technical Support:"})," 6 AM - 10 PM EST"]}),i.jsxs("div",{className:"hours-item",children:[i.jsx("strong",{children:"Billing Support:"})," 9 AM - 6 PM EST"]})]})]})]}),i.jsxs("div",{className:"contact-form-container",children:[i.jsx("h2",{children:"Send us a Message"}),i.jsxs("form",{className:"contact-form",onSubmit:a,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"type",children:"Type of Inquiry"}),i.jsxs("select",{id:"type",name:"type",value:e.type,onChange:s,required:!0,children:[i.jsx("option",{value:"general",children:"General Question"}),i.jsx("option",{value:"technical",children:"Technical Support"}),i.jsx("option",{value:"billing",children:"Billing & Insurance"}),i.jsx("option",{value:"medical",children:"Medical Question"}),i.jsx("option",{value:"partnership",children:"Partnership Inquiry"}),i.jsx("option",{value:"feedback",children:"Feedback"})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",children:"Full Name *"}),i.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:s,required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email Address *"}),i.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:s,required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"phone",children:"Phone Number"}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:s,placeholder:"(555) 123-4567"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"subject",children:"Subject *"}),i.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:s,placeholder:"Brief description of your inquiry",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"message",children:"Message *"}),i.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:s,rows:"6",placeholder:"Please provide details about your inquiry...",required:!0})]}),i.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",children:"Send Message"})]})]})]}),i.jsxs("div",{className:"faq-section",children:[i.jsx("h2",{children:"Frequently Asked Questions"}),i.jsxs("div",{className:"faq-grid",children:[i.jsxs("div",{className:"faq-item",children:[i.jsx("h4",{children:"How do I schedule an appointment?"}),i.jsx("p",{children:"Simply create an account, browse our doctors, and book a time that works for you."})]}),i.jsxs("div",{className:"faq-item",children:[i.jsx("h4",{children:"Is telemedicine covered by insurance?"}),i.jsx("p",{children:"Most insurance plans cover telemedicine. We'll verify your coverage before your visit."})]}),i.jsxs("div",{className:"faq-item",children:[i.jsx("h4",{children:"What technology do I need?"}),i.jsx("p",{children:"Just a smartphone, tablet, or computer with camera and internet connection."})]}),i.jsxs("div",{className:"faq-item",children:[i.jsx("h4",{children:"Can I get prescriptions online?"}),i.jsx("p",{children:"Yes! Our doctors can prescribe medications and send them directly to your pharmacy."})]})]})]})]})}function jC(){var j,m,d,f,y,b;De();const{addNotification:e}=He(),[t,n]=E.useState(null),[r,s]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!0),u=Dt();E.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const A=(await je.get("/appointments?status=scheduled")).data||[],x=new Date,k=x.toDateString(),D=A.filter(Q=>new Date(Q.date).toDateString()===k),B=x.getTime(),q=D.find(Q=>{const le=new Date(Q.date).getTime(),ce=le+(Q.duration||30)*6e4;return B>=le&&B<=ce});n(q),s(D.filter(Q=>new Date(Q.date).getTime()>B));const L=await je.get("/appointments?status=completed");o((L.data||[]).slice(0,10))}catch(C){console.error("Error fetching video call data:",C),e("Failed to load video call data","error")}finally{c(!1)}},g=C=>{u(`/video-call/${C}`)},w=async C=>{try{await je.put(`/appointments/${C}`,{status:"completed"}),e("Video call ended successfully","success"),p()}catch{e("Failed to end call","error")}},S=C=>new Date(C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),N=C=>new Date(C).toLocaleDateString();return l?i.jsxs("div",{className:"doctor-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading video calls..."})]}):i.jsxs("div",{className:"doctor-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Video Calls"}),i.jsx("p",{children:"Manage your virtual consultations"})]}),t&&i.jsx("div",{className:"active-call-section",children:i.jsxs("div",{className:"active-call-card",children:[i.jsxs("div",{className:"call-status",children:[i.jsx("div",{className:"status-indicator active"}),i.jsx("span",{children:"Active Call"})]}),i.jsxs("div",{className:"call-details",children:[i.jsx("h3",{children:((m=(j=t.patient)==null?void 0:j.profile)==null?void 0:m.fullName)||`${(f=(d=t.patient)==null?void 0:d.profile)==null?void 0:f.firstName} ${(b=(y=t.patient)==null?void 0:y.profile)==null?void 0:b.lastName}`||"Patient"}),i.jsxs("p",{children:["Started at ",S(t.date)]}),i.jsxs("p",{children:["Reason: ",t.reason||"General Consultation"]})]}),i.jsx("div",{className:"call-actions",children:i.jsx("button",{className:"btn btn-danger",onClick:()=>w(t._id),children:"End Call"})})]})}),i.jsxs("div",{className:"calls-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Today's Upcoming Calls"}),i.jsxs("span",{className:"call-count",children:[r.length," scheduled"]})]}),r.length===0?i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No upcoming video calls for today"})}):i.jsx("div",{className:"calls-grid",children:r.map(C=>{var A,x,k,D,B,q;return i.jsxs("div",{className:"call-card",children:[i.jsxs("div",{className:"call-time",children:[i.jsx("div",{className:"time",children:S(C.date)}),i.jsxs("div",{className:"duration",children:[C.duration||30," min"]})]}),i.jsxs("div",{className:"call-info",children:[i.jsx("h4",{children:((x=(A=C.patient)==null?void 0:A.profile)==null?void 0:x.fullName)||`${(D=(k=C.patient)==null?void 0:k.profile)==null?void 0:D.firstName} ${(q=(B=C.patient)==null?void 0:B.profile)==null?void 0:q.lastName}`||"Patient"}),i.jsx("p",{className:"reason",children:C.reason||"General Consultation"}),i.jsx("p",{className:"type",children:C.type||"Video Call"})]}),i.jsx("div",{className:"call-actions",children:i.jsx("button",{className:"btn btn-primary",onClick:()=>g(C._id),children:"Start Call"})})]},C._id)})})]}),i.jsxs("div",{className:"calls-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h2",{children:"Recent Call History"})}),a.length===0?i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No call history available"})}):i.jsx("div",{className:"history-list",children:a.map(C=>{var A,x,k,D,B,q;return i.jsxs("div",{className:"history-item",children:[i.jsxs("div",{className:"history-date",children:[i.jsx("div",{className:"date",children:N(C.date)}),i.jsx("div",{className:"time",children:S(C.date)})]}),i.jsxs("div",{className:"history-info",children:[i.jsx("h4",{children:((x=(A=C.patient)==null?void 0:A.profile)==null?void 0:x.fullName)||`${(D=(k=C.patient)==null?void 0:k.profile)==null?void 0:D.firstName} ${(q=(B=C.patient)==null?void 0:B.profile)==null?void 0:q.lastName}`||"Patient"}),i.jsx("p",{children:C.reason||"General Consultation"})]}),i.jsxs("div",{className:"history-status",children:[i.jsx("span",{className:"status completed",children:"Completed"}),i.jsxs("span",{className:"duration",children:[C.duration||30,"m"]})]})]},C._id)})})]}),i.jsxs("div",{className:"quick-actions",children:[i.jsx("h3",{children:"Quick Actions"}),i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>window.open("https://meet.telemedicine.com/test","_blank"),children:"Test Video Setup"}),i.jsx("button",{className:"btn btn-secondary",onClick:p,children:"Refresh Calls"})]})]})]})}function bC(){De();const{addNotification:e}=He(),[t,n]=E.useState({overview:{},appointments:{},patients:{},revenue:{}}),[r,s]=E.useState(!0),[a,o]=E.useState("30");E.useEffect(()=>{l()},[a]);const l=async()=>{try{s(!0);const[p,g]=await Promise.all([je.get("/doctors/stats"),je.get("/appointments")]),w=p.data||{},S=g.data||[],N=new Date,j=new Date(N.getTime()-parseInt(a)*24*60*60*1e3),m=S.filter(x=>new Date(x.date)>=j),d=m.filter(x=>x.status==="completed"),f=m.filter(x=>x.status==="cancelled"),y={};for(let x=parseInt(a);x>=0;x--){const D=new Date(N.getTime()-x*24*60*60*1e3).toISOString().split("T")[0];y[D]=0}d.forEach(x=>{const k=new Date(x.date).toISOString().split("T")[0];y.hasOwnProperty(k)&&y[k]++});const b=new Set(d.map(x=>{var k;return((k=x.patient)==null?void 0:k._id)||x.patientId})).size,C=d.reduce((x,k)=>x+(k.rating||0),0),A=d.length>0?(C/d.length).toFixed(1):0;n({overview:{totalAppointments:m.length,completedAppointments:d.length,cancelledAppointments:f.length,uniquePatients:b,averageRating:A,completionRate:m.length>0?Math.round(d.length/m.length*100):0},appointments:{daily:y,byStatus:{completed:d.length,cancelled:f.length,scheduled:m.filter(x=>x.status==="scheduled").length}},patients:{new:b,returning:Math.max(0,d.length-b)},revenue:{total:d.length*50,average:50,projected:d.length*50+m.filter(x=>x.status==="scheduled").length*50}})}catch(p){console.error("Error fetching analytics:",p),e("Failed to load analytics data","error")}finally{s(!1)}},c=()=>{const p=Object.keys(t.appointments.daily||{}).sort(),g=p.map(w=>t.appointments.daily[w]);return{dates:p,values:g}};if(r)return i.jsxs("div",{className:"doctor-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading analytics..."})]});const u=c();return i.jsxs("div",{className:"doctor-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Analytics Dashboard"}),i.jsxs("div",{className:"time-filter",children:[i.jsx("label",{children:"Time Range:"}),i.jsxs("select",{value:a,onChange:p=>o(p.target.value),children:[i.jsx("option",{value:"7",children:"Last 7 days"}),i.jsx("option",{value:"30",children:"Last 30 days"}),i.jsx("option",{value:"90",children:"Last 3 months"}),i.jsx("option",{value:"365",children:"Last year"})]})]})]}),i.jsxs("div",{className:"analytics-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.totalAppointments}),i.jsx("p",{children:"Total Appointments"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"✅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.completedAppointments}),i.jsx("p",{children:"Completed"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👥"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.uniquePatients}),i.jsx("p",{children:"Unique Patients"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"⭐"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.averageRating}),i.jsx("p",{children:"Average Rating"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💹"}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("h3",{children:[t.overview.completionRate,"%"]}),i.jsx("p",{children:"Completion Rate"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💰"}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("h3",{children:["$",t.revenue.total]}),i.jsx("p",{children:"Revenue"})]})]})]}),i.jsxs("div",{className:"analytics-charts",children:[i.jsxs("div",{className:"chart-section",children:[i.jsx("h2",{children:"Appointments Over Time"}),i.jsx("div",{className:"simple-chart",children:i.jsx("div",{className:"chart-container",children:u.dates.map((p,g)=>i.jsxs("div",{className:"chart-bar",children:[i.jsx("div",{className:"bar",style:{height:`${Math.max(u.values[g]*20,5)}px`,backgroundColor:u.values[g]>0?"#2563eb":"#e5e7eb"},title:`${p}: ${u.values[g]} appointments`}),i.jsx("div",{className:"bar-label",children:new Date(p).getDate()})]},p))})})]}),i.jsxs("div",{className:"chart-section",children:[i.jsx("h2",{children:"Appointment Status Distribution"}),i.jsxs("div",{className:"status-distribution",children:[i.jsxs("div",{className:"status-item",children:[i.jsx("div",{className:"status-bar completed",style:{width:`${t.appointments.byStatus.completed/t.overview.totalAppointments*100}%`}}),i.jsxs("span",{children:["Completed (",t.appointments.byStatus.completed,")"]})]}),i.jsxs("div",{className:"status-item",children:[i.jsx("div",{className:"status-bar scheduled",style:{width:`${t.appointments.byStatus.scheduled/t.overview.totalAppointments*100}%`}}),i.jsxs("span",{children:["Scheduled (",t.appointments.byStatus.scheduled,")"]})]}),i.jsxs("div",{className:"status-item",children:[i.jsx("div",{className:"status-bar cancelled",style:{width:`${t.appointments.byStatus.cancelled/t.overview.totalAppointments*100}%`}}),i.jsxs("span",{children:["Cancelled (",t.appointments.byStatus.cancelled,")"]})]})]})]})]}),i.jsxs("div",{className:"analytics-details",children:[i.jsxs("div",{className:"detail-section",children:[i.jsx("h2",{children:"Patient Analytics"}),i.jsxs("div",{className:"detail-stats",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"New Patients:"}),i.jsx("span",{className:"value",children:t.patients.new})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"Returning Patients:"}),i.jsx("span",{className:"value",children:t.patients.returning})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"Patient Retention:"}),i.jsxs("span",{className:"value",children:[t.patients.new>0?Math.round(t.patients.returning/t.patients.new*100):0,"%"]})]})]})]}),i.jsxs("div",{className:"detail-section",children:[i.jsx("h2",{children:"Revenue Analytics"}),i.jsxs("div",{className:"detail-stats",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"Total Revenue:"}),i.jsxs("span",{className:"value",children:["$",t.revenue.total]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"Average per Appointment:"}),i.jsxs("span",{className:"value",children:["$",t.revenue.average]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"label",children:"Projected Revenue:"}),i.jsxs("span",{className:"value",children:["$",t.revenue.projected]})]})]})]})]}),i.jsxs("div",{className:"analytics-insights",children:[i.jsx("h2",{children:"Key Insights"}),i.jsxs("div",{className:"insights-list",children:[t.overview.completionRate>90&&i.jsxs("div",{className:"insight-item positive",children:[i.jsx("span",{className:"insight-icon",children:"🎉"}),i.jsx("p",{children:"Excellent completion rate! You're maintaining high patient satisfaction."})]}),t.overview.averageRating>=4.5&&i.jsxs("div",{className:"insight-item positive",children:[i.jsx("span",{className:"insight-icon",children:"⭐"}),i.jsx("p",{children:"Outstanding rating! Patients highly appreciate your care."})]}),t.patients.returning>t.patients.new&&i.jsxs("div",{className:"insight-item positive",children:[i.jsx("span",{className:"insight-icon",children:"🔄"}),i.jsx("p",{children:"High patient retention rate indicates strong trust and satisfaction."})]}),t.overview.cancelledAppointments>t.overview.completedAppointments*.2&&i.jsxs("div",{className:"insight-item warning",children:[i.jsx("span",{className:"insight-icon",children:"⚠️"}),i.jsx("p",{children:"Consider reviewing cancellation patterns to improve appointment scheduling."})]})]})]})]})}const bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";const Za=Object.create(null);Object.keys(bn).forEach(e=>{Za[bn[e]]=e});const pd={type:"error",data:"parser error"},Mx=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$x=typeof ArrayBuffer=="function",Ux=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Zf=({type:e,data:t},n,r)=>Mx&&t instanceof Blob?n?r(t):pm(t,r):$x&&(t instanceof ArrayBuffer||Ux(t))?n?r(t):pm(new Blob([t]),r):r(bn[e]+(t||"")),pm=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mm(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Sc;function NC(e,t){if(Mx&&e.data instanceof Blob)return e.data.arrayBuffer().then(mm).then(t);if($x&&(e.data instanceof ArrayBuffer||Ux(e.data)))return t(mm(e.data));Zf(e,!1,n=>{Sc||(Sc=new TextEncoder),t(Sc.encode(n))})}const gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ls=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<gm.length;e++)ls[gm.charCodeAt(e)]=e;const SC=e=>{let t=e.length*.75,n=e.length,r,s=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),p=new Uint8Array(u);for(r=0;r<n;r+=4)a=ls[e.charCodeAt(r)],o=ls[e.charCodeAt(r+1)],l=ls[e.charCodeAt(r+2)],c=ls[e.charCodeAt(r+3)],p[s++]=a<<2|o>>4,p[s++]=(o&15)<<4|l>>2,p[s++]=(l&3)<<6|c&63;return u},EC=typeof ArrayBuffer=="function",eh=(e,t)=>{if(typeof e!="string")return{type:"message",data:zx(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:_C(e.substring(1),t)}:Za[n]?e.length>1?{type:Za[n],data:e.substring(1)}:{type:Za[n]}:pd},_C=(e,t)=>{if(EC){const n=SC(e);return zx(n,t)}else return{base64:!0,data:e}},zx=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Vx=String.fromCharCode(30),CC=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,o)=>{Zf(a,!1,l=>{r[o]=l,++s===n&&t(r.join(Vx))})})},kC=(e,t)=>{const n=e.split(Vx),r=[];for(let s=0;s<n.length;s++){const a=eh(n[s],t);if(r.push(a),a.type==="error")break}return r};function AC(){return new TransformStream({transform(e,t){NC(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ec;function Da(e){return e.reduce((t,n)=>t+n.length,0)}function Pa(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function TC(e,t){Ec||(Ec=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Da(n)<1)break;const c=Pa(n,1);a=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Da(n)<2)break;const c=Pa(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Da(n)<8)break;const c=Pa(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),p=u.getUint32(0);if(p>Math.pow(2,53-32)-1){l.enqueue(pd);break}s=p*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Da(n)<s)break;const c=Pa(n,s);l.enqueue(eh(a?c:Ec.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(pd);break}}}})}const Wx=4;function it(e){if(e)return RC(e)}function RC(e){for(var t in it.prototype)e[t]=it.prototype[t];return e}it.prototype.on=it.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};it.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};it.prototype.off=it.prototype.removeListener=it.prototype.removeAllListeners=it.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};it.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};it.prototype.emitReserved=it.prototype.emit;it.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};it.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Dl=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Ht=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),DC="arraybuffer";function Hx(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const PC=Ht.setTimeout,OC=Ht.clearTimeout;function Pl(e,t){t.useNativeTimers?(e.setTimeoutFn=PC.bind(Ht),e.clearTimeoutFn=OC.bind(Ht)):(e.setTimeoutFn=Ht.setTimeout.bind(Ht),e.clearTimeoutFn=Ht.clearTimeout.bind(Ht))}const LC=1.33;function IC(e){return typeof e=="string"?FC(e):Math.ceil((e.byteLength||e.size)*LC)}function FC(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function qx(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function BC(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function MC(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class $C extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class th extends it{constructor(t){super(),this.writable=!1,Pl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new $C(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=eh(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=BC(t);return n.length?"?"+n:""}}class UC extends th{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};kC(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CC(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=qx()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Yx=!1;try{Yx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zC=Yx;function VC(){}class WC extends UC{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let ji=class eo extends it{constructor(t,n,r){super(),this.createRequest=t,Pl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Hx(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=eo.requestsCount++,eo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=VC,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete eo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ji.requestsCount=0;ji.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vm);else if(typeof addEventListener=="function"){const e="onpagehide"in Ht?"pagehide":"unload";addEventListener(e,vm,!1)}}function vm(){for(let e in ji.requests)ji.requests.hasOwnProperty(e)&&ji.requests[e].abort()}const HC=function(){const e=Gx({xdomain:!1});return e&&e.responseType!==null}();class qC extends WC{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=HC&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ji(Gx,this.uri(),t)}}function Gx(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||zC))return new XMLHttpRequest}catch{}if(!t)try{return new Ht[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Kx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class YC extends th{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Kx?{}:Hx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Zf(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&Dl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=qx()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const _c=Ht.WebSocket||Ht.MozWebSocket;class GC extends YC{createSocket(t,n,r){return Kx?new _c(t,n,r):n?new _c(t,n):new _c(t)}doWrite(t,n){this.ws.send(n)}}class KC extends th{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=TC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=AC();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Dl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const QC={websocket:GC,webtransport:KC,polling:qC},JC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,XC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function md(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=JC.exec(e||""),a={},o=14;for(;o--;)a[XC[o]]=s[o]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=ZC(a,a.path),a.queryKey=ek(a,a.query),a}function ZC(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ek(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const gd=typeof addEventListener=="function"&&typeof removeEventListener=="function",to=[];gd&&addEventListener("offline",()=>{to.forEach(e=>e())},!1);class ar extends it{constructor(t,n){if(super(),this.binaryType=DC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=md(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=md(n.host).host);Pl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=MC(this.opts.query)),gd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},to.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Wx,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ar.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ar.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=IC(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Dl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(ar.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),gd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=to.indexOf(this._offlineEventListener);r!==-1&&to.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}ar.protocol=Wx;class tk extends ar{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;ar.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ar.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const o=g=>{const w=new Error("probe error: "+g);w.transport=n.name,a(),this.emitReserved("upgradeError",w)};function l(){o("transport closed")}function c(){o("socket closed")}function u(g){n&&g.name!==n.name&&a()}const p=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let nk=class extends tk{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>QC[s]).filter(s=>!!s)),super(t,r)}};function rk(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=md(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const ik=typeof ArrayBuffer=="function",sk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Qx=Object.prototype.toString,ak=typeof Blob=="function"||typeof Blob<"u"&&Qx.call(Blob)==="[object BlobConstructor]",ok=typeof File=="function"||typeof File<"u"&&Qx.call(File)==="[object FileConstructor]";function nh(e){return ik&&(e instanceof ArrayBuffer||sk(e))||ak&&e instanceof Blob||ok&&e instanceof File}function no(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(no(e[n]))return!0;return!1}if(nh(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return no(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&no(e[n]))return!0;return!1}function lk(e){const t=[],n=e.data,r=e;return r.data=vd(n,t),r.attachments=t.length,{packet:r,buffers:t}}function vd(e,t){if(!e)return e;if(nh(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=vd(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=vd(e[r],t));return n}return e}function ck(e,t){return e.data=yd(e.data,t),delete e.attachments,e}function yd(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=yd(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=yd(e[n],t));return e}const uk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dk=5;var Ee;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ee||(Ee={}));class fk{constructor(t){this.replacer=t}encode(t){return(t.type===Ee.EVENT||t.type===Ee.ACK)&&no(t)?this.encodeAsBinary({type:t.type===Ee.EVENT?Ee.BINARY_EVENT:Ee.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ee.BINARY_EVENT||t.type===Ee.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=lk(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function ym(e){return Object.prototype.toString.call(e)==="[object Object]"}class rh extends it{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ee.BINARY_EVENT;r||n.type===Ee.BINARY_ACK?(n.type=r?Ee.EVENT:Ee.ACK,this.reconstructor=new hk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(nh(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ee[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ee.BINARY_EVENT||r.type===Ee.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(rh.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ee.CONNECT:return ym(n);case Ee.DISCONNECT:return n===void 0;case Ee.CONNECT_ERROR:return typeof n=="string"||ym(n);case Ee.EVENT:case Ee.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uk.indexOf(n[0])===-1);case Ee.ACK:case Ee.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hk{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=ck(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rh,Encoder:fk,get PacketType(){return Ee},protocol:dk},Symbol.toStringTag,{value:"Module"}));function sn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const mk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Jx extends it{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[sn(t,"open",this.onopen.bind(this)),sn(t,"packet",this.onpacket.bind(this)),sn(t,"error",this.onerror.bind(this)),sn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(mk.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ee.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,g=n.pop();this._registerAckCallback(p,g),o.id=p}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(o,l)=>o?s(o):r(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ee.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ee.EVENT:case Ee.BINARY_EVENT:this.onevent(t);break;case Ee.ACK:case Ee.BINARY_ACK:this.onack(t);break;case Ee.DISCONNECT:this.ondisconnect();break;case Ee.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ee.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Vi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Vi.prototype.reset=function(){this.attempts=0};Vi.prototype.setMin=function(e){this.ms=e};Vi.prototype.setMax=function(e){this.max=e};Vi.prototype.setJitter=function(e){this.jitter=e};class xd extends it{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Pl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||pk;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new nk(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=sn(n,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=sn(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(sn(t,"ping",this.onping.bind(this)),sn(t,"data",this.ondata.bind(this)),sn(t,"error",this.onerror.bind(this)),sn(t,"close",this.onclose.bind(this)),sn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Dl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Jx(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ns={};function ro(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=rk(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,o=ns[s]&&a in ns[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new xd(r,t):(ns[s]||(ns[s]=new xd(r,t)),c=ns[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ro,{Manager:xd,Socket:Jx,io:ro,connect:ro});var wd={exports:{}},Cc,xm;function gk(){if(xm)return Cc;xm=1;var e=1e3,t=e*60,n=t*60,r=n*24,s=r*7,a=r*365.25;Cc=function(p,g){g=g||{};var w=typeof p;if(w==="string"&&p.length>0)return o(p);if(w==="number"&&isFinite(p))return g.long?c(p):l(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function o(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var w=parseFloat(g[1]),S=(g[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*a;case"weeks":case"week":case"w":return w*s;case"days":case"day":case"d":return w*r;case"hours":case"hour":case"hrs":case"hr":case"h":return w*n;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function l(p){var g=Math.abs(p);return g>=r?Math.round(p/r)+"d":g>=n?Math.round(p/n)+"h":g>=t?Math.round(p/t)+"m":g>=e?Math.round(p/e)+"s":p+"ms"}function c(p){var g=Math.abs(p);return g>=r?u(p,g,r,"day"):g>=n?u(p,g,n,"hour"):g>=t?u(p,g,t,"minute"):g>=e?u(p,g,e,"second"):p+" ms"}function u(p,g,w,S){var N=g>=w*1.5;return Math.round(p/w)+" "+S+(N?"s":"")}return Cc}function vk(e){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=s,n.enabled=l,n.humanize=gk(),n.destroy=u,Object.keys(e).forEach(p=>{n[p]=e[p]}),n.names=[],n.skips=[],n.formatters={};function t(p){let g=0;for(let w=0;w<p.length;w++)g=(g<<5)-g+p.charCodeAt(w),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=t;function n(p){let g,w=null,S,N;function j(...m){if(!j.enabled)return;const d=j,f=Number(new Date),y=f-(g||f);d.diff=y,d.prev=g,d.curr=f,g=f,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(A,x)=>{if(A==="%%")return"%";b++;const k=n.formatters[x];if(typeof k=="function"){const D=m[b];A=k.call(d,D),m.splice(b,1),b--}return A}),n.formatArgs.call(d,m),(d.log||n.log).apply(d,m)}return j.namespace=p,j.useColors=n.useColors(),j.color=n.selectColor(p),j.extend=r,j.destroy=n.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(S!==n.namespaces&&(S=n.namespaces,N=n.enabled(p)),N),set:m=>{w=m}}),typeof n.init=="function"&&n.init(j),j}function r(p,g){const w=n(this.namespace+(typeof g>"u"?":":g)+p);return w.log=this.log,w}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];const g=(typeof p=="string"?p:"").trim().replace(" ",",").split(",").filter(Boolean);for(const w of g)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function a(p,g){let w=0,S=0,N=-1,j=0;for(;w<p.length;)if(S<g.length&&(g[S]===p[w]||g[S]==="*"))g[S]==="*"?(N=S,j=w,S++):(w++,S++);else if(N!==-1)S=N+1,j++,w=j;else return!1;for(;S<g.length&&g[S]==="*";)S++;return S===g.length}function o(){const p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}function l(p){for(const g of n.skips)if(a(p,g))return!1;for(const g of n.names)if(a(p,g))return!0;return!1}function c(p){return p instanceof Error?p.stack||p.message:p}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var yk=vk;(function(e,t){t.formatArgs=r,t.save=s,t.load=a,t.useColors=n,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let p=0,g=0;c[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(p++,w==="%c"&&(g=p))}),c.splice(g,0,u)}t.log=console.debug||console.log||(()=>{});function s(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function a(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof ve<"u"&&"env"in ve&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=yk(t);const{formatters:l}=e.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(wd,wd.exports);var xk=wd.exports,wk=function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},jd={exports:{}},bd={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=Mr,r=n.Buffer;function s(o,l){for(var c in o)l[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a);function a(o,l,c){return r(o,l,c)}a.prototype=Object.create(r.prototype),s(r,a),a.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,l,c)},a.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(bd,bd.exports);var Xx=bd.exports,kc=65536,jk=4294967295;function bk(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Nk=Xx.Buffer,Go=globalThis.crypto||globalThis.msCrypto;Go&&Go.getRandomValues?jd.exports=Sk:jd.exports=bk;function Sk(e,t){if(e>jk)throw new RangeError("requested too many random bytes");var n=Nk.allocUnsafe(e);if(e>0)if(e>kc)for(var r=0;r<e;r+=kc)Go.getRandomValues(n.slice(r,r+kc));else Go.getRandomValues(n);return typeof t=="function"?ve.nextTick(function(){t(null,n)}):n}var Ek=jd.exports,Nd={exports:{}},ih={exports:{}},bi=typeof Reflect=="object"?Reflect:null,wm=bi&&typeof bi.apply=="function"?bi.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},io;bi&&typeof bi.ownKeys=="function"?io=bi.ownKeys:Object.getOwnPropertySymbols?io=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:io=function(t){return Object.getOwnPropertyNames(t)};function _k(e){console&&console.warn&&console.warn(e)}var Zx=Number.isNaN||function(t){return t!==t};function Re(){Re.init.call(this)}ih.exports=Re;ih.exports.once=Tk;Re.EventEmitter=Re;Re.prototype._events=void 0;Re.prototype._eventsCount=0;Re.prototype._maxListeners=void 0;var jm=10;function Ol(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return jm},set:function(e){if(typeof e!="number"||e<0||Zx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");jm=e}});Re.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Re.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Zx(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function e0(e){return e._maxListeners===void 0?Re.defaultMaxListeners:e._maxListeners}Re.prototype.getMaxListeners=function(){return e0(this)};Re.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",a=this._events;if(a!==void 0)s=s&&a.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=a[t];if(c===void 0)return!1;if(typeof c=="function")wm(c,this,n);else for(var u=c.length,p=s0(c,u),r=0;r<u;++r)wm(p[r],this,n);return!0};function t0(e,t,n,r){var s,a,o;if(Ol(n),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),o===void 0)o=a[t]=n,++e._eventsCount;else if(typeof o=="function"?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=e0(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,_k(l)}return e}Re.prototype.addListener=function(t,n){return t0(this,t,n,!1)};Re.prototype.on=Re.prototype.addListener;Re.prototype.prependListener=function(t,n){return t0(this,t,n,!0)};function Ck(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n0(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=Ck.bind(r);return s.listener=n,r.wrapFn=s,s}Re.prototype.once=function(t,n){return Ol(n),this.on(t,n0(this,t,n)),this};Re.prototype.prependOnceListener=function(t,n){return Ol(n),this.prependListener(t,n0(this,t,n)),this};Re.prototype.removeListener=function(t,n){var r,s,a,o,l;if(Ol(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,a=o;break}if(a<0)return this;a===0?r.shift():kk(r,a),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),o;for(s=0;s<a.length;++s)o=a[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function r0(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?Ak(s):s0(s,s.length)}Re.prototype.listeners=function(t){return r0(this,t,!0)};Re.prototype.rawListeners=function(t){return r0(this,t,!1)};Re.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):i0.call(e,t)};Re.prototype.listenerCount=i0;function i0(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Re.prototype.eventNames=function(){return this._eventsCount>0?io(this._events):[]};function s0(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function kk(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Ak(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Tk(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,a),r(o)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}a0(e,t,a,{once:!0}),t!=="error"&&Rk(e,s,{once:!0})})}function Rk(e,t,n){typeof e.on=="function"&&a0(e,"error",t,n)}function a0(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(a){r.once&&e.removeEventListener(t,s),n(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var o0=ih.exports,l0=o0.EventEmitter,sh={},c0={},u0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;t[n]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,n);if(l.value!==s||l.enumerable!==!0)return!1}return!0},Dk=u0,Ll=function(){return Dk()&&!!Symbol.toStringTag},d0=Object,Pk=Error,Ok=EvalError,Lk=RangeError,Ik=ReferenceError,f0=SyntaxError,ta=TypeError,Fk=URIError,Bk=Math.abs,Mk=Math.floor,$k=Math.max,Uk=Math.min,zk=Math.pow,Vk=Math.round,Wk=Number.isNaN||function(t){return t!==t},Hk=Wk,qk=function(t){return Hk(t)||t===0?t:t<0?-1:1},Yk=Object.getOwnPropertyDescriptor,so=Yk;if(so)try{so([],"length")}catch{so=null}var Wi=so,ao=Object.defineProperty||!1;if(ao)try{ao({},"a",{value:1})}catch{ao=!1}var Il=ao,Ac,bm;function Gk(){if(bm)return Ac;bm=1;var e=typeof Symbol<"u"&&Symbol,t=u0;return Ac=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Ac}var h0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,Kk=d0,p0=Kk.getPrototypeOf||null,Qk="Function.prototype.bind called on incompatible ",Jk=Object.prototype.toString,Xk=Math.max,Zk="[object Function]",Nm=function(t,n){for(var r=[],s=0;s<t.length;s+=1)r[s]=t[s];for(var a=0;a<n.length;a+=1)r[a+t.length]=n[a];return r},eA=function(t,n){for(var r=[],s=n||0,a=0;s<t.length;s+=1,a+=1)r[a]=t[s];return r},tA=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},nA=function(t){var n=this;if(typeof n!="function"||Jk.apply(n)!==Zk)throw new TypeError(Qk+n);for(var r=eA(arguments,1),s,a=function(){if(this instanceof s){var p=n.apply(this,Nm(r,arguments));return Object(p)===p?p:this}return n.apply(t,Nm(r,arguments))},o=Xk(0,n.length-r.length),l=[],c=0;c<o;c++)l[c]="$"+c;if(s=Function("binder","return function ("+tA(l,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var u=function(){};u.prototype=n.prototype,s.prototype=new u,u.prototype=null}return s},rA=nA,na=Function.prototype.bind||rA,ah=Function.prototype.call,oh=Function.prototype.apply,iA=typeof Reflect<"u"&&Reflect&&Reflect.apply,sA=na,aA=oh,oA=ah,lA=iA,m0=lA||sA.call(oA,aA),cA=na,uA=ta,dA=ah,fA=m0,lh=function(t){if(t.length<1||typeof t[0]!="function")throw new uA("a function is required");return fA(cA,dA,t)},hA=lh,Sm=Wi,g0;try{g0=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var Tc=!!g0&&Sm&&Sm(Object.prototype,"__proto__"),v0=Object,Em=v0.getPrototypeOf,pA=Tc&&typeof Tc.get=="function"?hA([Tc.get]):typeof Em=="function"?function(t){return Em(t==null?t:v0(t))}:!1,_m=h0,Cm=p0,km=pA,ch=_m?function(t){return _m(t)}:Cm?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return Cm(t)}:km?function(t){return km(t)}:null,mA=Function.prototype.call,gA=Object.prototype.hasOwnProperty,vA=na,y0=vA.call(mA,gA),we,yA=d0,xA=Pk,wA=Ok,jA=Lk,bA=Ik,Ri=f0,Ni=ta,NA=Fk,SA=Bk,EA=Mk,_A=$k,CA=Uk,kA=zk,AA=Vk,TA=qk,x0=Function,Rc=function(e){try{return x0('"use strict"; return ('+e+").constructor;")()}catch{}},Vs=Wi,RA=Il,Dc=function(){throw new Ni},DA=Vs?function(){try{return arguments.callee,Dc}catch{try{return Vs(arguments,"callee").get}catch{return Dc}}}():Dc,Gr=Gk()(),ct=ch,PA=p0,OA=h0,w0=oh,ra=ah,Qr={},LA=typeof Uint8Array>"u"||!ct?we:ct(Uint8Array),Ar={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?we:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?we:ArrayBuffer,"%ArrayIteratorPrototype%":Gr&&ct?ct([][Symbol.iterator]()):we,"%AsyncFromSyncIteratorPrototype%":we,"%AsyncFunction%":Qr,"%AsyncGenerator%":Qr,"%AsyncGeneratorFunction%":Qr,"%AsyncIteratorPrototype%":Qr,"%Atomics%":typeof Atomics>"u"?we:Atomics,"%BigInt%":typeof BigInt>"u"?we:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?we:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?we:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?we:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":xA,"%eval%":eval,"%EvalError%":wA,"%Float16Array%":typeof Float16Array>"u"?we:Float16Array,"%Float32Array%":typeof Float32Array>"u"?we:Float32Array,"%Float64Array%":typeof Float64Array>"u"?we:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?we:FinalizationRegistry,"%Function%":x0,"%GeneratorFunction%":Qr,"%Int8Array%":typeof Int8Array>"u"?we:Int8Array,"%Int16Array%":typeof Int16Array>"u"?we:Int16Array,"%Int32Array%":typeof Int32Array>"u"?we:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gr&&ct?ct(ct([][Symbol.iterator]())):we,"%JSON%":typeof JSON=="object"?JSON:we,"%Map%":typeof Map>"u"?we:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gr||!ct?we:ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":yA,"%Object.getOwnPropertyDescriptor%":Vs,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?we:Promise,"%Proxy%":typeof Proxy>"u"?we:Proxy,"%RangeError%":jA,"%ReferenceError%":bA,"%Reflect%":typeof Reflect>"u"?we:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?we:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gr||!ct?we:ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?we:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gr&&ct?ct(""[Symbol.iterator]()):we,"%Symbol%":Gr?Symbol:we,"%SyntaxError%":Ri,"%ThrowTypeError%":DA,"%TypedArray%":LA,"%TypeError%":Ni,"%Uint8Array%":typeof Uint8Array>"u"?we:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?we:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?we:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?we:Uint32Array,"%URIError%":NA,"%WeakMap%":typeof WeakMap>"u"?we:WeakMap,"%WeakRef%":typeof WeakRef>"u"?we:WeakRef,"%WeakSet%":typeof WeakSet>"u"?we:WeakSet,"%Function.prototype.call%":ra,"%Function.prototype.apply%":w0,"%Object.defineProperty%":RA,"%Object.getPrototypeOf%":PA,"%Math.abs%":SA,"%Math.floor%":EA,"%Math.max%":_A,"%Math.min%":CA,"%Math.pow%":kA,"%Math.round%":AA,"%Math.sign%":TA,"%Reflect.getPrototypeOf%":OA};if(ct)try{null.error}catch(e){var IA=ct(ct(e));Ar["%Error.prototype%"]=IA}var FA=function e(t){var n;if(t==="%AsyncFunction%")n=Rc("async function () {}");else if(t==="%GeneratorFunction%")n=Rc("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Rc("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var s=e("%AsyncGenerator%");s&&ct&&(n=ct(s.prototype))}return Ar[t]=n,n},Am={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ia=na,Ko=y0,BA=ia.call(ra,Array.prototype.concat),MA=ia.call(w0,Array.prototype.splice),Tm=ia.call(ra,String.prototype.replace),Qo=ia.call(ra,String.prototype.slice),$A=ia.call(ra,RegExp.prototype.exec),UA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zA=/\\(\\)?/g,VA=function(t){var n=Qo(t,0,1),r=Qo(t,-1);if(n==="%"&&r!=="%")throw new Ri("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Ri("invalid intrinsic syntax, expected opening `%`");var s=[];return Tm(t,UA,function(a,o,l,c){s[s.length]=l?Tm(c,zA,"$1"):o||a}),s},WA=function(t,n){var r=t,s;if(Ko(Am,r)&&(s=Am[r],r="%"+s[0]+"%"),Ko(Ar,r)){var a=Ar[r];if(a===Qr&&(a=FA(r)),typeof a>"u"&&!n)throw new Ni("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:s,name:r,value:a}}throw new Ri("intrinsic "+t+" does not exist!")},j0=function(t,n){if(typeof t!="string"||t.length===0)throw new Ni("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Ni('"allowMissing" argument must be a boolean');if($A(/^%?[^%]*%?$/,t)===null)throw new Ri("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=VA(t),s=r.length>0?r[0]:"",a=WA("%"+s+"%",n),o=a.name,l=a.value,c=!1,u=a.alias;u&&(s=u[0],MA(r,BA([0,1],u)));for(var p=1,g=!0;p<r.length;p+=1){var w=r[p],S=Qo(w,0,1),N=Qo(w,-1);if((S==='"'||S==="'"||S==="`"||N==='"'||N==="'"||N==="`")&&S!==N)throw new Ri("property names with quotes must have matching quotes");if((w==="constructor"||!g)&&(c=!0),s+="."+w,o="%"+s+"%",Ko(Ar,o))l=Ar[o];else if(l!=null){if(!(w in l)){if(!n)throw new Ni("base intrinsic for "+t+" exists, but the property is not available.");return}if(Vs&&p+1>=r.length){var j=Vs(l,w);g=!!j,g&&"get"in j&&!("originalValue"in j.get)?l=j.get:l=l[w]}else g=Ko(l,w),l=l[w];g&&!c&&(Ar[o]=l)}}return l},b0=j0,N0=lh,HA=N0([b0("%String.prototype.indexOf%")]),sa=function(t,n){var r=b0(t,!!n);return typeof r=="function"&&HA(t,".prototype.")>-1?N0([r]):r},qA=Ll(),YA=sa,Sd=YA("Object.prototype.toString"),Fl=function(t){return qA&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Sd(t)==="[object Arguments]"},S0=function(t){return Fl(t)?!0:t!==null&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>=0&&Sd(t)!=="[object Array]"&&"callee"in t&&Sd(t.callee)==="[object Function]"},GA=function(){return Fl(arguments)}();Fl.isLegacyArguments=S0;var KA=GA?Fl:S0,Rm=sa,QA=Ll(),JA=y0,XA=Wi,Ed;if(QA){var ZA=Rm("RegExp.prototype.exec"),Dm={},Pc=function(){throw Dm},Pm={toString:Pc,valueOf:Pc};typeof Symbol.toPrimitive=="symbol"&&(Pm[Symbol.toPrimitive]=Pc),Ed=function(t){if(!t||typeof t!="object")return!1;var n=XA(t,"lastIndex"),r=n&&JA(n,"value");if(!r)return!1;try{ZA(t,Pm)}catch(s){return s===Dm}}}else{var eT=Rm("Object.prototype.toString"),tT="[object RegExp]";Ed=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:eT(t)===tT}}var nT=Ed,rT=sa,iT=nT,sT=rT("RegExp.prototype.exec"),aT=ta,oT=function(t){if(!iT(t))throw new aT("`regex` must be a RegExp");return function(r){return sT(t,r)!==null}},E0=sa,lT=oT,cT=lT(/^\s*(?:function)?\*/),_0=Ll(),Oc=ch,uT=E0("Object.prototype.toString"),dT=E0("Function.prototype.toString"),fT=function(){if(!_0)return!1;try{return Function("return function*() {}")()}catch{}},Lc,hT=function(t){if(typeof t!="function")return!1;if(cT(dT(t)))return!0;if(!_0){var n=uT(t);return n==="[object GeneratorFunction]"}if(!Oc)return!1;if(typeof Lc>"u"){var r=fT();Lc=r?Oc(r):!1}return Oc(t)===Lc},C0=Function.prototype.toString,fi=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_d,oo;if(typeof fi=="function"&&typeof Object.defineProperty=="function")try{_d=Object.defineProperty({},"length",{get:function(){throw oo}}),oo={},fi(function(){throw 42},null,_d)}catch(e){e!==oo&&(fi=null)}else fi=null;var pT=/^\s*class\b/,Cd=function(t){try{var n=C0.call(t);return pT.test(n)}catch{return!1}},Ic=function(t){try{return Cd(t)?!1:(C0.call(t),!0)}catch{return!1}},lo=Object.prototype.toString,mT="[object Object]",gT="[object Function]",vT="[object GeneratorFunction]",yT="[object HTMLAllCollection]",xT="[object HTML document.all class]",wT="[object HTMLCollection]",jT=typeof Symbol=="function"&&!!Symbol.toStringTag,bT=!(0 in[,]),kd=function(){return!1};if(typeof document=="object"){var NT=document.all;lo.call(NT)===lo.call(document.all)&&(kd=function(t){if((bT||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=lo.call(t);return(n===yT||n===xT||n===wT||n===mT)&&t("")==null}catch{}return!1})}var ST=fi?function(t){if(kd(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{fi(t,null,_d)}catch(n){if(n!==oo)return!1}return!Cd(t)&&Ic(t)}:function(t){if(kd(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(jT)return Ic(t);if(Cd(t))return!1;var n=lo.call(t);return n!==gT&&n!==vT&&!/^\[object HTML/.test(n)?!1:Ic(t)},ET=ST,_T=Object.prototype.toString,k0=Object.prototype.hasOwnProperty,CT=function(t,n,r){for(var s=0,a=t.length;s<a;s++)k0.call(t,s)&&(r==null?n(t[s],s,t):n.call(r,t[s],s,t))},kT=function(t,n,r){for(var s=0,a=t.length;s<a;s++)r==null?n(t.charAt(s),s,t):n.call(r,t.charAt(s),s,t)},AT=function(t,n,r){for(var s in t)k0.call(t,s)&&(r==null?n(t[s],s,t):n.call(r,t[s],s,t))};function TT(e){return _T.call(e)==="[object Array]"}var RT=function(t,n,r){if(!ET(n))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),TT(t)?CT(t,n,s):typeof t=="string"?kT(t,n,s):AT(t,n,s)},DT=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Fc=DT,PT=globalThis,OT=function(){for(var t=[],n=0;n<Fc.length;n++)typeof PT[Fc[n]]=="function"&&(t[t.length]=Fc[n]);return t},A0={exports:{}},Om=Il,LT=f0,Kr=ta,Lm=Wi,IT=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Kr("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Kr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Kr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Kr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Kr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Kr("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,c=!!Lm&&Lm(t,n);if(Om)Om(t,n,{configurable:o===null&&c?c.configurable:!o,enumerable:s===null&&c?c.enumerable:!s,value:r,writable:a===null&&c?c.writable:!a});else if(l||!s&&!a&&!o)t[n]=r;else throw new LT("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ad=Il,T0=function(){return!!Ad};T0.hasArrayLengthDefineBug=function(){if(!Ad)return null;try{return Ad([],"length",{value:1}).length!==1}catch{return!0}};var FT=T0,BT=j0,Im=IT,MT=FT(),Fm=Wi,Bm=ta,$T=BT("%Math.floor%"),UT=function(t,n){if(typeof t!="function")throw new Bm("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||$T(n)!==n)throw new Bm("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],s=!0,a=!0;if("length"in t&&Fm){var o=Fm(t,"length");o&&!o.configurable&&(s=!1),o&&!o.writable&&(a=!1)}return(s||a||!r)&&(MT?Im(t,"length",n,!0,!0):Im(t,"length",n)),t},zT=na,VT=oh,WT=m0,HT=function(){return WT(zT,VT,arguments)};(function(e){var t=UT,n=Il,r=lh,s=HT;e.exports=function(o){var l=r(arguments),c=o.length-(arguments.length-1);return t(l,1+(c>0?c:0),!0)},n?n(e.exports,"apply",{value:s}):e.exports.apply=s})(A0);var qT=A0.exports,Jo=RT,YT=OT,Mm=qT,uh=sa,co=Wi,Oa=ch,GT=uh("Object.prototype.toString"),R0=Ll(),$m=globalThis,Td=YT(),dh=uh("String.prototype.slice"),KT=uh("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},Xo={__proto__:null};R0&&co&&Oa?Jo(Td,function(e){var t=new $m[e];if(Symbol.toStringTag in t&&Oa){var n=Oa(t),r=co(n,Symbol.toStringTag);if(!r&&n){var s=Oa(n);r=co(s,Symbol.toStringTag)}Xo["$"+e]=Mm(r.get)}}):Jo(Td,function(e){var t=new $m[e],n=t.slice||t.set;n&&(Xo["$"+e]=Mm(n))});var QT=function(t){var n=!1;return Jo(Xo,function(r,s){if(!n)try{"$"+r(t)===s&&(n=dh(s,1))}catch{}}),n},JT=function(t){var n=!1;return Jo(Xo,function(r,s){if(!n)try{r(t),n=dh(s,1)}catch{}}),n},D0=function(t){if(!t||typeof t!="object")return!1;if(!R0){var n=dh(GT(t),8,-1);return KT(Td,n)>-1?n:n!=="Object"?!1:JT(t)}return co?QT(t):null},XT=D0,ZT=function(t){return!!XT(t)};(function(e){var t=KA,n=hT,r=D0,s=ZT;function a(H){return H.call.bind(H)}var o=typeof BigInt<"u",l=typeof Symbol<"u",c=a(Object.prototype.toString),u=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);if(o)var w=a(BigInt.prototype.valueOf);if(l)var S=a(Symbol.prototype.valueOf);function N(H,Xe){if(typeof H!="object")return!1;try{return Xe(H),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=s;function j(H){return typeof Promise<"u"&&H instanceof Promise||H!==null&&typeof H=="object"&&typeof H.then=="function"&&typeof H.catch=="function"}e.isPromise=j;function m(H){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(H):s(H)||$(H)}e.isArrayBufferView=m;function d(H){return r(H)==="Uint8Array"}e.isUint8Array=d;function f(H){return r(H)==="Uint8ClampedArray"}e.isUint8ClampedArray=f;function y(H){return r(H)==="Uint16Array"}e.isUint16Array=y;function b(H){return r(H)==="Uint32Array"}e.isUint32Array=b;function C(H){return r(H)==="Int8Array"}e.isInt8Array=C;function A(H){return r(H)==="Int16Array"}e.isInt16Array=A;function x(H){return r(H)==="Int32Array"}e.isInt32Array=x;function k(H){return r(H)==="Float32Array"}e.isFloat32Array=k;function D(H){return r(H)==="Float64Array"}e.isFloat64Array=D;function B(H){return r(H)==="BigInt64Array"}e.isBigInt64Array=B;function q(H){return r(H)==="BigUint64Array"}e.isBigUint64Array=q;function L(H){return c(H)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function Q(H){return typeof Map>"u"?!1:L.working?L(H):H instanceof Map}e.isMap=Q;function le(H){return c(H)==="[object Set]"}le.working=typeof Set<"u"&&le(new Set);function ce(H){return typeof Set>"u"?!1:le.working?le(H):H instanceof Set}e.isSet=ce;function re(H){return c(H)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function ue(H){return typeof WeakMap>"u"?!1:re.working?re(H):H instanceof WeakMap}e.isWeakMap=ue;function J(H){return c(H)==="[object WeakSet]"}J.working=typeof WeakSet<"u"&&J(new WeakSet);function te(H){return J(H)}e.isWeakSet=te;function ne(H){return c(H)==="[object ArrayBuffer]"}ne.working=typeof ArrayBuffer<"u"&&ne(new ArrayBuffer);function he(H){return typeof ArrayBuffer>"u"?!1:ne.working?ne(H):H instanceof ArrayBuffer}e.isArrayBuffer=he;function O(H){return c(H)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function $(H){return typeof DataView>"u"?!1:O.working?O(H):H instanceof DataView}e.isDataView=$;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function se(H){return c(H)==="[object SharedArrayBuffer]"}function I(H){return typeof U>"u"?!1:(typeof se.working>"u"&&(se.working=se(new U)),se.working?se(H):H instanceof U)}e.isSharedArrayBuffer=I;function F(H){return c(H)==="[object AsyncFunction]"}e.isAsyncFunction=F;function V(H){return c(H)==="[object Map Iterator]"}e.isMapIterator=V;function X(H){return c(H)==="[object Set Iterator]"}e.isSetIterator=X;function ae(H){return c(H)==="[object Generator]"}e.isGeneratorObject=ae;function T(H){return c(H)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=T;function P(H){return N(H,u)}e.isNumberObject=P;function K(H){return N(H,p)}e.isStringObject=K;function Z(H){return N(H,g)}e.isBooleanObject=Z;function ye(H){return o&&N(H,w)}e.isBigIntObject=ye;function de(H){return l&&N(H,S)}e.isSymbolObject=de;function xe(H){return P(H)||K(H)||Z(H)||ye(H)||de(H)}e.isBoxedPrimitive=xe;function ie(H){return typeof Uint8Array<"u"&&(he(H)||I(H))}e.isAnyArrayBuffer=ie,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(H){Object.defineProperty(e,H,{enumerable:!1,value:function(){throw new Error(H+" is not supported in userland")}})})})(c0);var eR=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},Rd={exports:{}};typeof Object.create=="function"?Rd.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Rd.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var Hi=Rd.exports;(function(e){var t=Object.getOwnPropertyDescriptors||function($){for(var U=Object.keys($),se={},I=0;I<U.length;I++)se[U[I]]=Object.getOwnPropertyDescriptor($,U[I]);return se},n=/%[sdj%]/g;e.format=function(O){if(!C(O)){for(var $=[],U=0;U<arguments.length;U++)$.push(o(arguments[U]));return $.join(" ")}for(var U=1,se=arguments,I=se.length,F=String(O).replace(n,function(X){if(X==="%%")return"%";if(U>=I)return X;switch(X){case"%s":return String(se[U++]);case"%d":return Number(se[U++]);case"%j":try{return JSON.stringify(se[U++])}catch{return"[Circular]"}default:return X}}),V=se[U];U<I;V=se[++U])f(V)||!D(V)?F+=" "+V:F+=" "+o(V);return F},e.deprecate=function(O,$){if(typeof ve<"u"&&ve.noDeprecation===!0)return O;if(typeof ve>"u")return function(){return e.deprecate(O,$).apply(this,arguments)};var U=!1;function se(){if(!U){if(ve.throwDeprecation)throw new Error($);ve.traceDeprecation?console.trace($):console.error($),U=!0}return O.apply(this,arguments)}return se};var r={},s=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}e.debuglog=function(O){if(O=O.toUpperCase(),!r[O])if(s.test(O)){var $=ve.pid;r[O]=function(){var U=e.format.apply(e,arguments);console.error("%s %d: %s",O,$,U)}}else r[O]=function(){};return r[O]};function o(O,$){var U={seen:[],stylize:c};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),d($)?U.showHidden=$:$&&e._extend(U,$),x(U.showHidden)&&(U.showHidden=!1),x(U.depth)&&(U.depth=2),x(U.colors)&&(U.colors=!1),x(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=l),p(U,O,U.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(O,$){var U=o.styles[$];return U?"\x1B["+o.colors[U][0]+"m"+O+"\x1B["+o.colors[U][1]+"m":O}function c(O,$){return O}function u(O){var $={};return O.forEach(function(U,se){$[U]=!0}),$}function p(O,$,U){if(O.customInspect&&$&&L($.inspect)&&$.inspect!==e.inspect&&!($.constructor&&$.constructor.prototype===$)){var se=$.inspect(U,O);return C(se)||(se=p(O,se,U)),se}var I=g(O,$);if(I)return I;var F=Object.keys($),V=u(F);if(O.showHidden&&(F=Object.getOwnPropertyNames($)),q($)&&(F.indexOf("message")>=0||F.indexOf("description")>=0))return w($);if(F.length===0){if(L($)){var X=$.name?": "+$.name:"";return O.stylize("[Function"+X+"]","special")}if(k($))return O.stylize(RegExp.prototype.toString.call($),"regexp");if(B($))return O.stylize(Date.prototype.toString.call($),"date");if(q($))return w($)}var ae="",T=!1,P=["{","}"];if(m($)&&(T=!0,P=["[","]"]),L($)){var K=$.name?": "+$.name:"";ae=" [Function"+K+"]"}if(k($)&&(ae=" "+RegExp.prototype.toString.call($)),B($)&&(ae=" "+Date.prototype.toUTCString.call($)),q($)&&(ae=" "+w($)),F.length===0&&(!T||$.length==0))return P[0]+ae+P[1];if(U<0)return k($)?O.stylize(RegExp.prototype.toString.call($),"regexp"):O.stylize("[Object]","special");O.seen.push($);var Z;return T?Z=S(O,$,U,V,F):Z=F.map(function(ye){return N(O,$,U,V,ye,T)}),O.seen.pop(),j(Z,ae,P)}function g(O,$){if(x($))return O.stylize("undefined","undefined");if(C($)){var U="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(U,"string")}if(b($))return O.stylize(""+$,"number");if(d($))return O.stylize(""+$,"boolean");if(f($))return O.stylize("null","null")}function w(O){return"["+Error.prototype.toString.call(O)+"]"}function S(O,$,U,se,I){for(var F=[],V=0,X=$.length;V<X;++V)J($,String(V))?F.push(N(O,$,U,se,String(V),!0)):F.push("");return I.forEach(function(ae){ae.match(/^\d+$/)||F.push(N(O,$,U,se,ae,!0))}),F}function N(O,$,U,se,I,F){var V,X,ae;if(ae=Object.getOwnPropertyDescriptor($,I)||{value:$[I]},ae.get?ae.set?X=O.stylize("[Getter/Setter]","special"):X=O.stylize("[Getter]","special"):ae.set&&(X=O.stylize("[Setter]","special")),J(se,I)||(V="["+I+"]"),X||(O.seen.indexOf(ae.value)<0?(f(U)?X=p(O,ae.value,null):X=p(O,ae.value,U-1),X.indexOf(`
`)>-1&&(F?X=X.split(`
`).map(function(T){return"  "+T}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(T){return"   "+T}).join(`
`))):X=O.stylize("[Circular]","special")),x(V)){if(F&&I.match(/^\d+$/))return X;V=JSON.stringify(""+I),V.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.slice(1,-1),V=O.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=O.stylize(V,"string"))}return V+": "+X}function j(O,$,U){var se=O.reduce(function(I,F){return F.indexOf(`
`)>=0,I+F.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?U[0]+($===""?"":$+`
 `)+" "+O.join(`,
  `)+" "+U[1]:U[0]+$+" "+O.join(", ")+" "+U[1]}e.types=c0;function m(O){return Array.isArray(O)}e.isArray=m;function d(O){return typeof O=="boolean"}e.isBoolean=d;function f(O){return O===null}e.isNull=f;function y(O){return O==null}e.isNullOrUndefined=y;function b(O){return typeof O=="number"}e.isNumber=b;function C(O){return typeof O=="string"}e.isString=C;function A(O){return typeof O=="symbol"}e.isSymbol=A;function x(O){return O===void 0}e.isUndefined=x;function k(O){return D(O)&&le(O)==="[object RegExp]"}e.isRegExp=k,e.types.isRegExp=k;function D(O){return typeof O=="object"&&O!==null}e.isObject=D;function B(O){return D(O)&&le(O)==="[object Date]"}e.isDate=B,e.types.isDate=B;function q(O){return D(O)&&(le(O)==="[object Error]"||O instanceof Error)}e.isError=q,e.types.isNativeError=q;function L(O){return typeof O=="function"}e.isFunction=L;function Q(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}e.isPrimitive=Q,e.isBuffer=eR;function le(O){return Object.prototype.toString.call(O)}function ce(O){return O<10?"0"+O.toString(10):O.toString(10)}var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(){var O=new Date,$=[ce(O.getHours()),ce(O.getMinutes()),ce(O.getSeconds())].join(":");return[O.getDate(),re[O.getMonth()],$].join(" ")}e.log=function(){console.log("%s - %s",ue(),e.format.apply(e,arguments))},e.inherits=Hi,e._extend=function(O,$){if(!$||!D($))return O;for(var U=Object.keys($),se=U.length;se--;)O[U[se]]=$[U[se]];return O};function J(O,$){return Object.prototype.hasOwnProperty.call(O,$)}var te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');if(te&&$[te]){var U=$[te];if(typeof U!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(U,te,{value:U,enumerable:!1,writable:!1,configurable:!0}),U}function U(){for(var se,I,F=new Promise(function(ae,T){se=ae,I=T}),V=[],X=0;X<arguments.length;X++)V.push(arguments[X]);V.push(function(ae,T){ae?I(ae):se(T)});try{$.apply(this,V)}catch(ae){I(ae)}return F}return Object.setPrototypeOf(U,Object.getPrototypeOf($)),te&&Object.defineProperty(U,te,{value:U,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(U,t($))},e.promisify.custom=te;function ne(O,$){if(!O){var U=new Error("Promise was rejected with a falsy value");U.reason=O,O=U}return $(O)}function he(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function $(){for(var U=[],se=0;se<arguments.length;se++)U.push(arguments[se]);var I=U.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var F=this,V=function(){return I.apply(F,arguments)};O.apply(this,U).then(function(X){ve.nextTick(V.bind(null,null,X))},function(X){ve.nextTick(ne.bind(null,X,V))})}return Object.setPrototypeOf($,Object.getPrototypeOf(O)),Object.defineProperties($,t(O)),$}e.callbackify=he})(sh);var Bc,Um;function tR(){if(Um)return Bc;Um=1;function e(N,j){var m=Object.keys(N);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(N);j&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(N,f).enumerable})),m.push.apply(m,d)}return m}function t(N){for(var j=1;j<arguments.length;j++){var m=arguments[j]!=null?arguments[j]:{};j%2?e(Object(m),!0).forEach(function(d){n(N,d,m[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(m)):e(Object(m)).forEach(function(d){Object.defineProperty(N,d,Object.getOwnPropertyDescriptor(m,d))})}return N}function n(N,j,m){return j=o(j),j in N?Object.defineProperty(N,j,{value:m,enumerable:!0,configurable:!0,writable:!0}):N[j]=m,N}function r(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function s(N,j){for(var m=0;m<j.length;m++){var d=j[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(N,o(d.key),d)}}function a(N,j,m){return j&&s(N.prototype,j),m&&s(N,m),Object.defineProperty(N,"prototype",{writable:!1}),N}function o(N){var j=l(N,"string");return typeof j=="symbol"?j:String(j)}function l(N,j){if(typeof N!="object"||N===null)return N;var m=N[Symbol.toPrimitive];if(m!==void 0){var d=m.call(N,j||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)}var c=Mr,u=c.Buffer,p=sh,g=p.inspect,w=g&&g.custom||"inspect";function S(N,j,m){u.prototype.copy.call(N,j,m)}return Bc=function(){function N(){r(this,N),this.head=null,this.tail=null,this.length=0}return a(N,[{key:"push",value:function(m){var d={data:m,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(m){var d={data:m,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var d=this.head,f=""+d.data;d=d.next;)f+=m+d.data;return f}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var d=u.allocUnsafe(m>>>0),f=this.head,y=0;f;)S(f.data,d,y),y+=f.data.length,f=f.next;return d}},{key:"consume",value:function(m,d){var f;return m<this.head.data.length?(f=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?f=this.shift():f=d?this._getString(m):this._getBuffer(m),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var d=this.head,f=1,y=d.data;for(m-=y.length;d=d.next;){var b=d.data,C=m>b.length?b.length:m;if(C===b.length?y+=b:y+=b.slice(0,m),m-=C,m===0){C===b.length?(++f,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=b.slice(C));break}++f}return this.length-=f,y}},{key:"_getBuffer",value:function(m){var d=u.allocUnsafe(m),f=this.head,y=1;for(f.data.copy(d),m-=f.data.length;f=f.next;){var b=f.data,C=m>b.length?b.length:m;if(b.copy(d,d.length-m,0,C),m-=C,m===0){C===b.length?(++y,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=b.slice(C));break}++y}return this.length-=y,d}},{key:w,value:function(m,d){return g(this,t(t({},d),{},{depth:0,customInspect:!1}))}}]),N}(),Bc}function nR(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ve.nextTick(Dd,this,e)):ve.nextTick(Dd,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?n._writableState?n._writableState.errorEmitted?ve.nextTick(uo,n):(n._writableState.errorEmitted=!0,ve.nextTick(zm,n,a)):ve.nextTick(zm,n,a):t?(ve.nextTick(uo,n),t(a)):ve.nextTick(uo,n)}),this)}function zm(e,t){Dd(e,t),uo(e)}function uo(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function rR(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Dd(e,t){e.emit("error",t)}function iR(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}var P0={destroy:nR,undestroy:rR,errorOrDestroy:iR},zr={};function sR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O0={};function Qt(e,t,n){n||(n=Error);function r(a,o,l){return typeof t=="string"?t:t(a,o,l)}var s=function(a){sR(o,a);function o(l,c,u){return a.call(this,r(l,c,u))||this}return o}(n);s.prototype.name=n.name,s.prototype.code=e,O0[e]=s}function Vm(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(r){return String(r)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:n===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function aR(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function oR(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function lR(e,t,n){return typeof n!="number"&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}Qt("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Qt("ERR_INVALID_ARG_TYPE",function(e,t,n){var r;typeof t=="string"&&aR(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";var s;if(oR(e," argument"))s="The ".concat(e," ").concat(r," ").concat(Vm(t,"type"));else{var a=lR(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(a," ").concat(r," ").concat(Vm(t,"type"))}return s+=". Received type ".concat(typeof n),s},TypeError);Qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Qt("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Qt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Qt("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Qt("ERR_STREAM_WRITE_AFTER_END","write after end");Qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Qt("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");zr.codes=O0;var cR=zr.codes.ERR_INVALID_OPT_VALUE;function uR(e,t,n){return e.highWaterMark!=null?e.highWaterMark:t?e[n]:null}function dR(e,t,n,r){var s=uR(t,r,n);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var a=r?n:"highWaterMark";throw new cR(a,s)}return Math.floor(s)}return e.objectMode?16:16*1024}var L0={getHighWaterMark:dR},fR=hR;function hR(e,t){if(Mc("noDeprecation"))return e;var n=!1;function r(){if(!n){if(Mc("throwDeprecation"))throw new Error(t);Mc("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return r}function Mc(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var $c,Wm;function I0(){if(Wm)return $c;Wm=1,$c=k;function e(I){var F=this;this.next=null,this.entry=null,this.finish=function(){se(F,I)}}var t;k.WritableState=A;var n={deprecate:fR},r=l0,s=Mr.Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(I){return s.from(I)}function l(I){return s.isBuffer(I)||I instanceof a}var c=P0,u=L0,p=u.getHighWaterMark,g=zr.codes,w=g.ERR_INVALID_ARG_TYPE,S=g.ERR_METHOD_NOT_IMPLEMENTED,N=g.ERR_MULTIPLE_CALLBACK,j=g.ERR_STREAM_CANNOT_PIPE,m=g.ERR_STREAM_DESTROYED,d=g.ERR_STREAM_NULL_VALUES,f=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,b=c.errorOrDestroy;Hi(k,r);function C(){}function A(I,F,V){t=t||Di(),I=I||{},typeof V!="boolean"&&(V=F instanceof t),this.objectMode=!!I.objectMode,V&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=p(this,I,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=I.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ae){re(F,ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}A.prototype.getBuffer=function(){for(var F=this.bufferedRequest,V=[];F;)V.push(F),F=F.next;return V},function(){try{Object.defineProperty(A.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(F){return x.call(this,F)?!0:this!==k?!1:F&&F._writableState instanceof A}})):x=function(F){return F instanceof this};function k(I){t=t||Di();var F=this instanceof t;if(!F&&!x.call(k,this))return new k(I);this._writableState=new A(I,this,F),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),r.call(this)}k.prototype.pipe=function(){b(this,new j)};function D(I,F){var V=new f;b(I,V),ve.nextTick(F,V)}function B(I,F,V,X){var ae;return V===null?ae=new d:typeof V!="string"&&!F.objectMode&&(ae=new w("chunk",["string","Buffer"],V)),ae?(b(I,ae),ve.nextTick(X,ae),!1):!0}k.prototype.write=function(I,F,V){var X=this._writableState,ae=!1,T=!X.objectMode&&l(I);return T&&!s.isBuffer(I)&&(I=o(I)),typeof F=="function"&&(V=F,F=null),T?F="buffer":F||(F=X.defaultEncoding),typeof V!="function"&&(V=C),X.ending?D(this,V):(T||B(this,X,I,V))&&(X.pendingcb++,ae=L(this,X,T,I,F,V)),ae},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,!I.writing&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&te(this,I))},k.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new y(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(I,F,V){return!I.objectMode&&I.decodeStrings!==!1&&typeof F=="string"&&(F=s.from(F,V)),F}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function L(I,F,V,X,ae,T){if(!V){var P=q(F,X,ae);X!==P&&(V=!0,ae="buffer",X=P)}var K=F.objectMode?1:X.length;F.length+=K;var Z=F.length<F.highWaterMark;if(Z||(F.needDrain=!0),F.writing||F.corked){var ye=F.lastBufferedRequest;F.lastBufferedRequest={chunk:X,encoding:ae,isBuf:V,callback:T,next:null},ye?ye.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else Q(I,F,!1,K,X,ae,T);return Z}function Q(I,F,V,X,ae,T,P){F.writelen=X,F.writecb=P,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new m("write")):V?I._writev(ae,F.onwrite):I._write(ae,T,F.onwrite),F.sync=!1}function le(I,F,V,X,ae){--F.pendingcb,V?(ve.nextTick(ae,X),ve.nextTick($,I,F),I._writableState.errorEmitted=!0,b(I,X)):(ae(X),I._writableState.errorEmitted=!0,b(I,X),$(I,F))}function ce(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}function re(I,F){var V=I._writableState,X=V.sync,ae=V.writecb;if(typeof ae!="function")throw new N;if(ce(V),F)le(I,V,X,F,ae);else{var T=ne(V)||I.destroyed;!T&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&te(I,V),X?ve.nextTick(ue,I,V,T,ae):ue(I,V,T,ae)}}function ue(I,F,V,X){V||J(I,F),F.pendingcb--,X(),$(I,F)}function J(I,F){F.length===0&&F.needDrain&&(F.needDrain=!1,I.emit("drain"))}function te(I,F){F.bufferProcessing=!0;var V=F.bufferedRequest;if(I._writev&&V&&V.next){var X=F.bufferedRequestCount,ae=new Array(X),T=F.corkedRequestsFree;T.entry=V;for(var P=0,K=!0;V;)ae[P]=V,V.isBuf||(K=!1),V=V.next,P+=1;ae.allBuffers=K,Q(I,F,!0,F.length,ae,"",T.finish),F.pendingcb++,F.lastBufferedRequest=null,T.next?(F.corkedRequestsFree=T.next,T.next=null):F.corkedRequestsFree=new e(F),F.bufferedRequestCount=0}else{for(;V;){var Z=V.chunk,ye=V.encoding,de=V.callback,xe=F.objectMode?1:Z.length;if(Q(I,F,!1,xe,Z,ye,de),V=V.next,F.bufferedRequestCount--,F.writing)break}V===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=V,F.bufferProcessing=!1}k.prototype._write=function(I,F,V){V(new S("_write()"))},k.prototype._writev=null,k.prototype.end=function(I,F,V){var X=this._writableState;return typeof I=="function"?(V=I,I=null,F=null):typeof F=="function"&&(V=F,F=null),I!=null&&this.write(I,F),X.corked&&(X.corked=1,this.uncork()),X.ending||U(this,X,V),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function he(I,F){I._final(function(V){F.pendingcb--,V&&b(I,V),F.prefinished=!0,I.emit("prefinish"),$(I,F)})}function O(I,F){!F.prefinished&&!F.finalCalled&&(typeof I._final=="function"&&!F.destroyed?(F.pendingcb++,F.finalCalled=!0,ve.nextTick(he,I,F)):(F.prefinished=!0,I.emit("prefinish")))}function $(I,F){var V=ne(F);if(V&&(O(I,F),F.pendingcb===0&&(F.finished=!0,I.emit("finish"),F.autoDestroy))){var X=I._readableState;(!X||X.autoDestroy&&X.endEmitted)&&I.destroy()}return V}function U(I,F,V){F.ending=!0,$(I,F),V&&(F.finished?ve.nextTick(V):I.once("finish",V)),F.ended=!0,I.writable=!1}function se(I,F,V){var X=I.entry;for(I.entry=null;X;){var ae=X.callback;F.pendingcb--,ae(V),X=X.next}F.corkedRequestsFree.next=I}return Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),k.prototype.destroy=c.destroy,k.prototype._undestroy=c.undestroy,k.prototype._destroy=function(I,F){F(I)},$c}var Uc,Hm;function Di(){if(Hm)return Uc;Hm=1;var e=Object.keys||function(u){var p=[];for(var g in u)p.push(g);return p};Uc=o;var t=B0(),n=I0();Hi(o,t);for(var r=e(n.prototype),s=0;s<r.length;s++){var a=r[s];o.prototype[a]||(o.prototype[a]=n.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),n.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||ve.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),Uc}var zc={},qm;function Ym(){if(qm)return zc;qm=1;var e=Xx.Buffer,t=e.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(d){if(!d)return"utf8";for(var f;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(f)return;d=(""+d).toLowerCase(),f=!0}}function r(d){var f=n(d);if(typeof f!="string"&&(e.isEncoding===t||!t(d)))throw new Error("Unknown encoding: "+d);return f||d}zc.StringDecoder=s;function s(d){this.encoding=r(d);var f;switch(this.encoding){case"utf16le":this.text=g,this.end=w,f=4;break;case"utf8":this.fillLast=c,f=4;break;case"base64":this.text=S,this.end=N,f=3;break;default:this.write=j,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(f)}s.prototype.write=function(d){if(d.length===0)return"";var f,y;if(this.lastNeed){if(f=this.fillLast(d),f===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<d.length?f?f+this.text(d,y):this.text(d,y):f||""},s.prototype.end=p,s.prototype.text=u,s.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function a(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function o(d,f,y){var b=f.length-1;if(b<y)return 0;var C=a(f[b]);return C>=0?(C>0&&(d.lastNeed=C-1),C):--b<y||C===-2?0:(C=a(f[b]),C>=0?(C>0&&(d.lastNeed=C-2),C):--b<y||C===-2?0:(C=a(f[b]),C>=0?(C>0&&(C===2?C=0:d.lastNeed=C-3),C):0))}function l(d,f,y){if((f[0]&192)!==128)return d.lastNeed=0,"�";if(d.lastNeed>1&&f.length>1){if((f[1]&192)!==128)return d.lastNeed=1,"�";if(d.lastNeed>2&&f.length>2&&(f[2]&192)!==128)return d.lastNeed=2,"�"}}function c(d){var f=this.lastTotal-this.lastNeed,y=l(this,d);if(y!==void 0)return y;if(this.lastNeed<=d.length)return d.copy(this.lastChar,f,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,f,0,d.length),this.lastNeed-=d.length}function u(d,f){var y=o(this,d,f);if(!this.lastNeed)return d.toString("utf8",f);this.lastTotal=y;var b=d.length-(y-this.lastNeed);return d.copy(this.lastChar,0,b),d.toString("utf8",f,b)}function p(d){var f=d&&d.length?this.write(d):"";return this.lastNeed?f+"�":f}function g(d,f){if((d.length-f)%2===0){var y=d.toString("utf16le",f);if(y){var b=y.charCodeAt(y.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",f,d.length-1)}function w(d){var f=d&&d.length?this.write(d):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return f+this.lastChar.toString("utf16le",0,y)}return f}function S(d,f){var y=(d.length-f)%3;return y===0?d.toString("base64",f):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",f,d.length-y))}function N(d){var f=d&&d.length?this.write(d):"";return this.lastNeed?f+this.lastChar.toString("base64",0,3-this.lastNeed):f}function j(d){return d.toString(this.encoding)}function m(d){return d&&d.length?this.write(d):""}return zc}var Gm=zr.codes.ERR_STREAM_PREMATURE_CLOSE;function pR(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.apply(this,r)}}}function mR(){}function gR(e){return e.setHeader&&typeof e.abort=="function"}function F0(e,t,n){if(typeof t=="function")return F0(e,null,t);t||(t={}),n=pR(n||mR);var r=t.readable||t.readable!==!1&&e.readable,s=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||l()},o=e._writableState&&e._writableState.finished,l=function(){s=!1,o=!0,r||n.call(e)},c=e._readableState&&e._readableState.endEmitted,u=function(){r=!1,c=!0,s||n.call(e)},p=function(N){n.call(e,N)},g=function(){var N;if(r&&!c)return(!e._readableState||!e._readableState.ended)&&(N=new Gm),n.call(e,N);if(s&&!o)return(!e._writableState||!e._writableState.ended)&&(N=new Gm),n.call(e,N)},w=function(){e.req.on("finish",l)};return gR(e)?(e.on("complete",l),e.on("abort",g),e.req?w():e.on("request",w)):s&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",u),e.on("finish",l),t.error!==!1&&e.on("error",p),e.on("close",g),function(){e.removeListener("complete",l),e.removeListener("abort",g),e.removeListener("request",w),e.req&&e.req.removeListener("finish",l),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",l),e.removeListener("end",u),e.removeListener("error",p),e.removeListener("close",g)}}var fh=F0,Vc,Km;function vR(){if(Km)return Vc;Km=1;var e;function t(y,b,C){return b=n(b),b in y?Object.defineProperty(y,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[b]=C,y}function n(y){var b=r(y,"string");return typeof b=="symbol"?b:String(b)}function r(y,b){if(typeof y!="object"||y===null)return y;var C=y[Symbol.toPrimitive];if(C!==void 0){var A=C.call(y,b||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}var s=fh,a=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function w(y,b){return{value:y,done:b}}function S(y){var b=y[a];if(b!==null){var C=y[g].read();C!==null&&(y[u]=null,y[a]=null,y[o]=null,b(w(C,!1)))}}function N(y){ve.nextTick(S,y)}function j(y,b){return function(C,A){y.then(function(){if(b[c]){C(w(void 0,!0));return}b[p](C,A)},A)}}var m=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((e={get stream(){return this[g]},next:function(){var b=this,C=this[l];if(C!==null)return Promise.reject(C);if(this[c])return Promise.resolve(w(void 0,!0));if(this[g].destroyed)return new Promise(function(D,B){ve.nextTick(function(){b[l]?B(b[l]):D(w(void 0,!0))})});var A=this[u],x;if(A)x=new Promise(j(A,this));else{var k=this[g].read();if(k!==null)return Promise.resolve(w(k,!1));x=new Promise(this[p])}return this[u]=x,x}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var b=this;return new Promise(function(C,A){b[g].destroy(null,function(x){if(x){A(x);return}C(w(void 0,!0))})})}),e),m),f=function(b){var C,A=Object.create(d,(C={},t(C,g,{value:b,writable:!0}),t(C,a,{value:null,writable:!0}),t(C,o,{value:null,writable:!0}),t(C,l,{value:null,writable:!0}),t(C,c,{value:b._readableState.endEmitted,writable:!0}),t(C,p,{value:function(k,D){var B=A[g].read();B?(A[u]=null,A[a]=null,A[o]=null,k(w(B,!1))):(A[a]=k,A[o]=D)},writable:!0}),C));return A[u]=null,s(b,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=A[o];k!==null&&(A[u]=null,A[a]=null,A[o]=null,k(x)),A[l]=x;return}var D=A[a];D!==null&&(A[u]=null,A[a]=null,A[o]=null,D(w(void 0,!0))),A[c]=!0}),b.on("readable",N.bind(null,A)),A};return Vc=f,Vc}var Wc,Qm;function yR(){return Qm||(Qm=1,Wc=function(){throw new Error("Readable.from is not available in the browser")}),Wc}var Hc,Jm;function B0(){if(Jm)return Hc;Jm=1,Hc=D;var e;D.ReadableState=k,o0.EventEmitter;var t=function(P,K){return P.listeners(K).length},n=l0,r=Mr.Buffer,s=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(T){return r.from(T)}function o(T){return r.isBuffer(T)||T instanceof s}var l=sh,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=tR(),p=P0,g=L0,w=g.getHighWaterMark,S=zr.codes,N=S.ERR_INVALID_ARG_TYPE,j=S.ERR_STREAM_PUSH_AFTER_EOF,m=S.ERR_METHOD_NOT_IMPLEMENTED,d=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,f,y,b;Hi(D,n);var C=p.errorOrDestroy,A=["error","close","destroy","pause","resume"];function x(T,P,K){if(typeof T.prependListener=="function")return T.prependListener(P,K);!T._events||!T._events[P]?T.on(P,K):Array.isArray(T._events[P])?T._events[P].unshift(K):T._events[P]=[K,T._events[P]]}function k(T,P,K){e=e||Di(),T=T||{},typeof K!="boolean"&&(K=P instanceof e),this.objectMode=!!T.objectMode,K&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=w(this,T,"readableHighWaterMark",K),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(f||(f=Ym().StringDecoder),this.decoder=new f(T.encoding),this.encoding=T.encoding)}function D(T){if(e=e||Di(),!(this instanceof D))return new D(T);var P=this instanceof e;this._readableState=new k(T,this,P),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),n.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),D.prototype.destroy=p.destroy,D.prototype._undestroy=p.undestroy,D.prototype._destroy=function(T,P){P(T)},D.prototype.push=function(T,P){var K=this._readableState,Z;return K.objectMode?Z=!0:typeof T=="string"&&(P=P||K.defaultEncoding,P!==K.encoding&&(T=r.from(T,P),P=""),Z=!0),B(this,T,P,!1,Z)},D.prototype.unshift=function(T){return B(this,T,null,!0,!1)};function B(T,P,K,Z,ye){c("readableAddChunk",P);var de=T._readableState;if(P===null)de.reading=!1,re(T,de);else{var xe;if(ye||(xe=L(de,P)),xe)C(T,xe);else if(de.objectMode||P&&P.length>0)if(typeof P!="string"&&!de.objectMode&&Object.getPrototypeOf(P)!==r.prototype&&(P=a(P)),Z)de.endEmitted?C(T,new d):q(T,de,P,!0);else if(de.ended)C(T,new j);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!K?(P=de.decoder.write(P),de.objectMode||P.length!==0?q(T,de,P,!1):te(T,de)):q(T,de,P,!1)}else Z||(de.reading=!1,te(T,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function q(T,P,K,Z){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,T.emit("data",K)):(P.length+=P.objectMode?1:K.length,Z?P.buffer.unshift(K):P.buffer.push(K),P.needReadable&&ue(T)),te(T,P)}function L(T,P){var K;return!o(P)&&typeof P!="string"&&P!==void 0&&!T.objectMode&&(K=new N("chunk",["string","Buffer","Uint8Array"],P)),K}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(T){f||(f=Ym().StringDecoder);var P=new f(T);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,Z="";K!==null;)Z+=P.write(K.data),K=K.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var Q=1073741824;function le(T){return T>=Q?T=Q:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function ce(T,P){return T<=0||P.length===0&&P.ended?0:P.objectMode?1:T!==T?P.flowing&&P.length?P.buffer.head.data.length:P.length:(T>P.highWaterMark&&(P.highWaterMark=le(T)),T<=P.length?T:P.ended?P.length:(P.needReadable=!0,0))}D.prototype.read=function(T){c("read",T),T=parseInt(T,10);var P=this._readableState,K=T;if(T!==0&&(P.emittedReadable=!1),T===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return c("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?V(this):ue(this),null;if(T=ce(T,P),T===0&&P.ended)return P.length===0&&V(this),null;var Z=P.needReadable;c("need readable",Z),(P.length===0||P.length-T<P.highWaterMark)&&(Z=!0,c("length less than watermark",Z)),P.ended||P.reading?(Z=!1,c("reading or ended",Z)):Z&&(c("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(T=ce(K,P)));var ye;return T>0?ye=F(T,P):ye=null,ye===null?(P.needReadable=P.length<=P.highWaterMark,T=0):(P.length-=T,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),K!==T&&P.ended&&V(this)),ye!==null&&this.emit("data",ye),ye};function re(T,P){if(c("onEofChunk"),!P.ended){if(P.decoder){var K=P.decoder.end();K&&K.length&&(P.buffer.push(K),P.length+=P.objectMode?1:K.length)}P.ended=!0,P.sync?ue(T):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,J(T)))}}function ue(T){var P=T._readableState;c("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(c("emitReadable",P.flowing),P.emittedReadable=!0,ve.nextTick(J,T))}function J(T){var P=T._readableState;c("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(T.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,I(T)}function te(T,P){P.readingMore||(P.readingMore=!0,ve.nextTick(ne,T,P))}function ne(T,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var K=P.length;if(c("maybeReadMore read 0"),T.read(0),K===P.length)break}P.readingMore=!1}D.prototype._read=function(T){C(this,new m("_read()"))},D.prototype.pipe=function(T,P){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=T;break;case 1:Z.pipes=[Z.pipes,T];break;default:Z.pipes.push(T);break}Z.pipesCount+=1,c("pipe count=%d opts=%j",Z.pipesCount,P);var ye=(!P||P.end!==!1)&&T!==ve.stdout&&T!==ve.stderr,de=ye?ie:Pt;Z.endEmitted?ve.nextTick(de):K.once("end",de),T.on("unpipe",xe);function xe(Et,_t){c("onunpipe"),Et===K&&_t&&_t.hasUnpiped===!1&&(_t.hasUnpiped=!0,mt())}function ie(){c("onend"),T.end()}var H=he(K);T.on("drain",H);var Xe=!1;function mt(){c("cleanup"),T.removeListener("close",Jt),T.removeListener("finish",Xt),T.removeListener("drain",H),T.removeListener("error",ze),T.removeListener("unpipe",xe),K.removeListener("end",ie),K.removeListener("end",Pt),K.removeListener("data",Pe),Xe=!0,Z.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&H()}K.on("data",Pe);function Pe(Et){c("ondata");var _t=T.write(Et);c("dest.write",_t),_t===!1&&((Z.pipesCount===1&&Z.pipes===T||Z.pipesCount>1&&ae(Z.pipes,T)!==-1)&&!Xe&&(c("false write response, pause",Z.awaitDrain),Z.awaitDrain++),K.pause())}function ze(Et){c("onerror",Et),Pt(),T.removeListener("error",ze),t(T,"error")===0&&C(T,Et)}x(T,"error",ze);function Jt(){T.removeListener("finish",Xt),Pt()}T.once("close",Jt);function Xt(){c("onfinish"),T.removeListener("close",Jt),Pt()}T.once("finish",Xt);function Pt(){c("unpipe"),K.unpipe(T)}return T.emit("pipe",K),Z.flowing||(c("pipe resume"),K.resume()),T};function he(T){return function(){var K=T._readableState;c("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&t(T,"data")&&(K.flowing=!0,I(T))}}D.prototype.unpipe=function(T){var P=this._readableState,K={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return T&&T!==P.pipes?this:(T||(T=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,T&&T.emit("unpipe",this,K),this);if(!T){var Z=P.pipes,ye=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var de=0;de<ye;de++)Z[de].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=ae(P.pipes,T);return xe===-1?this:(P.pipes.splice(xe,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),T.emit("unpipe",this,K),this)},D.prototype.on=function(T,P){var K=n.prototype.on.call(this,T,P),Z=this._readableState;return T==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):T==="readable"&&!Z.endEmitted&&!Z.readableListening&&(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,c("on readable",Z.length,Z.reading),Z.length?ue(this):Z.reading||ve.nextTick($,this)),K},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(T,P){var K=n.prototype.removeListener.call(this,T,P);return T==="readable"&&ve.nextTick(O,this),K},D.prototype.removeAllListeners=function(T){var P=n.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&ve.nextTick(O,this),P};function O(T){var P=T._readableState;P.readableListening=T.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:T.listenerCount("data")>0&&T.resume()}function $(T){c("readable nexttick read 0"),T.read(0)}D.prototype.resume=function(){var T=this._readableState;return T.flowing||(c("resume"),T.flowing=!T.readableListening,U(this,T)),T.paused=!1,this};function U(T,P){P.resumeScheduled||(P.resumeScheduled=!0,ve.nextTick(se,T,P))}function se(T,P){c("resume",P.reading),P.reading||T.read(0),P.resumeScheduled=!1,T.emit("resume"),I(T),P.flowing&&!P.reading&&T.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function I(T){var P=T._readableState;for(c("flow",P.flowing);P.flowing&&T.read()!==null;);}D.prototype.wrap=function(T){var P=this,K=this._readableState,Z=!1;T.on("end",function(){if(c("wrapped end"),K.decoder&&!K.ended){var xe=K.decoder.end();xe&&xe.length&&P.push(xe)}P.push(null)}),T.on("data",function(xe){if(c("wrapped data"),K.decoder&&(xe=K.decoder.write(xe)),!(K.objectMode&&xe==null)&&!(!K.objectMode&&(!xe||!xe.length))){var ie=P.push(xe);ie||(Z=!0,T.pause())}});for(var ye in T)this[ye]===void 0&&typeof T[ye]=="function"&&(this[ye]=function(ie){return function(){return T[ie].apply(T,arguments)}}(ye));for(var de=0;de<A.length;de++)T.on(A[de],this.emit.bind(this,A[de]));return this._read=function(xe){c("wrapped _read",xe),Z&&(Z=!1,T.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=vR()),y(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),D._fromList=F,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function F(T,P){if(P.length===0)return null;var K;return P.objectMode?K=P.buffer.shift():!T||T>=P.length?(P.decoder?K=P.buffer.join(""):P.buffer.length===1?K=P.buffer.first():K=P.buffer.concat(P.length),P.buffer.clear()):K=P.buffer.consume(T,P.decoder),K}function V(T){var P=T._readableState;c("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,ve.nextTick(X,P,T))}function X(T,P){if(c("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,P.readable=!1,P.emit("end"),T.autoDestroy)){var K=P._writableState;(!K||K.autoDestroy&&K.finished)&&P.destroy()}}typeof Symbol=="function"&&(D.from=function(T,P){return b===void 0&&(b=yR()),b(D,T,P)});function ae(T,P){for(var K=0,Z=T.length;K<Z;K++)if(T[K]===P)return K;return-1}return Hc}var M0=In,Bl=zr.codes,xR=Bl.ERR_METHOD_NOT_IMPLEMENTED,wR=Bl.ERR_MULTIPLE_CALLBACK,jR=Bl.ERR_TRANSFORM_ALREADY_TRANSFORMING,bR=Bl.ERR_TRANSFORM_WITH_LENGTH_0,Ml=Di();Hi(In,Ml);function NR(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new wR);n.writechunk=null,n.writecb=null,t!=null&&this.push(t),r(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function In(e){if(!(this instanceof In))return new In(e);Ml.call(this,e),this._transformState={afterTransform:NR.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",SR)}function SR(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,n){Xm(e,t,n)}):Xm(this,null,null)}In.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ml.prototype.push.call(this,e,t)};In.prototype._transform=function(e,t,n){n(new xR("_transform()"))};In.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};In.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};In.prototype._destroy=function(e,t){Ml.prototype._destroy.call(this,e,function(n){t(n)})};function Xm(e,t,n){if(t)return e.emit("error",t);if(n!=null&&e.push(n),e._writableState.length)throw new bR;if(e._transformState.transforming)throw new jR;return e.push(null)}var ER=Ws,$0=M0;Hi(Ws,$0);function Ws(e){if(!(this instanceof Ws))return new Ws(e);$0.call(this,e)}Ws.prototype._transform=function(e,t,n){n(null,e)};var qc;function _R(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var U0=zr.codes,CR=U0.ERR_MISSING_ARGS,kR=U0.ERR_STREAM_DESTROYED;function Zm(e){if(e)throw e}function AR(e){return e.setHeader&&typeof e.abort=="function"}function TR(e,t,n,r){r=_R(r);var s=!1;e.on("close",function(){s=!0}),qc===void 0&&(qc=fh),qc(e,{readable:t,writable:n},function(o){if(o)return r(o);s=!0,r()});var a=!1;return function(o){if(!s&&!a){if(a=!0,AR(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();r(o||new kR("pipe"))}}}function eg(e){e()}function RR(e,t){return e.pipe(t)}function DR(e){return!e.length||typeof e[e.length-1]!="function"?Zm:e.pop()}function PR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=DR(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new CR("streams");var s,a=t.map(function(o,l){var c=l<t.length-1,u=l>0;return TR(o,c,u,function(p){s||(s=p),p&&a.forEach(eg),!c&&(a.forEach(eg),r(s))})});return t.reduce(RR)}var OR=PR;(function(e,t){t=e.exports=B0(),t.Stream=t,t.Readable=t,t.Writable=I0(),t.Duplex=Di(),t.Transform=M0,t.PassThrough=ER,t.finished=fh,t.pipeline=OR})(Nd,Nd.exports);var LR=Nd.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let tg;var IR=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):e=>(tg||(tg=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));function ng(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}function FR(e,t,n){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");n||(n={}),typeof t=="object"&&(n=t,t=""),t&&(n.code=t);try{return ng(e,n)}catch{n.message=e.message,n.stack=e.stack;const s=function(){};return s.prototype=Object.create(Object.getPrototypeOf(e)),ng(new s,n)}}var BR=FR;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const MR=xk("simple-peer"),z0=wk,rg=Ek,$R=LR,Yc=IR,Se=BR,{Buffer:UR}=Mr,Gc=64*1024,zR=5*1e3,VR=5*1e3;function ig(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function WR(e){console.warn(e)}class Ir extends $R.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=rg(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||rg(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Ir.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Ir.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(n=>n),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||zR,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:z0(),!this._wrtc)throw Se(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(n){this.destroy(Se(n,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=n=>{this._onIceCandidate(n)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(n=>{this.destroy(Se(n,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=n=>{this._setupData(n)},this.streams&&this.streams.forEach(n=>{this.addStream(n)}),this._pc.ontrack=n=>{this._onTrack(n)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(n=>{this._addIceCandidate(n)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(n=>{this.destroy(Se(n,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(Se(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const n=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(n).catch(r=>{!n.address||n.address.endsWith(".local")?WR("Ignoring unsupported ICE candidate."):this.destroy(Se(r,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,n){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,n),this._needsNegotiation()}catch(r){this.destroy(Se(r,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:n}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(n=>{this.addTrack(n,t)})}}addTrack(t,n){if(this.destroying)return;if(this.destroyed)throw Se(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const r=this._senderMap.get(t)||new Map;let s=r.get(n);if(!s)s=this._pc.addTrack(t,n),r.set(n,s),this._senderMap.set(t,r),this._needsNegotiation();else throw s.removed?Se(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Se(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,n,r){if(this.destroying)return;if(this.destroyed)throw Se(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const s=this._senderMap.get(t),a=s?s.get(r):null;if(!a)throw Se(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");n&&this._senderMap.set(n,s),a.replaceTrack!=null?a.replaceTrack(n):this.destroy(Se(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,n){if(this.destroying)return;if(this.destroyed)throw Se(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const r=this._senderMap.get(t),s=r?r.get(n):null;if(!s)throw Se(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{s.removed=!0,this._pc.removeTrack(s)}catch(a){a.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(s):this.destroy(Se(a,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(n=>{this.removeTrack(n,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Yc(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw Se(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,n){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),Yc(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),n()}))}_setupData(t){if(!t.channel)return this.destroy(Se(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Gc),this.channelName=this._channel.label,this._channel.onmessage=r=>{this._onChannelMessage(r)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=r=>{const s=r.error instanceof Error?r.error:new Error(`Datachannel error: ${r.message} ${r.filename}:${r.lineno}:${r.colno}`);this.destroy(Se(s,"ERR_DATA_CHANNEL"))};let n=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(n&&this._onChannelClose(),n=!0):n=!1},VR)}_read(){}_write(t,n,r){if(this.destroyed)return r(Se(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(s){return this.destroy(Se(s,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Gc?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=t,this._cb=r}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=ig(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const n=()=>{if(this.destroyed)return;const a=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp})},r=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?n():this.once("_iceComplete",n))},s=a=>{this.destroy(Se(a,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(r).catch(s)}).catch(t=>{this.destroy(Se(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=ig(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const n=()=>{if(this.destroyed)return;const a=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:a.type,sdp:a.sdp}),this.initiator||this._requestMissingTransceivers()},r=()=>{this.destroyed||(this.trickle||this._iceComplete?n():this.once("_iceComplete",n))},s=a=>{this.destroy(Se(a,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(r).catch(s)}).catch(t=>{this.destroy(Se(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(Se(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,n=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,n),this.emit("iceStateChange",t,n),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(Se(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(Se(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const n=r=>(Object.prototype.toString.call(r.values)==="[object Array]"&&r.values.forEach(s=>{Object.assign(r,s)}),r);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(r=>{const s=[];r.forEach(a=>{s.push(n(a))}),t(null,s)},r=>t(r)):this._pc.getStats.length>0?this._pc.getStats(r=>{if(this.destroyed)return;const s=[];r.result().forEach(a=>{const o={};a.names().forEach(l=>{o[l]=a.stat(l)}),o.id=a.id,o.type=a.type,o.timestamp=a.timestamp,s.push(n(o))}),t(null,s)},r=>t(r)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((n,r)=>{if(this.destroyed)return;n&&(r=[]);const s={},a={},o={};let l=!1;r.forEach(u=>{(u.type==="remotecandidate"||u.type==="remote-candidate")&&(s[u.id]=u),(u.type==="localcandidate"||u.type==="local-candidate")&&(a[u.id]=u),(u.type==="candidatepair"||u.type==="candidate-pair")&&(o[u.id]=u)});const c=u=>{l=!0;let p=a[u.localCandidateId];p&&(p.ip||p.address)?(this.localAddress=p.ip||p.address,this.localPort=Number(p.port)):p&&p.ipAddress?(this.localAddress=p.ipAddress,this.localPort=Number(p.portNumber)):typeof u.googLocalAddress=="string"&&(p=u.googLocalAddress.split(":"),this.localAddress=p[0],this.localPort=Number(p[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let g=s[u.remoteCandidateId];g&&(g.ip||g.address)?(this.remoteAddress=g.ip||g.address,this.remotePort=Number(g.port)):g&&g.ipAddress?(this.remoteAddress=g.ipAddress,this.remotePort=Number(g.portNumber)):typeof u.googRemoteAddress=="string"&&(g=u.googRemoteAddress.split(":"),this.remoteAddress=g[0],this.remotePort=Number(g[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(r.forEach(u=>{u.type==="transport"&&u.selectedCandidatePairId&&c(o[u.selectedCandidatePairId]),(u.type==="googCandidatePair"&&u.googActiveConnection==="true"||(u.type==="candidatepair"||u.type==="candidate-pair")&&u.selected)&&c(u)}),!l&&(!Object.keys(o).length||Object.keys(a).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(p){return this.destroy(Se(p,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const u=this._cb;this._cb=null,u(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Gc||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let n=t.data;n instanceof ArrayBuffer&&(n=UR.from(n)),this.push(n)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(n=>{this._debug("on track"),this.emit("track",t.track,n),this._remoteTracks.push({track:t.track,stream:n}),!this._remoteStreams.some(r=>r.id===n.id)&&(this._remoteStreams.push(n),Yc(()=>{this._debug("on stream"),this.emit("stream",n)}))})}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],MR.apply(null,t)}}Ir.WEBRTC_SUPPORT=!!z0();Ir.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:globalThis.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Ir.channelConfig={};var HR=Ir;const qR=Pi(HR),YR=(e,t,n)=>{const[r,s]=E.useState(null),[a,o]=E.useState(new Map),[l,c]=E.useState(null),[u,p]=E.useState(!0),[g,w]=E.useState(!0),[S,N]=E.useState(!1),[j,m]=E.useState([]),[d,f]=E.useState([]),[y,b]=E.useState("unknown"),[C,A]=E.useState(null),[x,k]=E.useState(!1),D=E.useRef(new Map),B=E.useRef(null);E.useEffect(()=>{if(!e||!t)return;const O=ro("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api".replace("/api","")||"http://localhost:5000",{auth:{token:t},transports:["websocket"]});return O.on("connect",()=>{console.log("Connected to signaling server"),k(!0),A(null)}),O.on("disconnect",()=>{console.log("Disconnected from signaling server"),k(!1)}),O.on("connect_error",$=>{console.log("Socket connection error:",$),A("Failed to connect to video call server")}),O.on("room-joined",$=>{console.log("Room joined successfully",$),f($.participants),m($.chatHistory||[])}),O.on("user-joined",$=>{console.log("User joined room",$),f($.participants),B.current&&L($.userId,!1)}),O.on("user-left",$=>{console.log("User left room",$),f($.participants);const U=D.current.get($.userId);U&&(U.destroy(),D.current.delete($.userId),o(new Map(D.current)))}),O.on("webrtc-offer",$=>{console.log("Received WebRTC offer from",$.fromUserId),B.current&&L($.fromUserId,!1,$.offer)}),O.on("webrtc-answer",$=>{console.log("Received WebRTC answer from",$.fromUserId);const U=D.current.get($.fromUserId);U&&U.signal($.answer)}),O.on("webrtc-ice-candidate",$=>{const U=D.current.get($.fromUserId);U&&U.signal($.candidate)}),O.on("user-video-toggled",$=>{console.log("User toggled video",$)}),O.on("user-audio-toggled",$=>{console.log("User toggled audio",$)}),O.on("user-screen-share",$=>{console.log("User toggled screen share",$)}),O.on("chat-message",$=>{m(U=>[...U,$])}),O.on("call-ended",$=>{console.log("Call ended by",$.endedBy),he()}),O.on("error",$=>{console.log("Socket error:",$),A($.message)}),s(O),()=>{he(),O.disconnect()}},[e,t]);const q=E.useCallback(async()=>{try{const O=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});return c(O),B.current=O,ne(),O}catch(O){throw console.log("Failed to get user media:",O),A("Failed to access camera/microphone. Please check permissions."),O}},[]),L=E.useCallback((O,$,U=null)=>{if(!B.current)return;const se=new qR({initiator:$,trickle:!1,stream:B.current,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}});return se.on("signal",I=>{I.type==="offer"?r==null||r.emit("webrtc-offer",{roomId:e,targetUserId:O,offer:I}):I.type==="answer"?r==null||r.emit("webrtc-answer",{roomId:e,targetUserId:O,answer:I}):r==null||r.emit("webrtc-ice-candidate",{roomId:e,targetUserId:O,candidate:I})}),se.on("stream",I=>{console.log("Received remote stream from",O)}),se.on("error",I=>{console.log("Peer connection error:",I),A("Connection error with participant")}),se.on("close",()=>{console.log("Peer connection closed for",O)}),U&&se.signal(U),D.current.set(O,se),o(new Map(D.current)),se},[r,e]),Q=E.useCallback(async()=>{if(!(!r||!e))try{await q(),r.emit("join-room",{roomId:e,appointmentId:n})}catch{A("Failed to join video call")}},[r,e,n,q]),le=E.useCallback(()=>{r&&e&&r.emit("leave-room",{roomId:e}),he()},[r,e]),ce=E.useCallback(()=>{B.current&&(B.current.getVideoTracks().forEach($=>{$.enabled=!$.enabled}),p(!u),r==null||r.emit("toggle-video",{roomId:e,enabled:!u}))},[r,e,u]),re=E.useCallback(()=>{B.current&&(B.current.getAudioTracks().forEach($=>{$.enabled=!$.enabled}),w(!g),r==null||r.emit("toggle-audio",{roomId:e,enabled:!g}))},[r,e,g]),ue=E.useCallback(async()=>{if(S)try{const O=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});c(O),B.current=O,D.current.forEach($=>{$.replaceTrack($.streams[0].getVideoTracks()[0],O.getVideoTracks()[0],$.streams[0])}),N(!1)}catch{A("Failed to stop screen sharing")}else try{const O=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});c(O),B.current=O,D.current.forEach($=>{$.replaceTrack($.streams[0].getVideoTracks()[0],O.getVideoTracks()[0],$.streams[0])}),N(!0),O.getVideoTracks()[0].onended=()=>{ue()}}catch{A("Failed to start screen sharing")}r==null||r.emit("screen-share",{roomId:e,enabled:!S})},[r,e,S,ue]),J=E.useCallback(O=>{r&&O.trim()&&r.emit("chat-message",{roomId:e,message:O.trim(),messageType:"text"})},[r,e]),te=E.useCallback(()=>{r&&r.emit("call-ended",{roomId:e,reason:"manual"}),he()},[r,e]),ne=E.useCallback(()=>{const O=setInterval(()=>{D.current.size>0&&b("good")},5e3);return()=>clearInterval(O)},[]),he=E.useCallback(()=>{B.current&&(B.current.getTracks().forEach(O=>O.stop()),B.current=null,c(null)),D.current.forEach(O=>O.destroy()),D.current.clear(),o(new Map),p(!0),w(!0),N(!1),f([]),m([]),b("unknown")},[]);return{localStream:l,peers:a,isVideoEnabled:u,isAudioEnabled:g,isScreenSharing:S,chatMessages:j,participants:d,connectionQuality:y,error:C,isConnected:x,joinRoom:Q,leaveRoom:le,toggleVideo:ce,toggleAudio:re,toggleScreenShare:ue,sendChatMessage:J,endCall:te,initializeLocalStream:q}};const GR=()=>{const{appointmentId:e}=Df(),t=Dt(),[n,r]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(null),[c,u]=E.useState(""),[p,g]=E.useState(!1),[w,S]=E.useState(0),[N,j]=E.useState(!1),m=E.useRef(null),d=E.useRef(new Map),f=E.useRef(null);E.useEffect(()=>{e&&(async()=>{var se,I;try{a(!0);const V=(await je.post(`/video-calls/appointment/${e}/room`)).data.data;r(V),f.current=new Date;const X=setInterval(()=>{if(f.current){const ae=Math.floor((new Date-f.current)/1e3);S(ae)}},1e3);return()=>clearInterval(X)}catch(F){console.error("Failed to initialize video call room:",F),l(((I=(se=F.response)==null?void 0:se.data)==null?void 0:I.message)||"Failed to start video call")}finally{a(!1)}})()},[e]);const{localStream:y,peers:b,isVideoEnabled:C,isAudioEnabled:A,isScreenSharing:x,chatMessages:k,participants:D,connectionQuality:B,error:q,isConnected:L,joinRoom:Q,leaveRoom:le,toggleVideo:ce,toggleAudio:re,toggleScreenShare:ue,sendChatMessage:J,endCall:te}=YR(n==null?void 0:n.roomId,n==null?void 0:n.webrtcToken,e);E.useEffect(()=>{n&&L&&Q()},[n,L,Q]),E.useEffect(()=>{m.current&&y&&(m.current.srcObject=y)},[y]),E.useEffect(()=>{b.forEach((U,se)=>{if(U.streams&&U.streams[0]){const I=d.current.get(se);I&&(I.srcObject=U.streams[0])}})},[b]);const ne=U=>{const se=Math.floor(U/60),I=U%60;return`${se.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},he=U=>{U.preventDefault(),c.trim()&&(J(c),u(""))},O=async()=>{try{await je.post(`/video-calls/appointment/${e}/end`,{duration:w,quality:B}),te(),t("/dashboard")}catch(U){console.error("Error ending call:",U),te(),t("/dashboard")}},$=()=>{N?document.exitFullscreen():document.documentElement.requestFullscreen(),j(!N)};return s?i.jsxs("div",{className:"video-call-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Initializing video call..."})]}):o||q?i.jsx("div",{className:"video-call-error",children:i.jsxs("div",{className:"error-content",children:[i.jsx("h2",{children:"Video Call Error"}),i.jsx("p",{children:o||q}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"btn primary",children:"Return to Dashboard"})]})}):n?i.jsxs("div",{className:`video-call-room ${N?"fullscreen":""}`,children:[i.jsxs("div",{className:"call-header",children:[i.jsxs("div",{className:"call-info",children:[i.jsx("h2",{children:"Video Consultation"}),i.jsxs("div",{className:"call-details",children:[i.jsxs("span",{className:"participant-info",children:[n.appointmentDetails.doctor.name," & ",n.appointmentDetails.patient.name]}),i.jsx("span",{className:"call-duration",children:ne(w)}),i.jsxs("span",{className:`connection-status ${B}`,children:[B==="good"?"🟢":B==="poor"?"🟡":"🔴"," ",B]})]})]}),i.jsxs("div",{className:"call-actions",children:[i.jsx("button",{onClick:$,className:"btn secondary icon-btn",title:"Toggle Fullscreen",children:"⛶"}),i.jsxs("button",{onClick:()=>g(!p),className:`btn secondary icon-btn ${p?"active":""}`,title:"Toggle Chat",children:["💬 ",k.length>0&&i.jsx("span",{className:"badge",children:k.length})]})]})]}),i.jsxs("div",{className:"video-area",children:[i.jsx("div",{className:"remote-videos",children:D.filter(U=>U.userId!==n.appointmentDetails.patient.id&&U.userId!==n.appointmentDetails.doctor.id).length===0?i.jsxs("div",{className:"waiting-message",children:[i.jsx("h3",{children:"Waiting for other participant to join..."}),i.jsxs("p",{children:["Share this room with: ",n.appointmentDetails.doctor.name," and ",n.appointmentDetails.patient.name]})]}):Array.from(b.entries()).map(([U,se])=>{var I;return i.jsxs("div",{className:"remote-video-container",children:[i.jsx("video",{ref:F=>{F&&d.current.set(U,F)},autoPlay:!0,playsInline:!0,className:"remote-video"}),i.jsx("div",{className:"video-overlay",children:i.jsx("span",{className:"participant-name",children:((I=D.find(F=>F.userId===U))==null?void 0:I.userName)||"Participant"})})]},U)})}),i.jsxs("div",{className:"local-video-container",children:[i.jsx("video",{ref:m,autoPlay:!0,muted:!0,playsInline:!0,className:`local-video ${C?"":"video-off"}`}),i.jsx("div",{className:"video-overlay",children:i.jsx("span",{className:"participant-name",children:"You"})}),!C&&i.jsxs("div",{className:"video-off-indicator",children:[i.jsx("span",{children:"📷"}),i.jsx("p",{children:"Camera Off"})]})]})]}),p&&i.jsxs("div",{className:"chat-panel",children:[i.jsxs("div",{className:"chat-header",children:[i.jsx("h3",{children:"Chat"}),i.jsx("button",{onClick:()=>g(!1),className:"btn secondary small",children:"✕"})]}),i.jsx("div",{className:"chat-messages",children:k.map(U=>i.jsxs("div",{className:`chat-message ${U.userId==="current-user"?"own":""}`,children:[i.jsxs("div",{className:"message-header",children:[i.jsx("span",{className:"sender-name",children:U.userName}),i.jsx("span",{className:"message-time",children:new Date(U.timestamp).toLocaleTimeString()})]}),i.jsx("div",{className:"message-content",children:U.message})]},U.id))}),i.jsxs("form",{onSubmit:he,className:"chat-input-form",children:[i.jsx("input",{type:"text",value:c,onChange:U=>u(U.target.value),placeholder:"Type a message...",className:"chat-input"}),i.jsx("button",{type:"submit",className:"btn primary small",children:"Send"})]})]}),i.jsxs("div",{className:"call-controls",children:[i.jsxs("div",{className:"control-group",children:[i.jsx("button",{onClick:re,className:`btn control-btn ${A?"":"disabled"}`,title:A?"Mute":"Unmute",children:"🎤"}),i.jsx("button",{onClick:ce,className:`btn control-btn ${C?"":"disabled"}`,title:C?"Turn off camera":"Turn on camera",children:"📹"}),i.jsx("button",{onClick:ue,className:`btn control-btn ${x?"active":""}`,title:x?"Stop sharing":"Share screen",children:"🖥️"})]}),i.jsx("button",{onClick:O,className:"btn danger end-call-btn",title:"End call",children:"📞 End Call"})]})]}):i.jsx("div",{className:"video-call-error",children:"No room data available"})};function KR(){De();const{addNotification:e}=He(),[t,n]=E.useState({personalInfo:{firstName:"",lastName:"",email:"",phone:"",bio:"",photo:""},professionalInfo:{specialization:"",licenseNumber:"",experience:"",education:"",certifications:"",consultationFee:""},preferences:{consultationDuration:30,bufferTime:15,maxDailyAppointments:20,autoConfirmBookings:!0,emailNotifications:!0,smsNotifications:!1,timezone:"America/New_York"},availability:{workingDays:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1,sunday:!1},workingHours:{start:"09:00",end:"17:00"}}}),[r,s]=E.useState(!0),[a,o]=E.useState(!1),[l,c]=E.useState("personal"),[u,p]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""});E.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const d=(await je.get("/doctors/profile")).data;d&&n(f=>{var y,b,C,A,x,k,D,B,q;return{...f,personalInfo:{firstName:((b=(y=d.user)==null?void 0:y.profile)==null?void 0:b.firstName)||"",lastName:((A=(C=d.user)==null?void 0:C.profile)==null?void 0:A.lastName)||"",email:((x=d.user)==null?void 0:x.email)||"",phone:((D=(k=d.user)==null?void 0:k.profile)==null?void 0:D.phone)||"",bio:d.bio||"",photo:((q=(B=d.user)==null?void 0:B.profile)==null?void 0:q.photo)||""},professionalInfo:{specialization:d.specialization||"",licenseNumber:d.licenseNumber||"",experience:d.experience||"",education:d.education||"",certifications:d.certifications||"",consultationFee:d.consultationFee||"50"}}})}catch(m){console.error("Error fetching doctor profile:",m),e("Failed to load profile data","error")}finally{s(!1)}},w=(m,d,f)=>{n(y=>({...y,[m]:{...y[m],[d]:f}}))},S=(m,d)=>{n(f=>({...f,availability:{...f.availability,workingDays:{...f.availability.workingDays,[m]:d}}}))},N=async m=>{try{o(!0);let d={};m==="personal"?d={bio:t.personalInfo.bio,user:{profile:{firstName:t.personalInfo.firstName,lastName:t.personalInfo.lastName,phone:t.personalInfo.phone,photo:t.personalInfo.photo}}}:m==="professional"?d={specialization:t.professionalInfo.specialization,licenseNumber:t.professionalInfo.licenseNumber,experience:t.professionalInfo.experience,education:t.professionalInfo.education,certifications:t.professionalInfo.certifications,consultationFee:t.professionalInfo.consultationFee}:m==="preferences"?d={preferences:t.preferences}:m==="availability"&&(d={availability:t.availability}),await je.put("/doctors/profile",d),e("Profile updated successfully","success")}catch(d){console.error("Error saving profile:",d),e("Failed to save profile changes","error")}finally{o(!1)}},j=async()=>{if(u.newPassword!==u.confirmPassword){e("New passwords do not match","error");return}if(u.newPassword.length<8){e("Password must be at least 8 characters long","error");return}try{o(!0),await je.put("/auth/change-password",{currentPassword:u.currentPassword,newPassword:u.newPassword}),e("Password changed successfully","success"),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch{e("Failed to change password","error")}finally{o(!1)}};return r?i.jsxs("div",{className:"doctor-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading settings..."})]}):i.jsxs("div",{className:"doctor-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Settings"}),i.jsx("p",{children:"Manage your profile and preferences"})]}),i.jsxs("div",{className:"settings-container",children:[i.jsxs("div",{className:"settings-tabs",children:[i.jsx("button",{className:`tab ${l==="personal"?"active":""}`,onClick:()=>c("personal"),children:"Personal Info"}),i.jsx("button",{className:`tab ${l==="professional"?"active":""}`,onClick:()=>c("professional"),children:"Professional"}),i.jsx("button",{className:`tab ${l==="preferences"?"active":""}`,onClick:()=>c("preferences"),children:"Preferences"}),i.jsx("button",{className:`tab ${l==="availability"?"active":""}`,onClick:()=>c("availability"),children:"Availability"}),i.jsx("button",{className:`tab ${l==="security"?"active":""}`,onClick:()=>c("security"),children:"Security"})]}),i.jsxs("div",{className:"settings-content",children:[l==="personal"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Personal Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"First Name"}),i.jsx("input",{type:"text",value:t.personalInfo.firstName,onChange:m=>w("personalInfo","firstName",m.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Last Name"}),i.jsx("input",{type:"text",value:t.personalInfo.lastName,onChange:m=>w("personalInfo","lastName",m.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email"}),i.jsx("input",{type:"email",value:t.personalInfo.email,disabled:!0,className:"disabled"}),i.jsx("small",{children:"Email cannot be changed. Contact support if needed."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Phone"}),i.jsx("input",{type:"tel",value:t.personalInfo.phone,onChange:m=>w("personalInfo","phone",m.target.value)})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Bio"}),i.jsx("textarea",{value:t.personalInfo.bio,onChange:m=>w("personalInfo","bio",m.target.value),rows:"4",placeholder:"Tell patients about yourself..."})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>N("personal"),disabled:a,children:a?"Saving...":"Save Personal Info"})]}),l==="professional"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Professional Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Specialization"}),i.jsxs("select",{value:t.professionalInfo.specialization,onChange:m=>w("professionalInfo","specialization",m.target.value),children:[i.jsx("option",{value:"",children:"Select Specialization"}),i.jsx("option",{value:"General Medicine",children:"General Medicine"}),i.jsx("option",{value:"Cardiology",children:"Cardiology"}),i.jsx("option",{value:"Dermatology",children:"Dermatology"}),i.jsx("option",{value:"Orthopedics",children:"Orthopedics"}),i.jsx("option",{value:"Neurology",children:"Neurology"}),i.jsx("option",{value:"Psychiatry",children:"Psychiatry"}),i.jsx("option",{value:"Pediatrics",children:"Pediatrics"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"License Number"}),i.jsx("input",{type:"text",value:t.professionalInfo.licenseNumber,onChange:m=>w("professionalInfo","licenseNumber",m.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Years of Experience"}),i.jsx("input",{type:"number",value:t.professionalInfo.experience,onChange:m=>w("professionalInfo","experience",m.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Consultation Fee ($)"}),i.jsx("input",{type:"number",value:t.professionalInfo.consultationFee,onChange:m=>w("professionalInfo","consultationFee",m.target.value)})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Education"}),i.jsx("textarea",{value:t.professionalInfo.education,onChange:m=>w("professionalInfo","education",m.target.value),rows:"3",placeholder:"Medical school, residency, fellowships..."})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Certifications"}),i.jsx("textarea",{value:t.professionalInfo.certifications,onChange:m=>w("professionalInfo","certifications",m.target.value),rows:"3",placeholder:"Board certifications, additional qualifications..."})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>N("professional"),disabled:a,children:a?"Saving...":"Save Professional Info"})]}),l==="preferences"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Preferences"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Default Consultation Duration (minutes)"}),i.jsxs("select",{value:t.preferences.consultationDuration,onChange:m=>w("preferences","consultationDuration",parseInt(m.target.value)),children:[i.jsx("option",{value:15,children:"15 minutes"}),i.jsx("option",{value:30,children:"30 minutes"}),i.jsx("option",{value:45,children:"45 minutes"}),i.jsx("option",{value:60,children:"60 minutes"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Buffer Time Between Appointments (minutes)"}),i.jsxs("select",{value:t.preferences.bufferTime,onChange:m=>w("preferences","bufferTime",parseInt(m.target.value)),children:[i.jsx("option",{value:0,children:"No buffer"}),i.jsx("option",{value:5,children:"5 minutes"}),i.jsx("option",{value:10,children:"10 minutes"}),i.jsx("option",{value:15,children:"15 minutes"}),i.jsx("option",{value:30,children:"30 minutes"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Maximum Daily Appointments"}),i.jsx("input",{type:"number",min:"1",max:"50",value:t.preferences.maxDailyAppointments,onChange:m=>w("preferences","maxDailyAppointments",parseInt(m.target.value))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Timezone"}),i.jsxs("select",{value:t.preferences.timezone,onChange:m=>w("preferences","timezone",m.target.value),children:[i.jsx("option",{value:"America/New_York",children:"Eastern Time"}),i.jsx("option",{value:"America/Chicago",children:"Central Time"}),i.jsx("option",{value:"America/Denver",children:"Mountain Time"}),i.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]}),i.jsxs("div",{className:"checkbox-group",children:[i.jsx("h3",{children:"Booking Preferences"}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.preferences.autoConfirmBookings,onChange:m=>w("preferences","autoConfirmBookings",m.target.checked)}),"Auto-confirm new bookings"]})]}),i.jsxs("div",{className:"checkbox-group",children:[i.jsx("h3",{children:"Notification Preferences"}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.preferences.emailNotifications,onChange:m=>w("preferences","emailNotifications",m.target.checked)}),"Email notifications"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.preferences.smsNotifications,onChange:m=>w("preferences","smsNotifications",m.target.checked)}),"SMS notifications"]})]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>N("preferences"),disabled:a,children:a?"Saving...":"Save Preferences"})]}),l==="availability"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Availability Settings"}),i.jsxs("div",{className:"availability-section",children:[i.jsx("h3",{children:"Working Days"}),i.jsx("div",{className:"days-grid",children:Object.keys(t.availability.workingDays).map(m=>i.jsxs("label",{className:"day-checkbox",children:[i.jsx("input",{type:"checkbox",checked:t.availability.workingDays[m],onChange:d=>S(m,d.target.checked)}),m.charAt(0).toUpperCase()+m.slice(1)]},m))})]}),i.jsxs("div",{className:"availability-section",children:[i.jsx("h3",{children:"Working Hours"}),i.jsxs("div",{className:"time-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Start Time"}),i.jsx("input",{type:"time",value:t.availability.workingHours.start,onChange:m=>w("availability","workingHours",{...t.availability.workingHours,start:m.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"End Time"}),i.jsx("input",{type:"time",value:t.availability.workingHours.end,onChange:m=>w("availability","workingHours",{...t.availability.workingHours,end:m.target.value})})]})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>N("availability"),disabled:a,children:a?"Saving...":"Save Availability"})]}),l==="security"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Security Settings"}),i.jsxs("div",{className:"security-section",children:[i.jsx("h3",{children:"Change Password"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Current Password"}),i.jsx("input",{type:"password",value:u.currentPassword,onChange:m=>p({...u,currentPassword:m.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"New Password"}),i.jsx("input",{type:"password",value:u.newPassword,onChange:m=>p({...u,newPassword:m.target.value})})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Confirm New Password"}),i.jsx("input",{type:"password",value:u.confirmPassword,onChange:m=>p({...u,confirmPassword:m.target.value})})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:j,disabled:a||!u.currentPassword||!u.newPassword,children:a?"Changing...":"Change Password"})]}),i.jsxs("div",{className:"security-section",children:[i.jsx("h3",{children:"Account Security"}),i.jsxs("div",{className:"security-info",children:[i.jsx("p",{children:"✅ Account verified"}),i.jsx("p",{children:"✅ Two-factor authentication enabled"}),i.jsx("p",{children:"✅ HIPAA compliant"})]})]})]})]})]})]})}function QR(){De();const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState("all"),[l,c]=E.useState(""),[u,p]=E.useState("");E.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const j=await je.get("/doctors");n(j.data||[])}catch(j){console.error("Error fetching doctors:",j),e("Failed to load doctors","error")}finally{s(!1)}},w=async(j,m)=>{try{await je.put(`/admin/doctors/${j}/status`,{status:m}),e(`Doctor ${m} successfully`,"success"),g()}catch{e("Failed to update doctor status","error")}},S=t.filter(j=>{var y,b,C,A,x;const m=!l||`${(b=(y=j.user)==null?void 0:y.profile)==null?void 0:b.firstName} ${(A=(C=j.user)==null?void 0:C.profile)==null?void 0:A.lastName}`.toLowerCase().includes(l.toLowerCase())||((x=j.specialization)==null?void 0:x.toLowerCase().includes(l.toLowerCase())),d=!u||j.specialization===u,f=a==="all"||j.verificationStatus===a;return m&&d&&f}),N=[...new Set(t.map(j=>j.specialization).filter(Boolean))];return r?i.jsxs("div",{className:"admin-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading doctors..."})]}):i.jsxs("div",{className:"admin-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Doctor Management"}),i.jsx("p",{children:"Manage doctor accounts and verifications"})]}),i.jsxs("div",{className:"filters-section",children:[i.jsx("div",{className:"search-bar",children:i.jsx("input",{type:"text",placeholder:"Search doctors...",value:l,onChange:j=>c(j.target.value)})}),i.jsxs("div",{className:"filter-controls",children:[i.jsxs("select",{value:a,onChange:j=>o(j.target.value),children:[i.jsx("option",{value:"all",children:"All Doctors"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"pending",children:"Pending Verification"}),i.jsx("option",{value:"rejected",children:"Rejected"})]}),i.jsxs("select",{value:u,onChange:j=>p(j.target.value),children:[i.jsx("option",{value:"",children:"All Specialties"}),N.map(j=>i.jsx("option",{value:j,children:j},j))]})]})]}),i.jsxs("div",{className:"stats-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.filter(j=>j.verificationStatus==="verified").length}),i.jsx("p",{children:"Verified Doctors"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.filter(j=>j.verificationStatus==="pending").length}),i.jsx("p",{children:"Pending Verification"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total Doctors"})]})]}),i.jsxs("div",{className:"doctors-table",children:[i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Doctor"}),i.jsx("th",{children:"Specialization"}),i.jsx("th",{children:"License"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Joined"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:S.map(j=>{var m,d,f,y,b,C,A,x;return i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"doctor-info",children:[i.jsx("img",{src:((d=(m=j.user)==null?void 0:m.profile)==null?void 0:d.photo)||"/default-doctor.png",alt:"Doctor",className:"doctor-avatar"}),i.jsxs("div",{children:[i.jsxs("div",{className:"doctor-name",children:[(y=(f=j.user)==null?void 0:f.profile)==null?void 0:y.firstName," ",(C=(b=j.user)==null?void 0:b.profile)==null?void 0:C.lastName]}),i.jsx("div",{className:"doctor-email",children:(A=j.user)==null?void 0:A.email})]})]})}),i.jsx("td",{children:j.specialization||"Not specified"}),i.jsx("td",{children:j.licenseNumber||"Not provided"}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${j.verificationStatus||"pending"}`,children:j.verificationStatus||"pending"})}),i.jsx("td",{children:new Date(((x=j.user)==null?void 0:x.createdAt)||j.createdAt).toLocaleDateString()}),i.jsx("td",{children:i.jsxs("div",{className:"action-buttons",children:[j.verificationStatus!=="verified"&&i.jsx("button",{className:"btn btn-success",onClick:()=>w(j._id,"verified"),children:"Verify"}),j.verificationStatus!=="rejected"&&i.jsx("button",{className:"btn btn-danger",onClick:()=>w(j._id,"rejected"),children:"Reject"}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>window.open(`/doctors/${j._id}`,"_blank"),children:"View Profile"})]})})]},j._id)})})]}),S.length===0&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No doctors found matching your criteria."})})]})]})}function JR(){De();const{addNotification:e}=He(),[t,n]=E.useState([]),[r,s]=E.useState(!0),[a,o]=E.useState("all"),[l,c]=E.useState(""),[u,p]=E.useState("");E.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const m=await je.get("/appointments");n(m.data||[])}catch(m){console.error("Error fetching appointments:",m),e("Failed to load appointments","error")}finally{s(!1)}},w=async(m,d)=>{try{await je.put(`/appointments/${m}`,{status:d}),e(`Appointment ${d} successfully`,"success"),g()}catch{e("Failed to update appointment status","error")}},S=t.filter(m=>{var b,C,A,x,k,D,B,q,L,Q,le,ce,re,ue;const d=!l||((A=(C=(b=m.patient)==null?void 0:b.profile)==null?void 0:C.firstName)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((D=(k=(x=m.patient)==null?void 0:x.profile)==null?void 0:k.lastName)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))||((Q=(L=(q=(B=m.doctor)==null?void 0:B.user)==null?void 0:q.profile)==null?void 0:L.firstName)==null?void 0:Q.toLowerCase().includes(l.toLowerCase()))||((ue=(re=(ce=(le=m.doctor)==null?void 0:le.user)==null?void 0:ce.profile)==null?void 0:re.lastName)==null?void 0:ue.toLowerCase().includes(l.toLowerCase())),f=a==="all"||m.status===a,y=!u||new Date(m.date).toDateString()===new Date(u).toDateString();return d&&f&&y}),N=m=>new Date(m).toLocaleString(),j=m=>{switch(m){case"scheduled":return"#2563eb";case"completed":return"#10b981";case"cancelled":return"#dc2626";case"no-show":return"#f59e0b";default:return"#6b7280"}};return r?i.jsxs("div",{className:"admin-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading appointments..."})]}):i.jsxs("div",{className:"admin-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Appointment Management"}),i.jsx("p",{children:"Monitor and manage all appointments"})]}),i.jsxs("div",{className:"filters-section",children:[i.jsx("div",{className:"search-bar",children:i.jsx("input",{type:"text",placeholder:"Search by patient or doctor name...",value:l,onChange:m=>c(m.target.value)})}),i.jsxs("div",{className:"filter-controls",children:[i.jsxs("select",{value:a,onChange:m=>o(m.target.value),children:[i.jsx("option",{value:"all",children:"All Appointments"}),i.jsx("option",{value:"scheduled",children:"Scheduled"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"cancelled",children:"Cancelled"}),i.jsx("option",{value:"no-show",children:"No Show"})]}),i.jsx("input",{type:"date",value:u,onChange:m=>p(m.target.value),placeholder:"Filter by date"})]})]}),i.jsxs("div",{className:"stats-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.filter(m=>m.status==="scheduled").length}),i.jsx("p",{children:"Scheduled"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.filter(m=>m.status==="completed").length}),i.jsx("p",{children:"Completed"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.filter(m=>m.status==="cancelled").length}),i.jsx("p",{children:"Cancelled"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total"})]})]}),i.jsxs("div",{className:"appointments-table",children:[i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Patient"}),i.jsx("th",{children:"Doctor"}),i.jsx("th",{children:"Date & Time"}),i.jsx("th",{children:"Type"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Reason"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:S.map(m=>{var d,f,y,b,C,A,x,k,D,B,q,L;return i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"patient-info",children:[i.jsxs("div",{className:"patient-name",children:[(f=(d=m.patient)==null?void 0:d.profile)==null?void 0:f.firstName," ",(b=(y=m.patient)==null?void 0:y.profile)==null?void 0:b.lastName]}),i.jsx("div",{className:"patient-email",children:(C=m.patient)==null?void 0:C.email})]})}),i.jsx("td",{children:i.jsxs("div",{className:"doctor-info",children:[i.jsxs("div",{className:"doctor-name",children:[(k=(x=(A=m.doctor)==null?void 0:A.user)==null?void 0:x.profile)==null?void 0:k.firstName," ",(q=(B=(D=m.doctor)==null?void 0:D.user)==null?void 0:B.profile)==null?void 0:q.lastName]}),i.jsx("div",{className:"doctor-specialty",children:(L=m.doctor)==null?void 0:L.specialization})]})}),i.jsx("td",{children:i.jsxs("div",{className:"datetime-info",children:[i.jsx("div",{className:"date",children:N(m.date)}),i.jsxs("div",{className:"duration",children:[m.duration||30," min"]})]})}),i.jsx("td",{children:m.type||"Consultation"}),i.jsx("td",{children:i.jsx("span",{className:"status-badge",style:{backgroundColor:j(m.status)},children:m.status})}),i.jsx("td",{children:i.jsx("div",{className:"reason",title:m.reason,children:m.reason?m.reason.length>30?m.reason.substring(0,30)+"...":m.reason:"No reason provided"})}),i.jsx("td",{children:i.jsxs("div",{className:"action-buttons",children:[m.status==="scheduled"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn btn-success",onClick:()=>w(m._id,"completed"),children:"Complete"}),i.jsx("button",{className:"btn btn-danger",onClick:()=>w(m._id,"cancelled"),children:"Cancel"})]}),i.jsx("button",{className:"btn btn-secondary",onClick:()=>{console.log("View appointment details:",m._id)},children:"Details"})]})})]},m._id)})})]}),S.length===0&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"No appointments found matching your criteria."})})]}),i.jsxs("div",{className:"appointment-insights",children:[i.jsx("h2",{children:"Appointment Insights"}),i.jsxs("div",{className:"insights-grid",children:[i.jsxs("div",{className:"insight-card",children:[i.jsx("h3",{children:"Most Popular Time"}),i.jsx("p",{children:"2:00 PM - 4:00 PM"})]}),i.jsxs("div",{className:"insight-card",children:[i.jsx("h3",{children:"Average Duration"}),i.jsx("p",{children:"32 minutes"})]}),i.jsxs("div",{className:"insight-card",children:[i.jsx("h3",{children:"Completion Rate"}),i.jsxs("p",{children:[t.length>0?Math.round(t.filter(m=>m.status==="completed").length/t.length*100):0,"%"]})]}),i.jsxs("div",{className:"insight-card",children:[i.jsx("h3",{children:"No-Show Rate"}),i.jsxs("p",{children:[t.length>0?Math.round(t.filter(m=>m.status==="no-show").length/t.length*100):0,"%"]})]})]})]})]})}function XR(){De();const{addNotification:e}=He(),[t,n]=E.useState({overview:{totalUsers:0,totalDoctors:0,totalPatients:0,totalAppointments:0,completedAppointments:0,revenue:0},growth:{newUsers:0,newAppointments:0,userGrowthRate:0,appointmentGrowthRate:0},usage:{averageAppointmentsPerDoctor:0,averageAppointmentsPerPatient:0,completionRate:0,popularSpecialties:[]},performance:{dailyData:{},topDoctors:[],recentActivity:[]}}),[r,s]=E.useState(!0),[a,o]=E.useState("30");E.useEffect(()=>{l()},[a]);const l=async()=>{var g;try{s(!0);const[w,S,N,j]=await Promise.all([je.get("/admin/users"),je.get("/doctors"),je.get("/appointments"),je.get("/admin/stats")]),m=Array.isArray((g=w.data)==null?void 0:g.users)?w.data.users:[],d=Array.isArray(S.data)?S.data:[],f=Array.isArray(N.data)?N.data:[],y=j.data||{},b=y.totalUsers||m.length,C=y.doctorCount||d.length,A=y.patientCount||m.filter(re=>re.role==="patient").length,x=y.appointmentCount||f.length,k=y.completedCount||f.filter(re=>re.status==="completed").length,D=y.scheduledCount||f.filter(re=>re.status==="scheduled").length,B=y.cancelledCount||f.filter(re=>re.status==="cancelled").length,q=k*50,L=new Date;L.setDate(L.getDate()-parseInt(a));const Q=m.filter(re=>new Date(re.createdAt)>=L),le=f.filter(re=>new Date(re.createdAt)>=L),ce={};for(let re=parseInt(a);re>=0;re--){const ue=new Date;ue.setDate(ue.getDate()-re);const J=ue.toISOString().split("T")[0];ce[J]={newUsers:0,appointments:0,revenue:0}}Q.forEach(re=>{const ue=new Date(re.createdAt).toISOString().split("T")[0];ce[ue]&&ce[ue].newUsers++}),le.forEach(re=>{const ue=new Date(re.createdAt).toISOString().split("T")[0];ce[ue]&&(ce[ue].appointments++,re.status==="completed"&&(ce[ue].revenue+=50))}),n({overview:{totalUsers:b,totalDoctors:C,totalPatients:A,totalAppointments:x,completedAppointments:k,revenue:q},growth:{newUsers:Q.length,newAppointments:le.length,userGrowthRate:b>0?Math.round(Q.length/b*100):0,appointmentGrowthRate:x>0?Math.round(le.length/x*100):0},usage:{averageAppointmentsPerDoctor:C>0?Math.round(x/C):0,averageAppointmentsPerPatient:A>0?Math.round(x/A):0,completionRate:x>0?Math.round(k/x*100):0,popularSpecialties:c(d,f)},performance:{dailyData:ce,topDoctors:u(d,f),recentActivity:p(m,f)}})}catch(w){console.error("Error fetching analytics:",w),e("Failed to load analytics data","error")}finally{s(!1)}},c=(g,w)=>{try{const S={},N=Array.isArray(g)?g:[],j=Array.isArray(w)?w:[];return N.forEach(m=>{const d=m.specialty||m.specialization||"General";S[d]=(S[d]||0)+1}),j.forEach(m=>{var f,y;const d=((f=m.doctor)==null?void 0:f.specialty)||((y=m.doctor)==null?void 0:y.specialization)||"General";d!=="General"&&(S[d]=(S[d]||0)+1)}),Object.entries(S).sort(([,m],[,d])=>d-m).slice(0,5).map(([m,d])=>({specialty:m,count:d}))}catch(S){return console.error("Error calculating popular specialties:",S),[]}},u=(g,w)=>{try{const S=Array.isArray(g)?g:[],N=Array.isArray(w)?w:[],j={};return S.forEach(m=>{j[m.id||m._id]={doctor:m,appointmentCount:0,completedCount:0}}),N.forEach(m=>{var f,y;const d=m.doctorId||((f=m.doctor)==null?void 0:f.id)||((y=m.doctor)==null?void 0:y._id);d&&j[d]&&(j[d].appointmentCount++,m.status==="completed"&&j[d].completedCount++)}),Object.values(j).sort((m,d)=>d.appointmentCount-m.appointmentCount).slice(0,5)}catch(S){return console.error("Error getting top doctors:",S),[]}},p=(g,w)=>{try{const S=[],N=Array.isArray(g)?g:[],j=Array.isArray(w)?w:[];return N.slice(-5).forEach(m=>{var d,f;S.push({type:"user_registered",message:`New ${m.role||"user"} registered: ${((d=m.profile)==null?void 0:d.firstName)||m.firstName||"Unknown"} ${((f=m.profile)==null?void 0:f.lastName)||m.lastName||"User"}`,timestamp:m.createdAt||new Date().toISOString()})}),j.slice(-5).forEach(m=>{var f,y,b;const d=((y=(f=m.doctor)==null?void 0:f.profile)==null?void 0:y.firstName)||((b=m.doctor)==null?void 0:b.firstName)||"Unknown Doctor";S.push({type:"appointment_created",message:`New appointment scheduled with ${d}`,timestamp:m.createdAt||new Date().toISOString()})}),S.sort((m,d)=>new Date(d.timestamp)-new Date(m.timestamp)).slice(0,10)}catch(S){return console.error("Error getting recent activity:",S),[]}};return r?i.jsxs("div",{className:"admin-page",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Loading analytics..."})]}):i.jsxs("div",{className:"admin-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Platform Analytics"}),i.jsxs("div",{className:"time-filter",children:[i.jsx("label",{children:"Time Range:"}),i.jsxs("select",{value:a,onChange:g=>o(g.target.value),children:[i.jsx("option",{value:"7",children:"Last 7 days"}),i.jsx("option",{value:"30",children:"Last 30 days"}),i.jsx("option",{value:"90",children:"Last 3 months"}),i.jsx("option",{value:"365",children:"Last year"})]})]})]}),i.jsxs("div",{className:"analytics-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👥"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.totalUsers}),i.jsx("p",{children:"Total Users"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👨‍⚕️"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.totalDoctors}),i.jsx("p",{children:"Doctors"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🤒"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.totalPatients}),i.jsx("p",{children:"Patients"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.totalAppointments}),i.jsx("p",{children:"Appointments"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"✅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.overview.completedAppointments}),i.jsx("p",{children:"Completed"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💰"}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("h3",{children:["$",t.overview.revenue]}),i.jsx("p",{children:"Revenue"})]})]})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h2",{children:"Growth Metrics"}),i.jsxs("div",{className:"growth-grid",children:[i.jsxs("div",{className:"growth-card",children:[i.jsx("h3",{children:"New Users"}),i.jsx("div",{className:"growth-number",children:t.growth.newUsers}),i.jsxs("div",{className:"growth-rate",children:["+",t.growth.userGrowthRate,"% of total"]})]}),i.jsxs("div",{className:"growth-card",children:[i.jsx("h3",{children:"New Appointments"}),i.jsx("div",{className:"growth-number",children:t.growth.newAppointments}),i.jsxs("div",{className:"growth-rate",children:["+",t.growth.appointmentGrowthRate,"% of total"]})]})]})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h2",{children:"Usage Statistics"}),i.jsxs("div",{className:"usage-grid",children:[i.jsxs("div",{className:"usage-card",children:[i.jsx("h3",{children:"Avg Appointments/Doctor"}),i.jsx("div",{className:"usage-number",children:t.usage.averageAppointmentsPerDoctor})]}),i.jsxs("div",{className:"usage-card",children:[i.jsx("h3",{children:"Avg Appointments/Patient"}),i.jsx("div",{className:"usage-number",children:t.usage.averageAppointmentsPerPatient})]}),i.jsxs("div",{className:"usage-card",children:[i.jsx("h3",{children:"Completion Rate"}),i.jsxs("div",{className:"usage-number",children:[t.usage.completionRate,"%"]})]})]})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h2",{children:"Popular Specialties"}),i.jsxs("div",{className:"specialties-list",children:[(t.usage.popularSpecialties||[]).map((g,w)=>{var N,j;const S=((j=(N=t.usage.popularSpecialties)==null?void 0:N[0])==null?void 0:j.count)||1;return i.jsxs("div",{className:"specialty-item",children:[i.jsx("span",{className:"specialty-name",children:g.specialty}),i.jsxs("span",{className:"specialty-count",children:[g.count," appointments"]}),i.jsx("div",{className:"specialty-bar",children:i.jsx("div",{className:"specialty-fill",style:{width:`${Math.min(g.count/S*100,100)}%`}})})]},w)}),(!t.usage.popularSpecialties||t.usage.popularSpecialties.length===0)&&i.jsx("div",{className:"no-data",children:"No specialty data available"})]})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h2",{children:"Top Performing Doctors"}),i.jsxs("div",{className:"top-doctors",children:[(t.performance.topDoctors||[]).map((g,w)=>{var S,N,j,m,d,f,y,b;return i.jsxs("div",{className:"doctor-stat",children:[i.jsxs("div",{className:"doctor-rank",children:["#",w+1]}),i.jsxs("div",{className:"doctor-info",children:[i.jsxs("div",{className:"doctor-name",children:[((N=(S=g.doctor)==null?void 0:S.profile)==null?void 0:N.firstName)||((j=g.doctor)==null?void 0:j.firstName)||"Dr."," ",((d=(m=g.doctor)==null?void 0:m.profile)==null?void 0:d.lastName)||((f=g.doctor)==null?void 0:f.lastName)||"Unknown"]}),i.jsx("div",{className:"doctor-specialty",children:((y=g.doctor)==null?void 0:y.specialty)||((b=g.doctor)==null?void 0:b.specialization)||"General"})]}),i.jsxs("div",{className:"doctor-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-value",children:g.appointmentCount||0}),i.jsx("span",{className:"metric-label",children:"Appointments"})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-value",children:g.completedCount||0}),i.jsx("span",{className:"metric-label",children:"Completed"})]})]})]},w)}),(!t.performance.topDoctors||t.performance.topDoctors.length===0)&&i.jsx("div",{className:"no-data",children:"No doctor performance data available"})]})]}),i.jsxs("div",{className:"analytics-section",children:[i.jsx("h2",{children:"Recent Activity"}),i.jsxs("div",{className:"activity-feed",children:[(t.performance.recentActivity||[]).map((g,w)=>i.jsxs("div",{className:"activity-item",children:[i.jsx("div",{className:"activity-icon",children:g.type==="user_registered"?"👤":"📅"}),i.jsxs("div",{className:"activity-content",children:[i.jsx("div",{className:"activity-message",children:g.message}),i.jsx("div",{className:"activity-time",children:new Date(g.timestamp).toLocaleString()})]})]},w)),(!t.performance.recentActivity||t.performance.recentActivity.length===0)&&i.jsx("div",{className:"no-data",children:"No recent activity"})]})]})]})}const ZR=()=>{const[e,t]=E.useState("platform"),[n,r]=E.useState(!1),[s,a]=E.useState(""),[o,l]=E.useState({siteName:"TeleMed Platform",siteDescription:"Modern telemedicine platform for healthcare providers",allowRegistration:!0,requireEmailVerification:!0,enableVideoCalss:!0,maintenanceMode:!1,maxAppointmentsPerDay:50,appointmentDuration:30,timeZone:"America/New_York"}),[c,u]=E.useState({autoApprovePatients:!0,requireDoctorVerification:!0,sessionTimeout:60,passwordComplexity:"medium",maxLoginAttempts:5,lockoutDuration:30}),[p,g]=E.useState({emailEnabled:!0,smsEnabled:!1,pushEnabled:!0,adminNotifications:!0,systemAlerts:!0,appointmentReminders:!0,marketingEmails:!1}),[w,S]=E.useState({acceptPayments:!0,paymentProvider:"stripe",currency:"USD",consultationFee:75,platformFee:10,refundPolicy:"Within 24 hours",autoRefunds:!1}),[N,j]=E.useState({enableTwoFactor:!1,requireHttps:!0,enableAuditLogs:!0,dataRetentionDays:365,enableBackups:!0,backupFrequency:"daily",encryptSensitiveData:!0}),m=(x,k)=>{l(D=>({...D,[x]:k}))},d=(x,k)=>{u(D=>({...D,[x]:k}))},f=(x,k)=>{g(D=>({...D,[x]:k}))},y=(x,k)=>{S(D=>({...D,[x]:k}))},b=(x,k)=>{j(D=>({...D,[x]:k}))},C=async x=>{try{r(!0),await new Promise(k=>setTimeout(k,1e3)),a(`${x} settings saved successfully!`),setTimeout(()=>a(""),3e3)}catch(k){a("Error saving settings. Please try again."),console.error("Error saving settings:",k)}finally{r(!1)}},A=[{id:"platform",label:"Platform",icon:"⚙️"},{id:"users",label:"User Management",icon:"👥"},{id:"notifications",label:"Notifications",icon:"🔔"},{id:"payments",label:"Payments",icon:"💳"},{id:"security",label:"Security",icon:"🔒"}];return i.jsxs("div",{className:"admin-settings-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Admin Settings"}),i.jsx("p",{children:"Configure platform settings and preferences"})]}),s&&i.jsx("div",{className:`save-message ${s.includes("Error")?"error":"success"}`,children:s}),i.jsxs("div",{className:"settings-container",children:[i.jsx("div",{className:"settings-tabs",children:A.map(x=>i.jsxs("button",{className:`tab-button ${e===x.id?"active":""}`,onClick:()=>t(x.id),children:[i.jsx("span",{className:"tab-icon",children:x.icon}),x.label]},x.id))}),i.jsxs("div",{className:"settings-content",children:[e==="platform"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Platform Configuration"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("platform")},children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Site Name"}),i.jsx("input",{type:"text",value:o.siteName,onChange:x=>m("siteName",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Time Zone"}),i.jsxs("select",{value:o.timeZone,onChange:x=>m("timeZone",x.target.value),children:[i.jsx("option",{value:"America/New_York",children:"Eastern Time"}),i.jsx("option",{value:"America/Chicago",children:"Central Time"}),i.jsx("option",{value:"America/Denver",children:"Mountain Time"}),i.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Site Description"}),i.jsx("textarea",{value:o.siteDescription,onChange:x=>m("siteDescription",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Max Appointments Per Day"}),i.jsx("input",{type:"number",value:o.maxAppointmentsPerDay,onChange:x=>m("maxAppointmentsPerDay",parseInt(x.target.value))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Default Appointment Duration (minutes)"}),i.jsxs("select",{value:o.appointmentDuration,onChange:x=>m("appointmentDuration",parseInt(x.target.value)),children:[i.jsx("option",{value:15,children:"15 minutes"}),i.jsx("option",{value:30,children:"30 minutes"}),i.jsx("option",{value:45,children:"45 minutes"}),i.jsx("option",{value:60,children:"60 minutes"})]})]})]}),i.jsx("h3",{children:"Feature Toggles"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:o.allowRegistration,onChange:x=>m("allowRegistration",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Allow new user registration"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:o.requireEmailVerification,onChange:x=>m("requireEmailVerification",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Require email verification"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:o.enableVideoCalss,onChange:x=>m("enableVideoCalss",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable video calls"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:o.maintenanceMode,onChange:x=>m("maintenanceMode",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Maintenance mode"]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Platform Settings"})]})]}),e==="users"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"User Management"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("user management")},children:[i.jsx("h3",{children:"User Approval"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:c.autoApprovePatients,onChange:x=>d("autoApprovePatients",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Auto-approve patient registrations"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:c.requireDoctorVerification,onChange:x=>d("requireDoctorVerification",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Require manual verification for doctors"]})]}),i.jsx("h3",{children:"Security Policies"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Session Timeout (minutes)"}),i.jsx("input",{type:"number",value:c.sessionTimeout,onChange:x=>d("sessionTimeout",parseInt(x.target.value))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Password Complexity"}),i.jsxs("select",{value:c.passwordComplexity,onChange:x=>d("passwordComplexity",x.target.value),children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Max Login Attempts"}),i.jsx("input",{type:"number",value:c.maxLoginAttempts,onChange:x=>d("maxLoginAttempts",parseInt(x.target.value))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Lockout Duration (minutes)"}),i.jsx("input",{type:"number",value:c.lockoutDuration,onChange:x=>d("lockoutDuration",parseInt(x.target.value))})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save User Settings"})]})]}),e==="notifications"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Notification Configuration"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("notification")},children:[i.jsx("h3",{children:"Communication Channels"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.emailEnabled,onChange:x=>f("emailEnabled",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Email notifications"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.smsEnabled,onChange:x=>f("smsEnabled",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"SMS notifications"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.pushEnabled,onChange:x=>f("pushEnabled",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Push notifications"]})]}),i.jsx("h3",{children:"Notification Types"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.adminNotifications,onChange:x=>f("adminNotifications",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Admin notifications"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.systemAlerts,onChange:x=>f("systemAlerts",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"System alerts"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.appointmentReminders,onChange:x=>f("appointmentReminders",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Appointment reminders"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.marketingEmails,onChange:x=>f("marketingEmails",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Marketing emails"]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Notification Settings"})]})]}),e==="payments"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Payment Configuration"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("payment")},children:[i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.acceptPayments,onChange:x=>y("acceptPayments",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Accept online payments"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.autoRefunds,onChange:x=>y("autoRefunds",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable automatic refunds"]})]}),w.acceptPayments&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:"Payment Configuration"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Payment Provider"}),i.jsxs("select",{value:w.paymentProvider,onChange:x=>y("paymentProvider",x.target.value),children:[i.jsx("option",{value:"stripe",children:"Stripe"}),i.jsx("option",{value:"paypal",children:"PayPal"}),i.jsx("option",{value:"square",children:"Square"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Currency"}),i.jsxs("select",{value:w.currency,onChange:x=>y("currency",x.target.value),children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"CAD",children:"CAD"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Default Consultation Fee"}),i.jsx("input",{type:"number",value:w.consultationFee,onChange:x=>y("consultationFee",parseFloat(x.target.value))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Platform Fee (%)"}),i.jsx("input",{type:"number",value:w.platformFee,onChange:x=>y("platformFee",parseFloat(x.target.value))})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Refund Policy"}),i.jsx("textarea",{value:w.refundPolicy,onChange:x=>y("refundPolicy",x.target.value)})]})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Payment Settings"})]})]}),e==="security"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Security Configuration"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("security")},children:[i.jsx("h3",{children:"Authentication & Access"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.enableTwoFactor,onChange:x=>b("enableTwoFactor",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable two-factor authentication"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.requireHttps,onChange:x=>b("requireHttps",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Require HTTPS connections"]})]}),i.jsx("h3",{children:"Data Protection"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.enableAuditLogs,onChange:x=>b("enableAuditLogs",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable audit logging"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.encryptSensitiveData,onChange:x=>b("encryptSensitiveData",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Encrypt sensitive data"]})]}),i.jsx("div",{className:"form-grid",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Data Retention (days)"}),i.jsx("input",{type:"number",value:N.dataRetentionDays,onChange:x=>b("dataRetentionDays",parseInt(x.target.value))})]})}),i.jsx("h3",{children:"Backup Configuration"}),i.jsx("div",{className:"checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.enableBackups,onChange:x=>b("enableBackups",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable automatic backups"]})}),N.enableBackups&&i.jsx("div",{className:"form-grid",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Backup Frequency"}),i.jsxs("select",{value:N.backupFrequency,onChange:x=>b("backupFrequency",x.target.value),children:[i.jsx("option",{value:"hourly",children:"Hourly"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"})]})]})}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Security Settings"})]})]})]})]})]})};const e2=()=>{const e=Dt(),[t,n]=E.useState(null),[r,s]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!0),[u,p]=E.useState("");E.useEffect(()=>{g()},[]);const g=async()=>{var j,m;try{c(!0);const f=await fetch("https://stunning-journey-wv5pxxvw49xh565g-5000.app.github.dev/api/appointments",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(f.ok){const y=await f.json(),b=new Date,C=y.filter(D=>D.status==="scheduled"&&new Date(D.date)>b).sort((D,B)=>new Date(D.date)-new Date(B.date)).map(D=>{var B,q;return{id:D._id,doctorName:D.doctor?`Dr. ${D.doctor.profile.firstName} ${D.doctor.profile.lastName}`:"Doctor Assigned",specialty:((q=(B=D.doctor)==null?void 0:B.profile)==null?void 0:q.specialization)||"General Medicine",scheduledTime:D.date,type:D.reason||"Consultation",meetingLink:D.meetingUrl||`https://meet.telemedicine.com/room/${D._id}`,duration:D.duration||30}}),A=y.filter(D=>D.status==="completed").sort((D,B)=>new Date(B.date)-new Date(D.date)).map(D=>{var B,q;return{id:D._id,doctorName:D.doctor?`Dr. ${D.doctor.profile.firstName} ${D.doctor.profile.lastName}`:"Doctor",specialty:((q=(B=D.doctor)==null?void 0:B.profile)==null?void 0:q.specialization)||"General Medicine",date:D.date,duration:`${D.duration||30} minutes`,type:D.reason||"Consultation",status:"completed",recording:"not-available",notes:D.notes}}),x=y.find(D=>{const B=new Date(D.date),q=new Date(B.getTime()+(D.duration||30)*6e4);return D.status==="scheduled"&&B<=b&&b<=q}),k=x?{id:x._id,doctorName:x.doctor?`Dr. ${x.doctor.profile.firstName} ${x.doctor.profile.lastName}`:"Doctor",specialty:((m=(j=x.doctor)==null?void 0:j.profile)==null?void 0:m.specialization)||"General Medicine",startTime:x.date,meetingLink:x.meetingUrl||`https://meet.telemedicine.com/room/${x._id}`,type:x.reason||"Consultation"}:null;n(k),s(C),o(A)}else throw new Error(`Failed to fetch appointments: ${f.status}`)}catch(d){p("Failed to load video call data"),console.error("Error fetching video call data:",d),n(null),s([]),o([])}finally{c(!1)}},w=j=>{e(`/video-call/${j}`)},S=j=>new Date(j).toLocaleString(),N=j=>{const m=new Date,f=new Date(j).getTime()-m.getTime();return f<=15*60*1e3&&f>=-5*60*1e3};return l?i.jsx("div",{className:"patient-video-calls-page",children:i.jsx("div",{className:"loading-spinner",children:"Loading video calls..."})}):i.jsxs("div",{className:"patient-video-calls-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Video Calls"}),i.jsx("p",{children:"Manage your video consultations with doctors"})]}),u&&i.jsx("div",{className:"error-message",children:u}),t&&i.jsxs("div",{className:"active-call-section",children:[i.jsx("h2",{children:"Active Call"}),i.jsxs("div",{className:"active-call-card",children:[i.jsxs("div",{className:"call-info",children:[i.jsx("h3",{children:t.doctorName}),i.jsx("p",{children:t.specialty}),i.jsxs("p",{children:["Started: ",S(t.startTime)]})]}),i.jsxs("div",{className:"call-actions",children:[i.jsx("button",{className:"btn-rejoin",onClick:()=>w(t.id),children:"Rejoin Call"}),i.jsx("button",{className:"btn-end-call",children:"End Call"})]})]})]}),i.jsxs("div",{className:"upcoming-calls-section",children:[i.jsx("h2",{children:"Upcoming Calls"}),r.length===0?i.jsx("div",{className:"no-data",children:i.jsx("p",{children:"No upcoming video calls scheduled"})}):i.jsx("div",{className:"calls-grid",children:r.map(j=>i.jsxs("div",{className:"call-card",children:[i.jsxs("div",{className:"call-header",children:[i.jsx("h3",{children:j.doctorName}),i.jsx("span",{className:"call-type",children:j.type})]}),i.jsxs("div",{className:"call-details",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Specialty:"})," ",j.specialty]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Scheduled:"})," ",S(j.scheduledTime)]})]}),i.jsxs("div",{className:"call-actions",children:[N(j.scheduledTime)?i.jsx("button",{className:"btn-join",onClick:()=>w(j.id),children:"Join Call"}):i.jsx("button",{className:"btn-join disabled",disabled:!0,children:"Not Yet Available"}),i.jsx("button",{className:"btn-reschedule",children:"Reschedule"})]})]},j.id))})]}),i.jsxs("div",{className:"call-history-section",children:[i.jsx("h2",{children:"Call History"}),a.length===0?i.jsx("div",{className:"no-data",children:i.jsx("p",{children:"No previous video calls"})}):i.jsx("div",{className:"history-table",children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Doctor"}),i.jsx("th",{children:"Specialty"}),i.jsx("th",{children:"Date"}),i.jsx("th",{children:"Duration"}),i.jsx("th",{children:"Type"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Recording"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:a.map(j=>i.jsxs("tr",{children:[i.jsx("td",{children:j.doctorName}),i.jsx("td",{children:j.specialty}),i.jsx("td",{children:S(j.date)}),i.jsx("td",{children:j.duration}),i.jsx("td",{children:j.type}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${j.status}`,children:j.status})}),i.jsx("td",{children:j.recording==="available"?i.jsx("button",{className:"btn-small",children:"View"}):i.jsx("span",{className:"not-available",children:"N/A"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-small",children:"Book Follow-up"})})]},j.id))})]})})]})]})};const t2=()=>{const[e,t]=E.useState("profile"),[n,r]=E.useState(!1),[s,a]=E.useState(""),[o,l]=E.useState({firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"+1 (555) 123-4567",dateOfBirth:"1990-05-15",gender:"male",address:"123 Main St",city:"New York",state:"NY",zipCode:"10001",emergencyContact:"Jane Doe",emergencyPhone:"+1 (555) 987-6543"}),[c,u]=E.useState({bloodType:"O+",allergies:"Penicillin, Shellfish",medications:"Lisinopril 10mg daily",medicalConditions:"Hypertension",primaryDoctor:"Dr. Sarah Johnson",insurance:"Blue Cross Blue Shield",policyNumber:"BC123456789"}),[p,g]=E.useState({appointmentReminders:!0,emailNotifications:!0,smsNotifications:!1,medicationReminders:!0,healthTips:!0,marketingEmails:!1}),[w,S]=E.useState({shareDataWithDoctors:!0,allowDataAnalytics:!1,shareWithInsurance:!0,publicProfile:!1}),[N,j]=E.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorAuth:!1}),m=(x,k)=>{l(D=>({...D,[x]:k}))},d=(x,k)=>{u(D=>({...D,[x]:k}))},f=(x,k)=>{g(D=>({...D,[x]:k}))},y=(x,k)=>{S(D=>({...D,[x]:k}))},b=(x,k)=>{j(D=>({...D,[x]:k}))},C=async x=>{try{r(!0),await new Promise(k=>setTimeout(k,1e3)),a(`${x} settings saved successfully!`),setTimeout(()=>a(""),3e3),x==="security"&&j(k=>({...k,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(k){a("Error saving settings. Please try again."),console.error("Error saving settings:",k)}finally{r(!1)}},A=[{id:"profile",label:"Profile",icon:"👤"},{id:"medical",label:"Medical Info",icon:"🏥"},{id:"notifications",label:"Notifications",icon:"🔔"},{id:"privacy",label:"Privacy",icon:"🔒"},{id:"security",label:"Security",icon:"🛡️"}];return i.jsxs("div",{className:"patient-settings-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"Settings"}),i.jsx("p",{children:"Manage your account preferences and information"})]}),s&&i.jsx("div",{className:`save-message ${s.includes("Error")?"error":"success"}`,children:s}),i.jsxs("div",{className:"settings-container",children:[i.jsx("div",{className:"settings-tabs",children:A.map(x=>i.jsxs("button",{className:`tab-button ${e===x.id?"active":""}`,onClick:()=>t(x.id),children:[i.jsx("span",{className:"tab-icon",children:x.icon}),x.label]},x.id))}),i.jsxs("div",{className:"settings-content",children:[e==="profile"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Profile Information"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("profile")},children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"First Name"}),i.jsx("input",{type:"text",value:o.firstName,onChange:x=>m("firstName",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Last Name"}),i.jsx("input",{type:"text",value:o.lastName,onChange:x=>m("lastName",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email"}),i.jsx("input",{type:"email",value:o.email,onChange:x=>m("email",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Phone"}),i.jsx("input",{type:"tel",value:o.phone,onChange:x=>m("phone",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Date of Birth"}),i.jsx("input",{type:"date",value:o.dateOfBirth,onChange:x=>m("dateOfBirth",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Gender"}),i.jsxs("select",{value:o.gender,onChange:x=>m("gender",x.target.value),children:[i.jsx("option",{value:"male",children:"Male"}),i.jsx("option",{value:"female",children:"Female"}),i.jsx("option",{value:"other",children:"Other"}),i.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),i.jsx("h3",{children:"Address Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Address"}),i.jsx("input",{type:"text",value:o.address,onChange:x=>m("address",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"City"}),i.jsx("input",{type:"text",value:o.city,onChange:x=>m("city",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"State"}),i.jsx("input",{type:"text",value:o.state,onChange:x=>m("state",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"ZIP Code"}),i.jsx("input",{type:"text",value:o.zipCode,onChange:x=>m("zipCode",x.target.value)})]})]}),i.jsx("h3",{children:"Emergency Contact"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Contact Name"}),i.jsx("input",{type:"text",value:o.emergencyContact,onChange:x=>m("emergencyContact",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Contact Phone"}),i.jsx("input",{type:"tel",value:o.emergencyPhone,onChange:x=>m("emergencyPhone",x.target.value)})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Profile"})]})]}),e==="medical"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Medical Information"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("medical")},children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Blood Type"}),i.jsxs("select",{value:c.bloodType,onChange:x=>d("bloodType",x.target.value),children:[i.jsx("option",{value:"",children:"Select Blood Type"}),i.jsx("option",{value:"A+",children:"A+"}),i.jsx("option",{value:"A-",children:"A-"}),i.jsx("option",{value:"B+",children:"B+"}),i.jsx("option",{value:"B-",children:"B-"}),i.jsx("option",{value:"AB+",children:"AB+"}),i.jsx("option",{value:"AB-",children:"AB-"}),i.jsx("option",{value:"O+",children:"O+"}),i.jsx("option",{value:"O-",children:"O-"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Primary Doctor"}),i.jsx("input",{type:"text",value:c.primaryDoctor,onChange:x=>d("primaryDoctor",x.target.value)})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Allergies"}),i.jsx("textarea",{value:c.allergies,onChange:x=>d("allergies",x.target.value),placeholder:"List any allergies you have..."})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Current Medications"}),i.jsx("textarea",{value:c.medications,onChange:x=>d("medications",x.target.value),placeholder:"List your current medications..."})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{children:"Medical Conditions"}),i.jsx("textarea",{value:c.medicalConditions,onChange:x=>d("medicalConditions",x.target.value),placeholder:"List any medical conditions..."})]})]}),i.jsx("h3",{children:"Insurance Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Insurance Provider"}),i.jsx("input",{type:"text",value:c.insurance,onChange:x=>d("insurance",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Policy Number"}),i.jsx("input",{type:"text",value:c.policyNumber,onChange:x=>d("policyNumber",x.target.value)})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Medical Info"})]})]}),e==="notifications"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Notification Preferences"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("notifications")},children:[i.jsxs("div",{className:"notification-groups",children:[i.jsxs("div",{className:"notification-group",children:[i.jsx("h3",{children:"Appointment Notifications"}),i.jsx("div",{className:"checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.appointmentReminders,onChange:x=>f("appointmentReminders",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Appointment reminders"]})})]}),i.jsxs("div",{className:"notification-group",children:[i.jsx("h3",{children:"Communication Preferences"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.emailNotifications,onChange:x=>f("emailNotifications",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Email notifications"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.smsNotifications,onChange:x=>f("smsNotifications",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"SMS notifications"]})]})]}),i.jsxs("div",{className:"notification-group",children:[i.jsx("h3",{children:"Health & Wellness"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.medicationReminders,onChange:x=>f("medicationReminders",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Medication reminders"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.healthTips,onChange:x=>f("healthTips",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Health tips and articles"]})]})]}),i.jsxs("div",{className:"notification-group",children:[i.jsx("h3",{children:"Marketing"}),i.jsx("div",{className:"checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:p.marketingEmails,onChange:x=>f("marketingEmails",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Marketing emails and promotions"]})})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Preferences"})]})]}),e==="privacy"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Privacy Settings"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("privacy")},children:[i.jsxs("div",{className:"privacy-groups",children:[i.jsxs("div",{className:"privacy-group",children:[i.jsx("h3",{children:"Data Sharing"}),i.jsxs("div",{className:"checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.shareDataWithDoctors,onChange:x=>y("shareDataWithDoctors",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Share medical data with healthcare providers"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.allowDataAnalytics,onChange:x=>y("allowDataAnalytics",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Allow anonymized data for analytics and research"]}),i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.shareWithInsurance,onChange:x=>y("shareWithInsurance",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Share relevant data with insurance providers"]})]})]}),i.jsxs("div",{className:"privacy-group",children:[i.jsx("h3",{children:"Profile Visibility"}),i.jsx("div",{className:"checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:w.publicProfile,onChange:x=>y("publicProfile",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Make profile visible to other patients (name and general info only)"]})})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Save Privacy Settings"})]})]}),e==="security"&&i.jsxs("div",{className:"settings-section",children:[i.jsx("h2",{children:"Security Settings"}),i.jsxs("form",{onSubmit:x=>{x.preventDefault(),C("security")},children:[i.jsxs("div",{className:"security-groups",children:[i.jsxs("div",{className:"security-group",children:[i.jsx("h3",{children:"Change Password"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Current Password"}),i.jsx("input",{type:"password",value:N.currentPassword,onChange:x=>b("currentPassword",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"New Password"}),i.jsx("input",{type:"password",value:N.newPassword,onChange:x=>b("newPassword",x.target.value)})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Confirm New Password"}),i.jsx("input",{type:"password",value:N.confirmPassword,onChange:x=>b("confirmPassword",x.target.value)})]})]})]}),i.jsxs("div",{className:"security-group",children:[i.jsx("h3",{children:"Two-Factor Authentication"}),i.jsx("div",{className:"checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:N.twoFactorAuth,onChange:x=>b("twoFactorAuth",x.target.checked)}),i.jsx("span",{className:"checkmark"}),"Enable two-factor authentication for additional security"]})})]})]}),i.jsx("button",{type:"submit",className:"save-button",disabled:n,children:n?"Saving...":"Update Security"})]})]})]})]})]})};function n2(){return i.jsx(yN,{children:i.jsx(oS,{children:i.jsx(lS,{children:i.jsx(WS,{children:i.jsx(qp,{children:i.jsxs(uN,{children:[i.jsx(ke,{path:"/",element:i.jsx(Yr,{children:i.jsx(HS,{})})}),i.jsx(ke,{path:"/about",element:i.jsx(Yr,{children:i.jsx(yC,{})})}),i.jsx(ke,{path:"/services",element:i.jsx(Yr,{children:i.jsx(xC,{})})}),i.jsx(ke,{path:"/contact",element:i.jsx(Yr,{children:i.jsx(wC,{})})}),i.jsx(ke,{path:"/login",element:i.jsx(Yr,{restricted:!0,children:i.jsx(qS,{})})}),i.jsx(ke,{path:"/register",element:i.jsx(Yr,{restricted:!0,children:i.jsx(YS,{})})}),i.jsx(ke,{path:"/dashboard",element:i.jsx(Ve,{children:i.jsx(iE,{})})}),i.jsx(ke,{path:"/doctors",element:i.jsx(Ve,{children:i.jsx(sE,{})})}),i.jsx(ke,{path:"/doctors/:id",element:i.jsx(Ve,{children:i.jsx(uC,{})})}),i.jsx(ke,{path:"/appointments",element:i.jsx(Ve,{children:i.jsx(oC,{})})}),i.jsx(ke,{path:"/appointments/new",element:i.jsx(Ve,{children:i.jsx(lC,{})})}),i.jsx(ke,{path:"/medical-records",element:i.jsx(Ve,{children:i.jsx(cC,{})})}),i.jsx(ke,{path:"/video-call/:appointmentId",element:i.jsx(Ve,{children:i.jsx(GR,{})})}),i.jsx(ke,{path:"/admin/verifications",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(Hp,{})})}),i.jsx(ke,{path:"/admin/verifications/:doctorId",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(Hp,{})})}),i.jsx(ke,{path:"/admin/users",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(qp,{children:i.jsx(fC,{})})})}),i.jsx(ke,{path:"/admin/reports",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(hC,{})})}),i.jsx(ke,{path:"/admin/doctors",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(QR,{})})}),i.jsx(ke,{path:"/admin/appointments",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(JR,{})})}),i.jsx(ke,{path:"/admin/analytics",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(XR,{})})}),i.jsx(ke,{path:"/admin/settings",element:i.jsx(Ve,{roles:["admin"],children:i.jsx(ZR,{})})}),i.jsx(ke,{path:"/doctor/profile",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(pC,{})})}),i.jsx(ke,{path:"/doctor/availability",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(mC,{})})}),i.jsx(ke,{path:"/doctor/appointments",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(gC,{})})}),i.jsx(ke,{path:"/doctor/patients",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(vC,{})})}),i.jsx(ke,{path:"/video-calls",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(jC,{})})}),i.jsx(ke,{path:"/analytics",element:i.jsx(Ve,{roles:["doctor"],children:i.jsx(bC,{})})}),i.jsx(ke,{path:"/settings",element:i.jsx(Ve,{roles:["doctor","patient"],children:i.jsx(KR,{})})}),i.jsx(ke,{path:"/patient/video-calls",element:i.jsx(Ve,{roles:["patient"],children:i.jsx(e2,{})})}),i.jsx(ke,{path:"/patient/settings",element:i.jsx(Ve,{roles:["patient"],children:i.jsx(t2,{})})}),i.jsx(ke,{path:"*",element:i.jsx(dC,{})})]})})})})})})}vy(document.getElementById("root")).render(i.jsx(E.StrictMode,{children:i.jsx(n2,{})}));
