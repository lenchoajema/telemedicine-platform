{"ast":null,"code":"import NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport NativeEventEmitter from \"react-native-web/dist/exports/NativeEventEmitter\";\nimport EventEmitter from 'react-native/Libraries/vendor/emitter/EventEmitter';\nvar WebRTCModule = NativeModules.WebRTCModule;\nvar nativeEmitter = new NativeEventEmitter(WebRTCModule);\nvar NATIVE_EVENTS = ['peerConnectionSignalingStateChanged', 'peerConnectionStateChanged', 'peerConnectionOnRenegotiationNeeded', 'peerConnectionIceConnectionChanged', 'peerConnectionIceGatheringChanged', 'peerConnectionGotICECandidate', 'peerConnectionDidOpenDataChannel', 'peerConnectionOnRemoveTrack', 'peerConnectionOnTrack', 'dataChannelStateChanged', 'dataChannelReceiveMessage', 'dataChannelDidChangeBufferedAmount', 'mediaStreamTrackMuteChanged', 'mediaStreamTrackEnded'];\nvar eventEmitter = new EventEmitter();\nexport function setupNativeEvents() {\n  var _loop = function _loop(eventName) {\n    nativeEmitter.addListener(eventName, function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      eventEmitter.emit.apply(eventEmitter, [eventName].concat(args));\n    });\n  };\n  for (var eventName of NATIVE_EVENTS) {\n    _loop(eventName);\n  }\n}\nvar _subscriptions = new Map();\nexport function addListener(listener, eventName, eventHandler) {\n  var _subscriptions$get;\n  if (!NATIVE_EVENTS.includes(eventName)) {\n    throw new Error(`Invalid event: ${eventName}`);\n  }\n  if (!_subscriptions.has(listener)) {\n    _subscriptions.set(listener, []);\n  }\n  (_subscriptions$get = _subscriptions.get(listener)) === null || _subscriptions$get === void 0 ? void 0 : _subscriptions$get.push(eventEmitter.addListener(eventName, eventHandler));\n}\nexport function removeListener(listener) {\n  var _subscriptions$get2;\n  (_subscriptions$get2 = _subscriptions.get(listener)) === null || _subscriptions$get2 === void 0 ? void 0 : _subscriptions$get2.forEach(function (sub) {\n    sub.remove();\n  });\n  _subscriptions.delete(listener);\n}","map":{"version":3,"names":["EventEmitter","WebRTCModule","NativeModules","nativeEmitter","NativeEventEmitter","NATIVE_EVENTS","eventEmitter","setupNativeEvents","_loop","eventName","addListener","_len","arguments","length","args","Array","_key","emit","apply","concat","_subscriptions","Map","listener","eventHandler","_subscriptions$get","includes","Error","has","set","get","push","removeListener","_subscriptions$get2","forEach","sub","remove","delete"],"sources":["/workspaces/telemedicine-platform/mobile-app/node_modules/react-native-webrtc/src/EventEmitter.ts"],"sourcesContent":["import { NativeModules, NativeEventEmitter, EmitterSubscription } from 'react-native';\n// @ts-ignore\nimport EventEmitter from 'react-native/Libraries/vendor/emitter/EventEmitter';\n\nconst { WebRTCModule } = NativeModules;\n\n// This emitter is going to be used to listen to all the native events (once) and then\n// re-emit them on a JS-only emitter.\nconst nativeEmitter = new NativeEventEmitter(WebRTCModule);\n\nconst NATIVE_EVENTS = [\n    'peerConnectionSignalingStateChanged',\n    'peerConnectionStateChanged',\n    'peerConnectionOnRenegotiationNeeded',\n    'peerConnectionIceConnectionChanged',\n    'peerConnectionIceGatheringChanged',\n    'peerConnectionGotICECandidate',\n    'peerConnectionDidOpenDataChannel',\n    'peerConnectionOnRemoveTrack',\n    'peerConnectionOnTrack',\n    'dataChannelStateChanged',\n    'dataChannelReceiveMessage',\n    'dataChannelDidChangeBufferedAmount',\n    'mediaStreamTrackMuteChanged',\n    'mediaStreamTrackEnded',\n];\n\nconst eventEmitter = new EventEmitter();\n\nexport function setupNativeEvents() {\n    for (const eventName of NATIVE_EVENTS) {\n        nativeEmitter.addListener(eventName, (...args) => {\n            eventEmitter.emit(eventName, ...args);\n        });\n    }\n}\n\ntype EventHandler = (event: unknown) => void;\ntype Listener = unknown;\n\nconst _subscriptions: Map<Listener, EmitterSubscription[]> = new Map();\n\nexport function addListener(listener: Listener, eventName: string, eventHandler: EventHandler): void {\n    if (!NATIVE_EVENTS.includes(eventName)) {\n        throw new Error(`Invalid event: ${eventName}`);\n    }\n\n    if (!_subscriptions.has(listener)) {\n        _subscriptions.set(listener, []);\n    }\n\n    _subscriptions.get(listener)?.push(eventEmitter.addListener(eventName, eventHandler));\n}\n\nexport function removeListener(listener: Listener): void {\n    _subscriptions.get(listener)?.forEach(sub => {\n        sub.remove();\n    });\n\n    _subscriptions.delete(listener);\n}\n"],"mappings":";;AAEA,OAAOA,YAAY,MAAM,oDAAoD;AAE7E,IAAQC,YAAA,GAAiBC,aAAa,CAA9BD,YAAA;AAIR,IAAME,aAAa,GAAG,IAAIC,kBAAkB,CAACH,YAAY,CAAC;AAE1D,IAAMI,aAAa,GAAG,CAClB,qCAAqC,EACrC,4BAA4B,EAC5B,qCAAqC,EACrC,oCAAoC,EACpC,mCAAmC,EACnC,+BAA+B,EAC/B,kCAAkC,EAClC,6BAA6B,EAC7B,uBAAuB,EACvB,yBAAyB,EACzB,2BAA2B,EAC3B,oCAAoC,EACpC,6BAA6B,EAC7B,uBAAuB,CAC1B;AAED,IAAMC,YAAY,GAAG,IAAIN,YAAY,CAAC,CAAC;AAEvC,OAAO,SAASO,iBAAiBA,CAAA,EAAG;EAAA,IAAAC,KAAA,YAAAA,MAAAC,SAAA,EACO;IACnCN,aAAa,CAACO,WAAW,CAACD,SAAS,EAAE,YAAa;MAAA,SAAAE,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAATC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MACzCV,YAAY,CAACW,IAAI,CAAAC,KAAA,CAAjBZ,YAAY,GAAMG,SAAS,EAAAU,MAAA,CAAKL,IAAI,EAAC;IACzC,CAAC,CAAC;EACN;EAJA,KAAK,IAAML,SAAS,IAAIJ,aAAa;IAAAG,KAAA,CAAAC,SAAA;EAAA;AAKzC;AAKA,IAAMW,cAAoD,GAAG,IAAIC,GAAG,CAAC,CAAC;AAEtE,OAAO,SAASX,WAAWA,CAACY,QAAkB,EAAEb,SAAiB,EAAEc,YAA0B,EAAQ;EAAA,IAAAC,kBAAA;EACjG,IAAI,CAACnB,aAAa,CAACoB,QAAQ,CAAChB,SAAS,CAAC,EAAE;IACpC,MAAM,IAAIiB,KAAK,CAAE,kBAAiBjB,SAAU,EAAC,CAAC;EAClD;EAEA,IAAI,CAACW,cAAc,CAACO,GAAG,CAACL,QAAQ,CAAC,EAAE;IAC/BF,cAAc,CAACQ,GAAG,CAACN,QAAQ,EAAE,EAAE,CAAC;EACpC;EAEA,CAAAE,kBAAA,GAAAJ,cAAc,CAACS,GAAG,CAACP,QAAQ,CAAC,cAAAE,kBAAA,uBAA5BA,kBAAA,CAA8BM,IAAI,CAACxB,YAAY,CAACI,WAAW,CAACD,SAAS,EAAEc,YAAY,CAAC,CAAC;AACzF;AAEA,OAAO,SAASQ,cAAcA,CAACT,QAAkB,EAAQ;EAAA,IAAAU,mBAAA;EACrD,CAAAA,mBAAA,GAAAZ,cAAc,CAACS,GAAG,CAACP,QAAQ,CAAC,cAAAU,mBAAA,uBAA5BA,mBAAA,CAA8BC,OAAO,CAAC,UAAAC,GAAG,EAAI;IACzCA,GAAG,CAACC,MAAM,CAAC,CAAC;EAChB,CAAC,CAAC;EAEFf,cAAc,CAACgB,MAAM,CAACd,QAAQ,CAAC;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}