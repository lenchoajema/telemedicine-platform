{"ast":null,"code":"import { CodedError, Platform } from 'expo-modules-core';\nimport FontObserver from 'fontfaceobserver';\nimport { FontDisplay } from \"./Font.types\";\nfunction getFontFaceStyleSheet() {\n  if (!Platform.isDOMAvailable) {\n    return null;\n  }\n  const styleSheet = getStyleElement();\n  return styleSheet.sheet ? styleSheet.sheet : null;\n}\nfunction getFontFaceRules() {\n  const sheet = getFontFaceStyleSheet();\n  if (sheet) {\n    const rules = [...sheet.cssRules];\n    const items = [];\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i];\n      if (rule instanceof CSSFontFaceRule) {\n        items.push({\n          rule,\n          index: i\n        });\n      }\n    }\n    return items;\n  }\n  return [];\n}\nfunction getFontFaceRulesMatchingResource(fontFamilyName, options) {\n  const rules = getFontFaceRules();\n  return rules.filter(({\n    rule\n  }) => {\n    return rule.style.fontFamily === fontFamilyName && (options && options.display ? options.display === rule.style.fontDisplay : true);\n  });\n}\nexport default {\n  get name() {\n    return 'ExpoFontLoader';\n  },\n  async unloadAllAsync() {\n    if (!Platform.isDOMAvailable) return;\n    const element = document.getElementById(ID);\n    if (element && element instanceof HTMLStyleElement) {\n      document.removeChild(element);\n    }\n  },\n  async unloadAsync(fontFamilyName, options) {\n    const sheet = getFontFaceStyleSheet();\n    if (!sheet) return;\n    const items = getFontFaceRulesMatchingResource(fontFamilyName, options);\n    for (const item of items) {\n      sheet.deleteRule(item.index);\n    }\n  },\n  async loadAsync(fontFamilyName, resource) {\n    if (!Platform.isDOMAvailable) {\n      return;\n    }\n    const canInjectStyle = document.head && typeof document.head.appendChild === 'function';\n    if (!canInjectStyle) {\n      throw new CodedError('ERR_WEB_ENVIRONMENT', `The browser's \\`document.head\\` element doesn't support injecting fonts.`);\n    }\n    const style = _createWebStyle(fontFamilyName, resource);\n    document.head.appendChild(style);\n    if (!isFontLoadingListenerSupported()) {\n      return;\n    }\n    return new FontObserver(fontFamilyName, {\n      display: resource.display\n    }).load();\n  }\n};\nconst ID = 'expo-generated-fonts';\nfunction getStyleElement() {\n  const element = document.getElementById(ID);\n  if (element && element instanceof HTMLStyleElement) {\n    return element;\n  }\n  const styleElement = document.createElement('style');\n  styleElement.id = ID;\n  styleElement.type = 'text/css';\n  return styleElement;\n}\nfunction _createWebStyle(fontFamily, resource) {\n  const fontStyle = `@font-face {\n    font-family: ${fontFamily};\n    src: url(${resource.uri});\n    font-display: ${resource.display || FontDisplay.AUTO};\n  }`;\n  const styleElement = getStyleElement();\n  if (styleElement.styleSheet) {\n    const styleElementIE = styleElement;\n    styleElementIE.styleSheet.cssText = styleElementIE.styleSheet.cssText ? styleElementIE.styleSheet.cssText + fontStyle : fontStyle;\n  } else {\n    const textNode = document.createTextNode(fontStyle);\n    styleElement.appendChild(textNode);\n  }\n  return styleElement;\n}\nfunction isFontLoadingListenerSupported() {\n  const {\n    userAgent\n  } = window.navigator;\n  const isIOS = !!userAgent.match(/iPad|iPhone/i);\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  const isEdge = userAgent.includes('Edge');\n  const isIE = userAgent.includes('Trident');\n  const isFirefox = userAgent.includes('Firefox');\n  return !isSafari && !isIOS && !isEdge && !isIE && !isFirefox;\n}","map":{"version":3,"names":["CodedError","Platform","FontObserver","FontDisplay","getFontFaceStyleSheet","isDOMAvailable","styleSheet","getStyleElement","sheet","getFontFaceRules","rules","cssRules","items","i","length","rule","CSSFontFaceRule","push","index","getFontFaceRulesMatchingResource","fontFamilyName","options","filter","style","fontFamily","display","fontDisplay","name","unloadAllAsync","element","document","getElementById","ID","HTMLStyleElement","removeChild","unloadAsync","item","deleteRule","loadAsync","resource","canInjectStyle","head","appendChild","_createWebStyle","isFontLoadingListenerSupported","load","styleElement","createElement","id","type","fontStyle","uri","AUTO","styleElementIE","cssText","textNode","createTextNode","userAgent","window","navigator","isIOS","match","isSafari","test","isEdge","includes","isIE","isFirefox"],"sources":["/workspaces/telemedicine-platform/mobile-app/node_modules/expo-font/src/ExpoFontLoader.web.ts"],"sourcesContent":["import { CodedError, Platform } from 'expo-modules-core';\nimport FontObserver from 'fontfaceobserver';\n\nimport { UnloadFontOptions } from './Font';\nimport { FontDisplay, FontResource } from './Font.types';\n\nfunction getFontFaceStyleSheet(): CSSStyleSheet | null {\n  if (!Platform.isDOMAvailable) {\n    return null;\n  }\n  const styleSheet = getStyleElement();\n  return styleSheet.sheet ? (styleSheet.sheet as CSSStyleSheet) : null;\n}\n\ntype RuleItem = { rule: CSSFontFaceRule; index: number };\n\nfunction getFontFaceRules(): RuleItem[] {\n  const sheet = getFontFaceStyleSheet();\n  if (sheet) {\n    // @ts-ignore: rule iterator\n    const rules = [...sheet.cssRules];\n\n    const items: RuleItem[] = [];\n\n    for (let i = 0; i < rules.length; i++) {\n      const rule = rules[i];\n      if (rule instanceof CSSFontFaceRule) {\n        items.push({ rule, index: i });\n      }\n    }\n    return items;\n  }\n  return [];\n}\n\nfunction getFontFaceRulesMatchingResource(\n  fontFamilyName: string,\n  options?: UnloadFontOptions\n): RuleItem[] {\n  const rules = getFontFaceRules();\n  return rules.filter(({ rule }) => {\n    return (\n      rule.style.fontFamily === fontFamilyName &&\n      (options && options.display ? options.display === (rule.style as any).fontDisplay : true)\n    );\n  });\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoFontLoader';\n  },\n\n  async unloadAllAsync(): Promise<void> {\n    if (!Platform.isDOMAvailable) return;\n\n    const element = document.getElementById(ID);\n    if (element && element instanceof HTMLStyleElement) {\n      document.removeChild(element);\n    }\n  },\n\n  async unloadAsync(fontFamilyName: string, options?: UnloadFontOptions): Promise<void> {\n    const sheet = getFontFaceStyleSheet();\n    if (!sheet) return;\n    const items = getFontFaceRulesMatchingResource(fontFamilyName, options);\n    for (const item of items) {\n      sheet.deleteRule(item.index);\n    }\n  },\n\n  async loadAsync(fontFamilyName: string, resource: FontResource): Promise<void> {\n    if (!Platform.isDOMAvailable) {\n      return;\n    }\n\n    const canInjectStyle = document.head && typeof document.head.appendChild === 'function';\n    if (!canInjectStyle) {\n      throw new CodedError(\n        'ERR_WEB_ENVIRONMENT',\n        `The browser's \\`document.head\\` element doesn't support injecting fonts.`\n      );\n    }\n\n    const style = _createWebStyle(fontFamilyName, resource);\n    document.head!.appendChild(style);\n\n    if (!isFontLoadingListenerSupported()) {\n      return;\n    }\n\n    return new FontObserver(fontFamilyName, { display: resource.display }).load();\n  },\n};\n\nconst ID = 'expo-generated-fonts';\n\nfunction getStyleElement(): HTMLStyleElement {\n  const element = document.getElementById(ID);\n  if (element && element instanceof HTMLStyleElement) {\n    return element;\n  }\n  const styleElement = document.createElement('style');\n  styleElement.id = ID;\n  styleElement.type = 'text/css';\n  return styleElement;\n}\n\nfunction _createWebStyle(fontFamily: string, resource: FontResource): HTMLStyleElement {\n  const fontStyle = `@font-face {\n    font-family: ${fontFamily};\n    src: url(${resource.uri});\n    font-display: ${resource.display || FontDisplay.AUTO};\n  }`;\n\n  const styleElement = getStyleElement();\n  // @ts-ignore: TypeScript does not define HTMLStyleElement::styleSheet. This is just for IE and\n  // possibly can be removed if it's unnecessary on IE 11.\n  if (styleElement.styleSheet) {\n    const styleElementIE = styleElement as any;\n    styleElementIE.styleSheet.cssText = styleElementIE.styleSheet.cssText\n      ? styleElementIE.styleSheet.cssText + fontStyle\n      : fontStyle;\n  } else {\n    const textNode = document.createTextNode(fontStyle);\n    styleElement.appendChild(textNode);\n  }\n  return styleElement;\n}\n\nfunction isFontLoadingListenerSupported(): boolean {\n  const { userAgent } = window.navigator;\n  // WebKit is broken https://github.com/bramstein/fontfaceobserver/issues/95\n  const isIOS = !!userAgent.match(/iPad|iPhone/i);\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  // Edge is broken https://github.com/bramstein/fontfaceobserver/issues/109#issuecomment-333356795\n  const isEdge = userAgent.includes('Edge');\n  // Internet Explorer\n  const isIE = userAgent.includes('Trident');\n  // Firefox\n  const isFirefox = userAgent.includes('Firefox');\n  return !isSafari && !isIOS && !isEdge && !isIE && !isFirefox;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}