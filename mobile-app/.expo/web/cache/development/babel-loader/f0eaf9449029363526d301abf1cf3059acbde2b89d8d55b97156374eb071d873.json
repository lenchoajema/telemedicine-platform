{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { config } from \"../config\";\nvar API_BASE_URL = config.API_BASE_URL;\nvar ApiClient = function () {\n  function ApiClient() {\n    _classCallCheck(this, ApiClient);\n    this.client = axios.create({\n      baseURL: API_BASE_URL,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    this.client.interceptors.request.use(function () {\n      var _ref = _asyncToGenerator(function* (config) {\n        var token = yield AsyncStorage.getItem('authToken');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), function (error) {\n      return Promise.reject(error);\n    });\n    this.client.interceptors.response.use(function (response) {\n      return response;\n    }, function () {\n      var _ref2 = _asyncToGenerator(function* (error) {\n        var _error$response;\n        if (((_error$response = error.response) == null ? void 0 : _error$response.status) === 401) {\n          yield AsyncStorage.removeItem('authToken');\n          yield AsyncStorage.removeItem('user');\n        }\n        return Promise.reject(error);\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n  return _createClass(ApiClient, [{\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(function* (url) {\n        try {\n          var response = yield this.client.get(url);\n          return {\n            success: true,\n            data: response.data\n          };\n        } catch (error) {\n          var _error$response2, _error$response2$data;\n          return {\n            success: false,\n            error: ((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.error) || error.message || 'An error occurred'\n          };\n        }\n      });\n      function get(_x3) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator(function* (url, data) {\n        try {\n          var response = yield this.client.post(url, data);\n          return {\n            success: true,\n            data: response.data\n          };\n        } catch (error) {\n          var _error$response3, _error$response3$data;\n          return {\n            success: false,\n            error: ((_error$response3 = error.response) == null ? void 0 : (_error$response3$data = _error$response3.data) == null ? void 0 : _error$response3$data.error) || error.message || 'An error occurred'\n          };\n        }\n      });\n      function post(_x4, _x5) {\n        return _post.apply(this, arguments);\n      }\n      return post;\n    }()\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator(function* (url, data) {\n        try {\n          var response = yield this.client.put(url, data);\n          return {\n            success: true,\n            data: response.data\n          };\n        } catch (error) {\n          var _error$response4, _error$response4$data;\n          return {\n            success: false,\n            error: ((_error$response4 = error.response) == null ? void 0 : (_error$response4$data = _error$response4.data) == null ? void 0 : _error$response4$data.error) || error.message || 'An error occurred'\n          };\n        }\n      });\n      function put(_x6, _x7) {\n        return _put.apply(this, arguments);\n      }\n      return put;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator(function* (url) {\n        try {\n          var response = yield this.client.delete(url);\n          return {\n            success: true,\n            data: response.data\n          };\n        } catch (error) {\n          var _error$response5, _error$response5$data;\n          return {\n            success: false,\n            error: ((_error$response5 = error.response) == null ? void 0 : (_error$response5$data = _error$response5.data) == null ? void 0 : _error$response5$data.error) || error.message || 'An error occurred'\n          };\n        }\n      });\n      function _delete(_x8) {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }]);\n}();\nexport var apiClient = new ApiClient();","map":{"version":3,"names":["axios","AsyncStorage","config","API_BASE_URL","ApiClient","_classCallCheck","client","create","baseURL","timeout","headers","interceptors","request","use","_ref","_asyncToGenerator","token","getItem","Authorization","_x","apply","arguments","error","Promise","reject","response","_ref2","_error$response","status","removeItem","_x2","_createClass","key","value","_get","url","get","success","data","_error$response2","_error$response2$data","message","_x3","_post","post","_error$response3","_error$response3$data","_x4","_x5","_put","put","_error$response4","_error$response4$data","_x6","_x7","_delete2","delete","_error$response5","_error$response5$data","_x8","apiClient"],"sources":["/workspaces/telemedicine-platform/mobile-app/src/services/ApiClient.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosResponse } from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { config } from '../config';\n\n// Use your existing backend URL\nconst API_BASE_URL = config.API_BASE_URL;\n\ninterface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  error?: string;\n}\n\nclass ApiClient {\n  private client: AxiosInstance;\n\n  constructor() {\n    this.client = axios.create({\n      baseURL: API_BASE_URL,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Add request interceptor to include auth token\n    this.client.interceptors.request.use(\n      async (config) => {\n        const token = await AsyncStorage.getItem('authToken');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Add response interceptor for error handling\n    this.client.interceptors.response.use(\n      (response) => response,\n      async (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid, logout user\n          await AsyncStorage.removeItem('authToken');\n          await AsyncStorage.removeItem('user');\n          // You might want to navigate to login screen here\n        }\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  async get<T>(url: string): Promise<ApiResponse<T>> {\n    try {\n      const response: AxiosResponse<T> = await this.client.get(url);\n      return {\n        success: true,\n        data: response.data,\n      };\n    } catch (error: any) {\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'An error occurred',\n      };\n    }\n  }\n\n  async post<T>(url: string, data?: any): Promise<ApiResponse<T>> {\n    try {\n      const response: AxiosResponse<T> = await this.client.post(url, data);\n      return {\n        success: true,\n        data: response.data,\n      };\n    } catch (error: any) {\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'An error occurred',\n      };\n    }\n  }\n\n  async put<T>(url: string, data?: any): Promise<ApiResponse<T>> {\n    try {\n      const response: AxiosResponse<T> = await this.client.put(url, data);\n      return {\n        success: true,\n        data: response.data,\n      };\n    } catch (error: any) {\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'An error occurred',\n      };\n    }\n  }\n\n  async delete<T>(url: string): Promise<ApiResponse<T>> {\n    try {\n      const response: AxiosResponse<T> = await this.client.delete(url);\n      return {\n        success: true,\n        data: response.data,\n      };\n    } catch (error: any) {\n      return {\n        success: false,\n        error: error.response?.data?.error || error.message || 'An error occurred',\n      };\n    }\n  }\n}\n\nexport const apiClient = new ApiClient();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}